var tv=e=>{throw TypeError(e)};var $d=(e,t,r)=>t.has(e)||tv("Cannot "+r);var U=(e,t,r)=>($d(e,t,"read from private field"),r?r.call(e):t.get(e)),Ce=(e,t,r)=>t.has(e)?tv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),he=(e,t,r,n)=>($d(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),yt=(e,t,r)=>($d(e,t,"access private method"),r);var Fl=(e,t,r,n)=>({set _(s){he(e,t,s,r)},get _(){return U(e,t,n)}});function EE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Zx={exports:{}},Ou={},e0={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=Symbol.for("react.element"),kE=Symbol.for("react.portal"),TE=Symbol.for("react.fragment"),RE=Symbol.for("react.strict_mode"),AE=Symbol.for("react.profiler"),OE=Symbol.for("react.provider"),IE=Symbol.for("react.context"),ME=Symbol.for("react.forward_ref"),DE=Symbol.for("react.suspense"),$E=Symbol.for("react.memo"),LE=Symbol.for("react.lazy"),rv=Symbol.iterator;function FE(e){return e===null||typeof e!="object"?null:(e=rv&&e[rv]||e["@@iterator"],typeof e=="function"?e:null)}var t0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r0=Object.assign,n0={};function Aa(e,t,r){this.props=e,this.context=t,this.refs=n0,this.updater=r||t0}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Aa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function s0(){}s0.prototype=Aa.prototype;function Ap(e,t,r){this.props=e,this.context=t,this.refs=n0,this.updater=r||t0}var Op=Ap.prototype=new s0;Op.constructor=Ap;r0(Op,Aa.prototype);Op.isPureReactComponent=!0;var nv=Array.isArray,o0=Object.prototype.hasOwnProperty,Ip={current:null},a0={key:!0,ref:!0,__self:!0,__source:!0};function i0(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)o0.call(t,n)&&!a0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ul,type:e,key:a,ref:i,props:s,_owner:Ip.current}}function zE(e,t){return{$$typeof:ul,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mp(e){return typeof e=="object"&&e!==null&&e.$$typeof===ul}function UE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var sv=/\/+/g;function Ld(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UE(""+e.key):t.toString(36)}function vc(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ul:case kE:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Ld(i,0):n,nv(s)?(r="",e!=null&&(r=e.replace(sv,"$&/")+"/"),vc(s,t,r,"",function(u){return u})):s!=null&&(Mp(s)&&(s=zE(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(sv,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",nv(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Ld(a,l);i+=vc(a,t,r,c,s)}else if(c=FE(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Ld(a,l++),i+=vc(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function zl(e,t,r){if(e==null)return e;var n=[],s=0;return vc(e,n,"","",function(a){return t.call(r,a,s++)}),n}function BE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var It={current:null},yc={transition:null},WE={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:yc,ReactCurrentOwner:Ip};function l0(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:zl,forEach:function(e,t,r){zl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zl(e,function(){t++}),t},toArray:function(e){return zl(e,function(t){return t})||[]},only:function(e){if(!Mp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Aa;ye.Fragment=TE;ye.Profiler=AE;ye.PureComponent=Ap;ye.StrictMode=RE;ye.Suspense=DE;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WE;ye.act=l0;ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=r0({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Ip.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)o0.call(t,c)&&!a0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ul,type:e.type,key:s,ref:a,props:n,_owner:i}};ye.createContext=function(e){return e={$$typeof:IE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OE,_context:e},e.Consumer=e};ye.createElement=i0;ye.createFactory=function(e){var t=i0.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:ME,render:e}};ye.isValidElement=Mp;ye.lazy=function(e){return{$$typeof:LE,_payload:{_status:-1,_result:e},_init:BE}};ye.memo=function(e,t){return{$$typeof:$E,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=yc.transition;yc.transition={};try{e()}finally{yc.transition=t}};ye.unstable_act=l0;ye.useCallback=function(e,t){return It.current.useCallback(e,t)};ye.useContext=function(e){return It.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return It.current.useDeferredValue(e)};ye.useEffect=function(e,t){return It.current.useEffect(e,t)};ye.useId=function(){return It.current.useId()};ye.useImperativeHandle=function(e,t,r){return It.current.useImperativeHandle(e,t,r)};ye.useInsertionEffect=function(e,t){return It.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return It.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return It.current.useMemo(e,t)};ye.useReducer=function(e,t,r){return It.current.useReducer(e,t,r)};ye.useRef=function(e){return It.current.useRef(e)};ye.useState=function(e){return It.current.useState(e)};ye.useSyncExternalStore=function(e,t,r){return It.current.useSyncExternalStore(e,t,r)};ye.useTransition=function(){return It.current.useTransition()};ye.version="18.3.1";e0.exports=ye;var f=e0.exports;const V=Xx(f),c0=EE({__proto__:null,default:V},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE=f,HE=Symbol.for("react.element"),qE=Symbol.for("react.fragment"),GE=Object.prototype.hasOwnProperty,KE=VE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YE={key:!0,ref:!0,__self:!0,__source:!0};function u0(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)GE.call(t,n)&&!YE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:HE,type:e,key:a,ref:i,props:s,_owner:KE.current}}Ou.Fragment=qE;Ou.jsx=u0;Ou.jsxs=u0;Zx.exports=Ou;var o=Zx.exports,d0={exports:{}},ur={},f0={exports:{}},h0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,R){var F=C.length;C.push(R);e:for(;0<F;){var A=F-1>>>1,z=C[A];if(0<s(z,R))C[A]=R,C[F]=z,F=A;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var R=C[0],F=C.pop();if(F!==R){C[0]=F;e:for(var A=0,z=C.length,G=z>>>1;A<G;){var ee=2*(A+1)-1,me=C[ee],te=ee+1,K=C[te];if(0>s(me,F))te<z&&0>s(K,me)?(C[A]=K,C[te]=F,A=te):(C[A]=me,C[ee]=F,A=ee);else if(te<z&&0>s(K,F))C[A]=K,C[te]=F,A=te;else break e}}return R}function s(C,R){var F=C.sortIndex-R.sortIndex;return F!==0?F:C.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,p=3,g=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(C){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=C)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function j(C){if(v=!1,x(C),!w)if(r(c)!==null)w=!0,O(N);else{var R=r(u);R!==null&&M(j,R.startTime-C)}}function N(C,R){w=!1,v&&(v=!1,y(P),P=-1),g=!0;var F=p;try{for(x(R),h=r(c);h!==null&&(!(h.expirationTime>R)||C&&!$());){var A=h.callback;if(typeof A=="function"){h.callback=null,p=h.priorityLevel;var z=A(h.expirationTime<=R);R=e.unstable_now(),typeof z=="function"?h.callback=z:h===r(c)&&n(c),x(R)}else n(c);h=r(c)}if(h!==null)var G=!0;else{var ee=r(u);ee!==null&&M(j,ee.startTime-R),G=!1}return G}finally{h=null,p=F,g=!1}}var _=!1,S=null,P=-1,I=5,k=-1;function $(){return!(e.unstable_now()-k<I)}function L(){if(S!==null){var C=e.unstable_now();k=C;var R=!0;try{R=S(!0,C)}finally{R?D():(_=!1,S=null)}}else _=!1}var D;if(typeof m=="function")D=function(){m(L)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,T=E.port2;E.port1.onmessage=L,D=function(){T.postMessage(null)}}else D=function(){b(L,0)};function O(C){S=C,_||(_=!0,D())}function M(C,R){P=b(function(){C(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,O(N))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var F=p;p=R;try{return C()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,R){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=p;p=C;try{return R()}finally{p=F}},e.unstable_scheduleCallback=function(C,R,F){var A=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?A+F:A):F=A,C){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,C={id:d++,callback:R,priorityLevel:C,startTime:F,expirationTime:z,sortIndex:-1},F>A?(C.sortIndex=F,t(u,C),r(c)===null&&C===r(u)&&(v?(y(P),P=-1):v=!0,M(j,F-A))):(C.sortIndex=z,t(c,C),w||g||(w=!0,O(N))),C},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(C){var R=p;return function(){var F=p;p=R;try{return C.apply(this,arguments)}finally{p=F}}}})(h0);f0.exports=h0;var QE=f0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE=f,lr=QE;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p0=new Set,ki={};function ho(e,t){ga(e,t),ga(e+"Capture",t)}function ga(e,t){for(ki[e]=t,e=0;e<t.length;e++)p0.add(t[e])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vf=Object.prototype.hasOwnProperty,XE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ov={},av={};function ZE(e){return Vf.call(av,e)?!0:Vf.call(ov,e)?!1:XE.test(e)?av[e]=!0:(ov[e]=!0,!1)}function eP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tP(e,t,r,n){if(t===null||typeof t>"u"||eP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mt(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new Mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new Mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new Mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new Mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new Mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new Mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new Mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new Mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new Mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dp=/[\-:]([a-z])/g;function $p(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dp,$p);gt[t]=new Mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dp,$p);gt[t]=new Mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dp,$p);gt[t]=new Mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lp(e,t,r,n){var s=gt.hasOwnProperty(t)?gt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tP(t,r,s,n)&&(r=null),n||s===null?ZE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Dn=JE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ul=Symbol.for("react.element"),$o=Symbol.for("react.portal"),Lo=Symbol.for("react.fragment"),Fp=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),m0=Symbol.for("react.provider"),g0=Symbol.for("react.context"),zp=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),Up=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),v0=Symbol.for("react.offscreen"),iv=Symbol.iterator;function qa(e){return e===null||typeof e!="object"?null:(e=iv&&e[iv]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,Fd;function oi(e){if(Fd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fd=t&&t[1]||""}return`
`+Fd+e}var zd=!1;function Ud(e,t){if(!e||zd)return"";zd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{zd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?oi(e):""}function rP(e){switch(e.tag){case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 2:case 15:return e=Ud(e.type,!1),e;case 11:return e=Ud(e.type.render,!1),e;case 1:return e=Ud(e.type,!0),e;default:return""}}function Kf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lo:return"Fragment";case $o:return"Portal";case Hf:return"Profiler";case Fp:return"StrictMode";case qf:return"Suspense";case Gf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case g0:return(e.displayName||"Context")+".Consumer";case m0:return(e._context.displayName||"Context")+".Provider";case zp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Up:return t=e.displayName||null,t!==null?t:Kf(e.type)||"Memo";case Xn:t=e._payload,e=e._init;try{return Kf(e(t))}catch{}}return null}function nP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kf(t);case 8:return t===Fp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function js(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function y0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sP(e){var t=y0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bl(e){e._valueTracker||(e._valueTracker=sP(e))}function x0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=y0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Lc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yf(e,t){var r=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=js(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function w0(e,t){t=t.checked,t!=null&&Lp(e,"checked",t,!1)}function Qf(e,t){w0(e,t);var r=js(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jf(e,t.type,js(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jf(e,t,r){(t!=="number"||Lc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ai=Array.isArray;function Yo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+js(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Xf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(ai(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:js(r)}}function b0(e,t){var r=js(t.value),n=js(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function dv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function j0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?j0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wl,_0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ti(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oP=["Webkit","ms","Moz","O"];Object.keys(fi).forEach(function(e){oP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fi[t]=fi[e]})});function S0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fi.hasOwnProperty(e)&&fi[e]?(""+t).trim():t+"px"}function N0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=S0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var aP=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eh(e,t){if(t){if(aP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function th(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=null;function Bp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nh=null,Qo=null,Jo=null;function fv(e){if(e=hl(e)){if(typeof nh!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Lu(t),nh(e.stateNode,e.type,t))}}function C0(e){Qo?Jo?Jo.push(e):Jo=[e]:Qo=e}function E0(){if(Qo){var e=Qo,t=Jo;if(Jo=Qo=null,fv(e),t)for(e=0;e<t.length;e++)fv(t[e])}}function P0(e,t){return e(t)}function k0(){}var Bd=!1;function T0(e,t,r){if(Bd)return e(t,r);Bd=!0;try{return P0(e,t,r)}finally{Bd=!1,(Qo!==null||Jo!==null)&&(k0(),E0())}}function Ri(e,t){var r=e.stateNode;if(r===null)return null;var n=Lu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var sh=!1;if(kn)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){sh=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{sh=!1}function iP(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var hi=!1,Fc=null,zc=!1,oh=null,lP={onError:function(e){hi=!0,Fc=e}};function cP(e,t,r,n,s,a,i,l,c){hi=!1,Fc=null,iP.apply(lP,arguments)}function uP(e,t,r,n,s,a,i,l,c){if(cP.apply(this,arguments),hi){if(hi){var u=Fc;hi=!1,Fc=null}else throw Error(q(198));zc||(zc=!0,oh=u)}}function po(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function R0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hv(e){if(po(e)!==e)throw Error(q(188))}function dP(e){var t=e.alternate;if(!t){if(t=po(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return hv(s),e;if(a===n)return hv(s),t;a=a.sibling}throw Error(q(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function A0(e){return e=dP(e),e!==null?O0(e):null}function O0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=O0(e);if(t!==null)return t;e=e.sibling}return null}var I0=lr.unstable_scheduleCallback,pv=lr.unstable_cancelCallback,fP=lr.unstable_shouldYield,hP=lr.unstable_requestPaint,Xe=lr.unstable_now,pP=lr.unstable_getCurrentPriorityLevel,Wp=lr.unstable_ImmediatePriority,M0=lr.unstable_UserBlockingPriority,Uc=lr.unstable_NormalPriority,mP=lr.unstable_LowPriority,D0=lr.unstable_IdlePriority,Iu=null,hn=null;function gP(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Iu,e,void 0,(e.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:xP,vP=Math.log,yP=Math.LN2;function xP(e){return e>>>=0,e===0?32:31-(vP(e)/yP|0)|0}var Vl=64,Hl=4194304;function ii(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=ii(l):(a&=i,a!==0&&(n=ii(a)))}else i=r&~s,i!==0?n=ii(i):a!==0&&(n=ii(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-$r(t),s=1<<r,n|=e[r],t&=~s;return n}function wP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-$r(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=wP(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function ah(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $0(){var e=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),e}function Wd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function dl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$r(t),e[t]=r}function jP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-$r(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Vp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-$r(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Pe=0;function L0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F0,Hp,z0,U0,B0,ih=!1,ql=[],fs=null,hs=null,ps=null,Ai=new Map,Oi=new Map,es=[],_P="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mv(e,t){switch(e){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Ai.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(t.pointerId)}}function Ka(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=hl(t),t!==null&&Hp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function SP(e,t,r,n,s){switch(t){case"focusin":return fs=Ka(fs,e,t,r,n,s),!0;case"dragenter":return hs=Ka(hs,e,t,r,n,s),!0;case"mouseover":return ps=Ka(ps,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Ai.set(a,Ka(Ai.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Oi.set(a,Ka(Oi.get(a)||null,e,t,r,n,s)),!0}return!1}function W0(e){var t=Vs(e.target);if(t!==null){var r=po(t);if(r!==null){if(t=r.tag,t===13){if(t=R0(r),t!==null){e.blockedOn=t,B0(e.priority,function(){z0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=lh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);rh=n,r.target.dispatchEvent(n),rh=null}else return t=hl(r),t!==null&&Hp(t),e.blockedOn=r,!1;t.shift()}return!0}function gv(e,t,r){xc(e)&&r.delete(t)}function NP(){ih=!1,fs!==null&&xc(fs)&&(fs=null),hs!==null&&xc(hs)&&(hs=null),ps!==null&&xc(ps)&&(ps=null),Ai.forEach(gv),Oi.forEach(gv)}function Ya(e,t){e.blockedOn===t&&(e.blockedOn=null,ih||(ih=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,NP)))}function Ii(e){function t(s){return Ya(s,e)}if(0<ql.length){Ya(ql[0],e);for(var r=1;r<ql.length;r++){var n=ql[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fs!==null&&Ya(fs,e),hs!==null&&Ya(hs,e),ps!==null&&Ya(ps,e),Ai.forEach(t),Oi.forEach(t),r=0;r<es.length;r++)n=es[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<es.length&&(r=es[0],r.blockedOn===null);)W0(r),r.blockedOn===null&&es.shift()}var Xo=Dn.ReactCurrentBatchConfig,Wc=!0;function CP(e,t,r,n){var s=Pe,a=Xo.transition;Xo.transition=null;try{Pe=1,qp(e,t,r,n)}finally{Pe=s,Xo.transition=a}}function EP(e,t,r,n){var s=Pe,a=Xo.transition;Xo.transition=null;try{Pe=4,qp(e,t,r,n)}finally{Pe=s,Xo.transition=a}}function qp(e,t,r,n){if(Wc){var s=lh(e,t,r,n);if(s===null)Zd(e,t,n,Vc,r),mv(e,n);else if(SP(s,e,t,r,n))n.stopPropagation();else if(mv(e,n),t&4&&-1<_P.indexOf(e)){for(;s!==null;){var a=hl(s);if(a!==null&&F0(a),a=lh(e,t,r,n),a===null&&Zd(e,t,n,Vc,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Zd(e,t,n,null,r)}}var Vc=null;function lh(e,t,r,n){if(Vc=null,e=Bp(n),e=Vs(e),e!==null)if(t=po(e),t===null)e=null;else if(r=t.tag,r===13){if(e=R0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vc=e,null}function V0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pP()){case Wp:return 1;case M0:return 4;case Uc:case mP:return 16;case D0:return 536870912;default:return 16}default:return 16}}var cs=null,Gp=null,wc=null;function H0(){if(wc)return wc;var e,t=Gp,r=t.length,n,s="value"in cs?cs.value:cs.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return wc=s.slice(e,1<n?1-n:void 0)}function bc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function vv(){return!1}function dr(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Gl:vv,this.isPropagationStopped=vv,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),t}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kp=dr(Oa),fl=qe({},Oa,{view:0,detail:0}),PP=dr(fl),Vd,Hd,Qa,Mu=qe({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qa&&(Qa&&e.type==="mousemove"?(Vd=e.screenX-Qa.screenX,Hd=e.screenY-Qa.screenY):Hd=Vd=0,Qa=e),Vd)},movementY:function(e){return"movementY"in e?e.movementY:Hd}}),yv=dr(Mu),kP=qe({},Mu,{dataTransfer:0}),TP=dr(kP),RP=qe({},fl,{relatedTarget:0}),qd=dr(RP),AP=qe({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),OP=dr(AP),IP=qe({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MP=dr(IP),DP=qe({},Oa,{data:0}),xv=dr(DP),$P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FP[e])?!!t[e]:!1}function Yp(){return zP}var UP=qe({},fl,{key:function(e){if(e.key){var t=$P[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yp,charCode:function(e){return e.type==="keypress"?bc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BP=dr(UP),WP=qe({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wv=dr(WP),VP=qe({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yp}),HP=dr(VP),qP=qe({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),GP=dr(qP),KP=qe({},Mu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YP=dr(KP),QP=[9,13,27,32],Qp=kn&&"CompositionEvent"in window,pi=null;kn&&"documentMode"in document&&(pi=document.documentMode);var JP=kn&&"TextEvent"in window&&!pi,q0=kn&&(!Qp||pi&&8<pi&&11>=pi),bv=" ",jv=!1;function G0(e,t){switch(e){case"keyup":return QP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fo=!1;function XP(e,t){switch(e){case"compositionend":return K0(t);case"keypress":return t.which!==32?null:(jv=!0,bv);case"textInput":return e=t.data,e===bv&&jv?null:e;default:return null}}function ZP(e,t){if(Fo)return e==="compositionend"||!Qp&&G0(e,t)?(e=H0(),wc=Gp=cs=null,Fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return q0&&t.locale!=="ko"?null:t.data;default:return null}}var ek={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _v(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ek[e.type]:t==="textarea"}function Y0(e,t,r,n){C0(n),t=Hc(t,"onChange"),0<t.length&&(r=new Kp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var mi=null,Mi=null;function tk(e){aw(e,0)}function Du(e){var t=Bo(e);if(x0(t))return e}function rk(e,t){if(e==="change")return t}var Q0=!1;if(kn){var Gd;if(kn){var Kd="oninput"in document;if(!Kd){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),Kd=typeof Sv.oninput=="function"}Gd=Kd}else Gd=!1;Q0=Gd&&(!document.documentMode||9<document.documentMode)}function Nv(){mi&&(mi.detachEvent("onpropertychange",J0),Mi=mi=null)}function J0(e){if(e.propertyName==="value"&&Du(Mi)){var t=[];Y0(t,Mi,e,Bp(e)),T0(tk,t)}}function nk(e,t,r){e==="focusin"?(Nv(),mi=t,Mi=r,mi.attachEvent("onpropertychange",J0)):e==="focusout"&&Nv()}function sk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(Mi)}function ok(e,t){if(e==="click")return Du(t)}function ak(e,t){if(e==="input"||e==="change")return Du(t)}function ik(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wr=typeof Object.is=="function"?Object.is:ik;function Di(e,t){if(Wr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vf.call(t,s)||!Wr(e[s],t[s]))return!1}return!0}function Cv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ev(e,t){var r=Cv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cv(r)}}function X0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?X0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Z0(){for(var e=window,t=Lc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Lc(e.document)}return t}function Jp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lk(e){var t=Z0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&X0(r.ownerDocument.documentElement,r)){if(n!==null&&Jp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Ev(r,a);var i=Ev(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ck=kn&&"documentMode"in document&&11>=document.documentMode,zo=null,ch=null,gi=null,uh=!1;function Pv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uh||zo==null||zo!==Lc(n)||(n=zo,"selectionStart"in n&&Jp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gi&&Di(gi,n)||(gi=n,n=Hc(ch,"onSelect"),0<n.length&&(t=new Kp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zo)))}function Kl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Uo={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},Yd={},ew={};kn&&(ew=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function $u(e){if(Yd[e])return Yd[e];if(!Uo[e])return e;var t=Uo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ew)return Yd[e]=t[r];return e}var tw=$u("animationend"),rw=$u("animationiteration"),nw=$u("animationstart"),sw=$u("transitionend"),ow=new Map,kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(e,t){ow.set(e,t),ho(t,[e])}for(var Qd=0;Qd<kv.length;Qd++){var Jd=kv[Qd],uk=Jd.toLowerCase(),dk=Jd[0].toUpperCase()+Jd.slice(1);Ps(uk,"on"+dk)}Ps(tw,"onAnimationEnd");Ps(rw,"onAnimationIteration");Ps(nw,"onAnimationStart");Ps("dblclick","onDoubleClick");Ps("focusin","onFocus");Ps("focusout","onBlur");Ps(sw,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fk=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function Tv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,uP(n,t,void 0,e),e.currentTarget=null}function aw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Tv(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Tv(s,l,u),a=c}}}if(zc)throw e=oh,zc=!1,oh=null,e}function $e(e,t){var r=t[mh];r===void 0&&(r=t[mh]=new Set);var n=e+"__bubble";r.has(n)||(iw(t,e,2,!1),r.add(n))}function Xd(e,t,r){var n=0;t&&(n|=4),iw(r,e,n,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function $i(e){if(!e[Yl]){e[Yl]=!0,p0.forEach(function(r){r!=="selectionchange"&&(fk.has(r)||Xd(r,!1,e),Xd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,Xd("selectionchange",!1,t))}}function iw(e,t,r,n){switch(V0(t)){case 1:var s=CP;break;case 4:s=EP;break;default:s=qp}r=s.bind(null,t,r,e),s=void 0,!sh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Zd(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Vs(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}T0(function(){var u=a,d=Bp(r),h=[];e:{var p=ow.get(e);if(p!==void 0){var g=Kp,w=e;switch(e){case"keypress":if(bc(r)===0)break e;case"keydown":case"keyup":g=BP;break;case"focusin":w="focus",g=qd;break;case"focusout":w="blur",g=qd;break;case"beforeblur":case"afterblur":g=qd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=TP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=HP;break;case tw:case rw:case nw:g=OP;break;case sw:g=GP;break;case"scroll":g=PP;break;case"wheel":g=YP;break;case"copy":case"cut":case"paste":g=MP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=wv}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var m=u,x;m!==null;){x=m;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,y!==null&&(j=Ri(m,y),j!=null&&v.push(Li(m,j,x)))),b)break;m=m.return}0<v.length&&(p=new g(p,w,null,r,d),h.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&r!==rh&&(w=r.relatedTarget||r.fromElement)&&(Vs(w)||w[Tn]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=r.relatedTarget||r.toElement,g=u,w=w?Vs(w):null,w!==null&&(b=po(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(v=yv,j="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=wv,j="onPointerLeave",y="onPointerEnter",m="pointer"),b=g==null?p:Bo(g),x=w==null?p:Bo(w),p=new v(j,m+"leave",g,r,d),p.target=b,p.relatedTarget=x,j=null,Vs(d)===u&&(v=new v(y,m+"enter",w,r,d),v.target=x,v.relatedTarget=b,j=v),b=j,g&&w)t:{for(v=g,y=w,m=0,x=v;x;x=So(x))m++;for(x=0,j=y;j;j=So(j))x++;for(;0<m-x;)v=So(v),m--;for(;0<x-m;)y=So(y),x--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=So(v),y=So(y)}v=null}else v=null;g!==null&&Rv(h,p,g,v,!1),w!==null&&b!==null&&Rv(h,b,w,v,!0)}}e:{if(p=u?Bo(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var N=rk;else if(_v(p))if(Q0)N=ak;else{N=sk;var _=nk}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=ok);if(N&&(N=N(e,u))){Y0(h,N,r,d);break e}_&&_(e,p,u),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&Jf(p,"number",p.value)}switch(_=u?Bo(u):window,e){case"focusin":(_v(_)||_.contentEditable==="true")&&(zo=_,ch=u,gi=null);break;case"focusout":gi=ch=zo=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Pv(h,r,d);break;case"selectionchange":if(ck)break;case"keydown":case"keyup":Pv(h,r,d)}var S;if(Qp)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Fo?G0(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(q0&&r.locale!=="ko"&&(Fo||P!=="onCompositionStart"?P==="onCompositionEnd"&&Fo&&(S=H0()):(cs=d,Gp="value"in cs?cs.value:cs.textContent,Fo=!0)),_=Hc(u,P),0<_.length&&(P=new xv(P,e,null,r,d),h.push({event:P,listeners:_}),S?P.data=S:(S=K0(r),S!==null&&(P.data=S)))),(S=JP?XP(e,r):ZP(e,r))&&(u=Hc(u,"onBeforeInput"),0<u.length&&(d=new xv("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}aw(h,t)})}function Li(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ri(e,r),a!=null&&n.unshift(Li(e,a,s)),a=Ri(e,t),a!=null&&n.push(Li(e,a,s))),e=e.return}return n}function So(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rv(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ri(r,a),c!=null&&i.unshift(Li(r,c,l))):s||(c=Ri(r,a),c!=null&&i.push(Li(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var hk=/\r\n?/g,pk=/\u0000|\uFFFD/g;function Av(e){return(typeof e=="string"?e:""+e).replace(hk,`
`).replace(pk,"")}function Ql(e,t,r){if(t=Av(t),Av(e)!==t&&r)throw Error(q(425))}function qc(){}var dh=null,fh=null;function hh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout=="function"?setTimeout:void 0,mk=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,gk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(e){return Ov.resolve(null).then(e).catch(vk)}:ph;function vk(e){setTimeout(function(){throw e})}function ef(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ii(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ii(t)}function ms(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),ln="__reactFiber$"+Ia,Fi="__reactProps$"+Ia,Tn="__reactContainer$"+Ia,mh="__reactEvents$"+Ia,yk="__reactListeners$"+Ia,xk="__reactHandles$"+Ia;function Vs(e){var t=e[ln];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tn]||r[ln]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Iv(e);e!==null;){if(r=e[ln])return r;e=Iv(e)}return t}e=r,r=e.parentNode}return null}function hl(e){return e=e[ln]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Lu(e){return e[Fi]||null}var gh=[],Wo=-1;function ks(e){return{current:e}}function Fe(e){0>Wo||(e.current=gh[Wo],gh[Wo]=null,Wo--)}function Oe(e,t){Wo++,gh[Wo]=e.current,e.current=t}var _s={},Ct=ks(_s),Vt=ks(!1),to=_s;function va(e,t){var r=e.type.contextTypes;if(!r)return _s;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(e){return e=e.childContextTypes,e!=null}function Gc(){Fe(Vt),Fe(Ct)}function Mv(e,t,r){if(Ct.current!==_s)throw Error(q(168));Oe(Ct,t),Oe(Vt,r)}function lw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(q(108,nP(e)||"Unknown",s));return qe({},r,n)}function Kc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,to=Ct.current,Oe(Ct,e),Oe(Vt,Vt.current),!0}function Dv(e,t,r){var n=e.stateNode;if(!n)throw Error(q(169));r?(e=lw(e,t,to),n.__reactInternalMemoizedMergedChildContext=e,Fe(Vt),Fe(Ct),Oe(Ct,e)):Fe(Vt),Oe(Vt,r)}var Sn=null,Fu=!1,tf=!1;function cw(e){Sn===null?Sn=[e]:Sn.push(e)}function wk(e){Fu=!0,cw(e)}function Ts(){if(!tf&&Sn!==null){tf=!0;var e=0,t=Pe;try{var r=Sn;for(Pe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Sn=null,Fu=!1}catch(s){throw Sn!==null&&(Sn=Sn.slice(e+1)),I0(Wp,Ts),s}finally{Pe=t,tf=!1}}return null}var Vo=[],Ho=0,Yc=null,Qc=0,pr=[],mr=0,ro=null,Cn=1,En="";function Ls(e,t){Vo[Ho++]=Qc,Vo[Ho++]=Yc,Yc=e,Qc=t}function uw(e,t,r){pr[mr++]=Cn,pr[mr++]=En,pr[mr++]=ro,ro=e;var n=Cn;e=En;var s=32-$r(n)-1;n&=~(1<<s),r+=1;var a=32-$r(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Cn=1<<32-$r(t)+s|r<<s|n,En=a+e}else Cn=1<<a|r<<s|n,En=e}function Xp(e){e.return!==null&&(Ls(e,1),uw(e,1,0))}function Zp(e){for(;e===Yc;)Yc=Vo[--Ho],Vo[Ho]=null,Qc=Vo[--Ho],Vo[Ho]=null;for(;e===ro;)ro=pr[--mr],pr[mr]=null,En=pr[--mr],pr[mr]=null,Cn=pr[--mr],pr[mr]=null}var ar=null,or=null,Ue=!1,Dr=null;function dw(e,t){var r=gr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $v(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ar=e,or=ms(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ar=e,or=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ro!==null?{id:Cn,overflow:En}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ar=e,or=null,!0):!1;default:return!1}}function vh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yh(e){if(Ue){var t=or;if(t){var r=t;if(!$v(e,t)){if(vh(e))throw Error(q(418));t=ms(r.nextSibling);var n=ar;t&&$v(e,t)?dw(n,r):(e.flags=e.flags&-4097|2,Ue=!1,ar=e)}}else{if(vh(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ue=!1,ar=e}}}function Lv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ar=e}function Jl(e){if(e!==ar)return!1;if(!Ue)return Lv(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hh(e.type,e.memoizedProps)),t&&(t=or)){if(vh(e))throw fw(),Error(q(418));for(;t;)dw(e,t),t=ms(t.nextSibling)}if(Lv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){or=ms(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}or=null}}else or=ar?ms(e.stateNode.nextSibling):null;return!0}function fw(){for(var e=or;e;)e=ms(e.nextSibling)}function ya(){or=ar=null,Ue=!1}function em(e){Dr===null?Dr=[e]:Dr.push(e)}var bk=Dn.ReactCurrentBatchConfig;function Ja(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function Xl(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fv(e){var t=e._init;return t(e._payload)}function hw(e){function t(y,m){if(e){var x=y.deletions;x===null?(y.deletions=[m],y.flags|=16):x.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=xs(y,m),y.index=0,y.sibling=null,y}function a(y,m,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<m?(y.flags|=2,m):x):(y.flags|=2,m)):(y.flags|=1048576,m)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,m,x,j){return m===null||m.tag!==6?(m=cf(x,y.mode,j),m.return=y,m):(m=s(m,x),m.return=y,m)}function c(y,m,x,j){var N=x.type;return N===Lo?d(y,m,x.props.children,j,x.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xn&&Fv(N)===m.type)?(j=s(m,x.props),j.ref=Ja(y,m,x),j.return=y,j):(j=Pc(x.type,x.key,x.props,null,y.mode,j),j.ref=Ja(y,m,x),j.return=y,j)}function u(y,m,x,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=uf(x,y.mode,j),m.return=y,m):(m=s(m,x.children||[]),m.return=y,m)}function d(y,m,x,j,N){return m===null||m.tag!==7?(m=Zs(x,y.mode,j,N),m.return=y,m):(m=s(m,x),m.return=y,m)}function h(y,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=cf(""+m,y.mode,x),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ul:return x=Pc(m.type,m.key,m.props,null,y.mode,x),x.ref=Ja(y,null,m),x.return=y,x;case $o:return m=uf(m,y.mode,x),m.return=y,m;case Xn:var j=m._init;return h(y,j(m._payload),x)}if(ai(m)||qa(m))return m=Zs(m,y.mode,x,null),m.return=y,m;Xl(y,m)}return null}function p(y,m,x,j){var N=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:l(y,m,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ul:return x.key===N?c(y,m,x,j):null;case $o:return x.key===N?u(y,m,x,j):null;case Xn:return N=x._init,p(y,m,N(x._payload),j)}if(ai(x)||qa(x))return N!==null?null:d(y,m,x,j,null);Xl(y,x)}return null}function g(y,m,x,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(x)||null,l(m,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ul:return y=y.get(j.key===null?x:j.key)||null,c(m,y,j,N);case $o:return y=y.get(j.key===null?x:j.key)||null,u(m,y,j,N);case Xn:var _=j._init;return g(y,m,x,_(j._payload),N)}if(ai(j)||qa(j))return y=y.get(x)||null,d(m,y,j,N,null);Xl(m,j)}return null}function w(y,m,x,j){for(var N=null,_=null,S=m,P=m=0,I=null;S!==null&&P<x.length;P++){S.index>P?(I=S,S=null):I=S.sibling;var k=p(y,S,x[P],j);if(k===null){S===null&&(S=I);break}e&&S&&k.alternate===null&&t(y,S),m=a(k,m,P),_===null?N=k:_.sibling=k,_=k,S=I}if(P===x.length)return r(y,S),Ue&&Ls(y,P),N;if(S===null){for(;P<x.length;P++)S=h(y,x[P],j),S!==null&&(m=a(S,m,P),_===null?N=S:_.sibling=S,_=S);return Ue&&Ls(y,P),N}for(S=n(y,S);P<x.length;P++)I=g(S,y,P,x[P],j),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?P:I.key),m=a(I,m,P),_===null?N=I:_.sibling=I,_=I);return e&&S.forEach(function($){return t(y,$)}),Ue&&Ls(y,P),N}function v(y,m,x,j){var N=qa(x);if(typeof N!="function")throw Error(q(150));if(x=N.call(x),x==null)throw Error(q(151));for(var _=N=null,S=m,P=m=0,I=null,k=x.next();S!==null&&!k.done;P++,k=x.next()){S.index>P?(I=S,S=null):I=S.sibling;var $=p(y,S,k.value,j);if($===null){S===null&&(S=I);break}e&&S&&$.alternate===null&&t(y,S),m=a($,m,P),_===null?N=$:_.sibling=$,_=$,S=I}if(k.done)return r(y,S),Ue&&Ls(y,P),N;if(S===null){for(;!k.done;P++,k=x.next())k=h(y,k.value,j),k!==null&&(m=a(k,m,P),_===null?N=k:_.sibling=k,_=k);return Ue&&Ls(y,P),N}for(S=n(y,S);!k.done;P++,k=x.next())k=g(S,y,P,k.value,j),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?P:k.key),m=a(k,m,P),_===null?N=k:_.sibling=k,_=k);return e&&S.forEach(function(L){return t(y,L)}),Ue&&Ls(y,P),N}function b(y,m,x,j){if(typeof x=="object"&&x!==null&&x.type===Lo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ul:e:{for(var N=x.key,_=m;_!==null;){if(_.key===N){if(N=x.type,N===Lo){if(_.tag===7){r(y,_.sibling),m=s(_,x.props.children),m.return=y,y=m;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xn&&Fv(N)===_.type){r(y,_.sibling),m=s(_,x.props),m.ref=Ja(y,_,x),m.return=y,y=m;break e}r(y,_);break}else t(y,_);_=_.sibling}x.type===Lo?(m=Zs(x.props.children,y.mode,j,x.key),m.return=y,y=m):(j=Pc(x.type,x.key,x.props,null,y.mode,j),j.ref=Ja(y,m,x),j.return=y,y=j)}return i(y);case $o:e:{for(_=x.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){r(y,m.sibling),m=s(m,x.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=uf(x,y.mode,j),m.return=y,y=m}return i(y);case Xn:return _=x._init,b(y,m,_(x._payload),j)}if(ai(x))return w(y,m,x,j);if(qa(x))return v(y,m,x,j);Xl(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,x),m.return=y,y=m):(r(y,m),m=cf(x,y.mode,j),m.return=y,y=m),i(y)):r(y,m)}return b}var xa=hw(!0),pw=hw(!1),Jc=ks(null),Xc=null,qo=null,tm=null;function rm(){tm=qo=Xc=null}function nm(e){var t=Jc.current;Fe(Jc),e._currentValue=t}function xh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zo(e,t){Xc=e,tm=qo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bt=!0),e.firstContext=null)}function _r(e){var t=e._currentValue;if(tm!==e)if(e={context:e,memoizedValue:t,next:null},qo===null){if(Xc===null)throw Error(q(308));qo=e,Xc.dependencies={lanes:0,firstContext:e}}else qo=qo.next=e;return t}var Hs=null;function sm(e){Hs===null?Hs=[e]:Hs.push(e)}function mw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,sm(t)):(r.next=s.next,s.next=r),t.interleaved=r,Rn(e,n)}function Rn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zn=!1;function om(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Rn(e,r)}return s=n.interleaved,s===null?(t.next=t,sm(n)):(t.next=s.next,s.next=t),n.interleaved=t,Rn(e,r)}function jc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vp(e,r)}}function zv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zc(e,t,r,n){var s=e.updateQueue;Zn=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;i=0,d=u=c=null,l=a;do{var p=l.lane,g=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(p=t,g=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(g,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(g,h,p):w,p==null)break e;h=qe({},h,p);break e;case 2:Zn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);so|=i,e.lanes=i,e.memoizedState=h}}function Uv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(q(191,s));s.call(n)}}}var pl={},pn=ks(pl),zi=ks(pl),Ui=ks(pl);function qs(e){if(e===pl)throw Error(q(174));return e}function am(e,t){switch(Oe(Ui,t),Oe(zi,e),Oe(pn,pl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zf(t,e)}Fe(pn),Oe(pn,t)}function wa(){Fe(pn),Fe(zi),Fe(Ui)}function vw(e){qs(Ui.current);var t=qs(pn.current),r=Zf(t,e.type);t!==r&&(Oe(zi,e),Oe(pn,r))}function im(e){zi.current===e&&(Fe(pn),Fe(zi))}var We=ks(0);function eu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rf=[];function lm(){for(var e=0;e<rf.length;e++)rf[e]._workInProgressVersionPrimary=null;rf.length=0}var _c=Dn.ReactCurrentDispatcher,nf=Dn.ReactCurrentBatchConfig,no=0,Ve=null,it=null,ut=null,tu=!1,vi=!1,Bi=0,jk=0;function xt(){throw Error(q(321))}function cm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Wr(e[r],t[r]))return!1;return!0}function um(e,t,r,n,s,a){if(no=a,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_c.current=e===null||e.memoizedState===null?Ck:Ek,e=r(n,s),vi){a=0;do{if(vi=!1,Bi=0,25<=a)throw Error(q(301));a+=1,ut=it=null,t.updateQueue=null,_c.current=Pk,e=r(n,s)}while(vi)}if(_c.current=ru,t=it!==null&&it.next!==null,no=0,ut=it=Ve=null,tu=!1,t)throw Error(q(300));return e}function dm(){var e=Bi!==0;return Bi=0,e}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ve.memoizedState=ut=e:ut=ut.next=e,ut}function Sr(){if(it===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=ut===null?Ve.memoizedState:ut.next;if(t!==null)ut=t,it=e;else{if(e===null)throw Error(q(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?Ve.memoizedState=ut=e:ut=ut.next=e}return ut}function Wi(e,t){return typeof t=="function"?t(e):t}function sf(e){var t=Sr(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=it,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((no&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,i=n):c=c.next=h,Ve.lanes|=d,so|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,Wr(n,t.memoizedState)||(Bt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Ve.lanes|=a,so|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function of(e){var t=Sr(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Wr(a,t.memoizedState)||(Bt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function yw(){}function xw(e,t){var r=Ve,n=Sr(),s=t(),a=!Wr(n.memoizedState,s);if(a&&(n.memoizedState=s,Bt=!0),n=n.queue,fm(jw.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ut!==null&&ut.memoizedState.tag&1){if(r.flags|=2048,Vi(9,bw.bind(null,r,n,s,t),void 0,null),dt===null)throw Error(q(349));no&30||ww(r,t,s)}return s}function ww(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bw(e,t,r,n){t.value=r,t.getSnapshot=n,_w(t)&&Sw(e)}function jw(e,t,r){return r(function(){_w(t)&&Sw(e)})}function _w(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Wr(e,r)}catch{return!0}}function Sw(e){var t=Rn(e,1);t!==null&&Lr(t,e,1,-1)}function Bv(e){var t=rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},t.queue=e,e=e.dispatch=Nk.bind(null,Ve,e),[t.memoizedState,e]}function Vi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Nw(){return Sr().memoizedState}function Sc(e,t,r,n){var s=rn();Ve.flags|=e,s.memoizedState=Vi(1|t,r,void 0,n===void 0?null:n)}function zu(e,t,r,n){var s=Sr();n=n===void 0?null:n;var a=void 0;if(it!==null){var i=it.memoizedState;if(a=i.destroy,n!==null&&cm(n,i.deps)){s.memoizedState=Vi(t,r,a,n);return}}Ve.flags|=e,s.memoizedState=Vi(1|t,r,a,n)}function Wv(e,t){return Sc(8390656,8,e,t)}function fm(e,t){return zu(2048,8,e,t)}function Cw(e,t){return zu(4,2,e,t)}function Ew(e,t){return zu(4,4,e,t)}function Pw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kw(e,t,r){return r=r!=null?r.concat([e]):null,zu(4,4,Pw.bind(null,t,e),r)}function hm(){}function Tw(e,t){var r=Sr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Rw(e,t){var r=Sr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&cm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Aw(e,t,r){return no&21?(Wr(r,t)||(r=$0(),Ve.lanes|=r,so|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=r)}function _k(e,t){var r=Pe;Pe=r!==0&&4>r?r:4,e(!0);var n=nf.transition;nf.transition={};try{e(!1),t()}finally{Pe=r,nf.transition=n}}function Ow(){return Sr().memoizedState}function Sk(e,t,r){var n=ys(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Iw(e))Mw(t,r);else if(r=mw(e,t,r,n),r!==null){var s=Ot();Lr(r,e,n,s),Dw(r,t,n)}}function Nk(e,t,r){var n=ys(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Iw(e))Mw(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,Wr(l,i)){var c=t.interleaved;c===null?(s.next=s,sm(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=mw(e,t,s,n),r!==null&&(s=Ot(),Lr(r,e,n,s),Dw(r,t,n))}}function Iw(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function Mw(e,t){vi=tu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Dw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Vp(e,r)}}var ru={readContext:_r,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Ck={readContext:_r,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:_r,useEffect:Wv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Sc(4194308,4,Pw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Sc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sc(4,2,e,t)},useMemo:function(e,t){var r=rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Sk.bind(null,Ve,e),[n.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:Bv,useDebugValue:hm,useDeferredValue:function(e){return rn().memoizedState=e},useTransition:function(){var e=Bv(!1),t=e[0];return e=_k.bind(null,e[1]),rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ve,s=rn();if(Ue){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),dt===null)throw Error(q(349));no&30||ww(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Wv(jw.bind(null,n,a,e),[e]),n.flags|=2048,Vi(9,bw.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=rn(),t=dt.identifierPrefix;if(Ue){var r=En,n=Cn;r=(n&~(1<<32-$r(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ek={readContext:_r,useCallback:Tw,useContext:_r,useEffect:fm,useImperativeHandle:kw,useInsertionEffect:Cw,useLayoutEffect:Ew,useMemo:Rw,useReducer:sf,useRef:Nw,useState:function(){return sf(Wi)},useDebugValue:hm,useDeferredValue:function(e){var t=Sr();return Aw(t,it.memoizedState,e)},useTransition:function(){var e=sf(Wi)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:yw,useSyncExternalStore:xw,useId:Ow,unstable_isNewReconciler:!1},Pk={readContext:_r,useCallback:Tw,useContext:_r,useEffect:fm,useImperativeHandle:kw,useInsertionEffect:Cw,useLayoutEffect:Ew,useMemo:Rw,useReducer:of,useRef:Nw,useState:function(){return of(Wi)},useDebugValue:hm,useDeferredValue:function(e){var t=Sr();return it===null?t.memoizedState=e:Aw(t,it.memoizedState,e)},useTransition:function(){var e=of(Wi)[0],t=Sr().memoizedState;return[e,t]},useMutableSource:yw,useSyncExternalStore:xw,useId:Ow,unstable_isNewReconciler:!1};function Rr(e,t){if(e&&e.defaultProps){t=qe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function wh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Uu={isMounted:function(e){return(e=e._reactInternals)?po(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ot(),s=ys(e),a=Pn(n,s);a.payload=t,r!=null&&(a.callback=r),t=gs(e,a,s),t!==null&&(Lr(t,e,s,n),jc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ot(),s=ys(e),a=Pn(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=gs(e,a,s),t!==null&&(Lr(t,e,s,n),jc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ot(),n=ys(e),s=Pn(r,n);s.tag=2,t!=null&&(s.callback=t),t=gs(e,s,n),t!==null&&(Lr(t,e,n,r),jc(t,e,n))}};function Vv(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Di(r,n)||!Di(s,a):!0}function $w(e,t,r){var n=!1,s=_s,a=t.contextType;return typeof a=="object"&&a!==null?a=_r(a):(s=Ht(t)?to:Ct.current,n=t.contextTypes,a=(n=n!=null)?va(e,s):_s),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Uu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Hv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Uu.enqueueReplaceState(t,t.state,null)}function bh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},om(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=_r(a):(a=Ht(t)?to:Ct.current,s.context=va(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(wh(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Uu.enqueueReplaceState(s,s.state,null),Zc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ba(e,t){try{var r="",n=t;do r+=rP(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function af(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kk=typeof WeakMap=="function"?WeakMap:Map;function Lw(e,t,r){r=Pn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){su||(su=!0,Ah=n),jh(e,t)},r}function Fw(e,t,r){r=Pn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){jh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){jh(e,t),typeof n!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function qv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Wk.bind(null,e,t,r),t.then(e,e))}function Gv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pn(-1,1),t.tag=2,gs(r,t,1))),r.lanes|=1),e)}var Tk=Dn.ReactCurrentOwner,Bt=!1;function Tt(e,t,r,n){t.child=e===null?pw(t,null,r,n):xa(t,e.child,r,n)}function Yv(e,t,r,n,s){r=r.render;var a=t.ref;return Zo(t,s),n=um(e,t,r,n,a,s),r=dm(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,An(e,t,s)):(Ue&&r&&Xp(t),t.flags|=1,Tt(e,t,n,s),t.child)}function Qv(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!bm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,zw(e,t,a,n,s)):(e=Pc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Di,r(i,n)&&e.ref===t.ref)return An(e,t,s)}return t.flags|=1,e=xs(a,n),e.ref=t.ref,e.return=t,t.child=e}function zw(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Di(a,n)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Bt=!0);else return t.lanes=e.lanes,An(e,t,s)}return _h(e,t,r,n,s)}function Uw(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Ko,nr),nr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(Ko,nr),nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Oe(Ko,nr),nr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Oe(Ko,nr),nr|=n;return Tt(e,t,s,r),t.child}function Bw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _h(e,t,r,n,s){var a=Ht(r)?to:Ct.current;return a=va(t,a),Zo(t,s),r=um(e,t,r,n,a,s),n=dm(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,An(e,t,s)):(Ue&&n&&Xp(t),t.flags|=1,Tt(e,t,r,s),t.child)}function Jv(e,t,r,n,s){if(Ht(r)){var a=!0;Kc(t)}else a=!1;if(Zo(t,s),t.stateNode===null)Nc(e,t),$w(t,r,n),bh(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=_r(u):(u=Ht(r)?to:Ct.current,u=va(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Hv(t,i,n,u),Zn=!1;var p=t.memoizedState;i.state=p,Zc(t,n,i,s),c=t.memoizedState,l!==n||p!==c||Vt.current||Zn?(typeof d=="function"&&(wh(t,r,d,n),c=t.memoizedState),(l=Zn||Vv(t,r,l,n,p,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,gw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Rr(t.type,l),i.props=u,h=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=_r(c):(c=Ht(r)?to:Ct.current,c=va(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||p!==c)&&Hv(t,i,n,c),Zn=!1,p=t.memoizedState,i.state=p,Zc(t,n,i,s);var w=t.memoizedState;l!==h||p!==w||Vt.current||Zn?(typeof g=="function"&&(wh(t,r,g,n),w=t.memoizedState),(u=Zn||Vv(t,r,u,n,p,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),i.props=n,i.state=w,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Sh(e,t,r,n,a,s)}function Sh(e,t,r,n,s,a){Bw(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Dv(t,r,!1),An(e,t,a);n=t.stateNode,Tk.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,l,a)):Tt(e,t,l,a),t.memoizedState=n.state,s&&Dv(t,r,!0),t.child}function Ww(e){var t=e.stateNode;t.pendingContext?Mv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mv(e,t.context,!1),am(e,t.containerInfo)}function Xv(e,t,r,n,s){return ya(),em(s),t.flags|=256,Tt(e,t,r,n),t.child}var Nh={dehydrated:null,treeContext:null,retryLane:0};function Ch(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vw(e,t,r){var n=t.pendingProps,s=We.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Oe(We,s&1),e===null)return yh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Vu(i,n,0,null),e=Zs(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ch(r),t.memoizedState=Nh,e):pm(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Rk(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=xs(l,a):(a=Zs(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Ch(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Nh,n}return a=e.child,e=a.sibling,n=xs(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function pm(e,t){return t=Vu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zl(e,t,r,n){return n!==null&&em(n),xa(t,e.child,null,r),e=pm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rk(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=af(Error(q(422))),Zl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Vu({mode:"visible",children:n.children},s,0,null),a=Zs(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&xa(t,e.child,null,i),t.child.memoizedState=Ch(i),t.memoizedState=Nh,a);if(!(t.mode&1))return Zl(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(q(419)),n=af(a,n,void 0),Zl(e,t,i,n)}if(l=(i&e.childLanes)!==0,Bt||l){if(n=dt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Rn(e,s),Lr(n,e,s,-1))}return wm(),n=af(Error(q(421))),Zl(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Vk.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,or=ms(s.nextSibling),ar=t,Ue=!0,Dr=null,e!==null&&(pr[mr++]=Cn,pr[mr++]=En,pr[mr++]=ro,Cn=e.id,En=e.overflow,ro=t),t=pm(t,n.children),t.flags|=4096,t)}function Zv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xh(e.return,t,r)}function lf(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Hw(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Tt(e,t,n.children,r),n=We.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zv(e,r,t);else if(e.tag===19)Zv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe(We,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&eu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),lf(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&eu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}lf(t,!0,r,null,a);break;case"together":lf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),so|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=xs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ak(e,t,r){switch(t.tag){case 3:Ww(t),ya();break;case 5:vw(t);break;case 1:Ht(t.type)&&Kc(t);break;case 4:am(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Oe(Jc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe(We,We.current&1),t.flags|=128,null):r&t.child.childLanes?Vw(e,t,r):(Oe(We,We.current&1),e=An(e,t,r),e!==null?e.sibling:null);Oe(We,We.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Hw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(We,We.current),n)break;return null;case 22:case 23:return t.lanes=0,Uw(e,t,r)}return An(e,t,r)}var qw,Eh,Gw,Kw;qw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Eh=function(){};Gw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,qs(pn.current);var a=null;switch(r){case"input":s=Yf(e,s),n=Yf(e,n),a=[];break;case"select":s=qe({},s,{value:void 0}),n=qe({},n,{value:void 0}),a=[];break;case"textarea":s=Xf(e,s),n=Xf(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qc)}eh(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ki.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ki.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&$e("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Kw=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xa(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ok(e,t,r){var n=t.pendingProps;switch(Zp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Ht(t.type)&&Gc(),wt(t),null;case 3:return n=t.stateNode,wa(),Fe(Vt),Fe(Ct),lm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dr!==null&&(Mh(Dr),Dr=null))),Eh(e,t),wt(t),null;case 5:im(t);var s=qs(Ui.current);if(r=t.type,e!==null&&t.stateNode!=null)Gw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(q(166));return wt(t),null}if(e=qs(pn.current),Jl(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ln]=t,n[Fi]=a,e=(t.mode&1)!==0,r){case"dialog":$e("cancel",n),$e("close",n);break;case"iframe":case"object":case"embed":$e("load",n);break;case"video":case"audio":for(s=0;s<li.length;s++)$e(li[s],n);break;case"source":$e("error",n);break;case"img":case"image":case"link":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"input":lv(n,a),$e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},$e("invalid",n);break;case"textarea":uv(n,a),$e("invalid",n)}eh(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ql(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ql(n.textContent,l,e),s=["children",""+l]):ki.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&$e("scroll",n)}switch(r){case"input":Bl(n),cv(n,a,!0);break;case"textarea":Bl(n),dv(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=qc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=j0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ln]=t,e[Fi]=n,qw(e,t,!1,!1),t.stateNode=e;e:{switch(i=th(r,n),r){case"dialog":$e("cancel",e),$e("close",e),s=n;break;case"iframe":case"object":case"embed":$e("load",e),s=n;break;case"video":case"audio":for(s=0;s<li.length;s++)$e(li[s],e);s=n;break;case"source":$e("error",e),s=n;break;case"img":case"image":case"link":$e("error",e),$e("load",e),s=n;break;case"details":$e("toggle",e),s=n;break;case"input":lv(e,n),s=Yf(e,n),$e("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=qe({},n,{value:void 0}),$e("invalid",e);break;case"textarea":uv(e,n),s=Xf(e,n),$e("invalid",e);break;default:s=n}eh(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?N0(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_0(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ti(e,c):typeof c=="number"&&Ti(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ki.hasOwnProperty(a)?c!=null&&a==="onScroll"&&$e("scroll",e):c!=null&&Lp(e,a,c,i))}switch(r){case"input":Bl(e),cv(e,n,!1);break;case"textarea":Bl(e),dv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+js(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Yo(e,!!n.multiple,a,!1):n.defaultValue!=null&&Yo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=qc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)Kw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(q(166));if(r=qs(Ui.current),qs(pn.current),Jl(t)){if(n=t.stateNode,r=t.memoizedProps,n[ln]=t,(a=n.nodeValue!==r)&&(e=ar,e!==null))switch(e.tag){case 3:Ql(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ql(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ln]=t,t.stateNode=n}return wt(t),null;case 13:if(Fe(We),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&or!==null&&t.mode&1&&!(t.flags&128))fw(),ya(),t.flags|=98560,a=!1;else if(a=Jl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(q(317));a[ln]=t}else ya(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),a=!1}else Dr!==null&&(Mh(Dr),Dr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?lt===0&&(lt=3):wm())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return wa(),Eh(e,t),e===null&&$i(t.stateNode.containerInfo),wt(t),null;case 10:return nm(t.type._context),wt(t),null;case 17:return Ht(t.type)&&Gc(),wt(t),null;case 19:if(Fe(We),a=t.memoizedState,a===null)return wt(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Xa(a,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=eu(e),i!==null){for(t.flags|=128,Xa(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe(We,We.current&1|2),t.child}e=e.sibling}a.tail!==null&&Xe()>ja&&(t.flags|=128,n=!0,Xa(a,!1),t.lanes=4194304)}else{if(!n)if(e=eu(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Ue)return wt(t),null}else 2*Xe()-a.renderingStartTime>ja&&r!==1073741824&&(t.flags|=128,n=!0,Xa(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,r=We.current,Oe(We,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return xm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nr&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function Ik(e,t){switch(Zp(t),t.tag){case 1:return Ht(t.type)&&Gc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(),Fe(Vt),Fe(Ct),lm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return im(t),null;case 13:if(Fe(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(We),null;case 4:return wa(),null;case 10:return nm(t.type._context),null;case 22:case 23:return xm(),null;case 24:return null;default:return null}}var ec=!1,jt=!1,Mk=typeof WeakSet=="function"?WeakSet:Set,X=null;function Go(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function Ph(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var ey=!1;function Dk(e,t){if(dh=Wc,e=Z0(),Jp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(l=i+s),h!==a||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===e)break t;if(p===r&&++u===s&&(l=i),p===a&&++d===n&&(c=i),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(fh={focusedElem:e,selectionRange:r},Wc=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Rr(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){Qe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return w=ey,ey=!1,w}function yi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Ph(t,r,a)}s=s.next}while(s!==n)}}function Bu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function kh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Yw(e){var t=e.alternate;t!==null&&(e.alternate=null,Yw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ln],delete t[Fi],delete t[mh],delete t[yk],delete t[xk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qw(e){return e.tag===5||e.tag===3||e.tag===4}function ty(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Th(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qc));else if(n!==4&&(e=e.child,e!==null))for(Th(e,t,r),e=e.sibling;e!==null;)Th(e,t,r),e=e.sibling}function Rh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rh(e,t,r),e=e.sibling;e!==null;)Rh(e,t,r),e=e.sibling}var ht=null,Ir=!1;function Vn(e,t,r){for(r=r.child;r!==null;)Jw(e,t,r),r=r.sibling}function Jw(e,t,r){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Iu,r)}catch{}switch(r.tag){case 5:jt||Go(r,t);case 6:var n=ht,s=Ir;ht=null,Vn(e,t,r),ht=n,Ir=s,ht!==null&&(Ir?(e=ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(Ir?(e=ht,r=r.stateNode,e.nodeType===8?ef(e.parentNode,r):e.nodeType===1&&ef(e,r),Ii(e)):ef(ht,r.stateNode));break;case 4:n=ht,s=Ir,ht=r.stateNode.containerInfo,Ir=!0,Vn(e,t,r),ht=n,Ir=s;break;case 0:case 11:case 14:case 15:if(!jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Ph(r,t,i),s=s.next}while(s!==n)}Vn(e,t,r);break;case 1:if(!jt&&(Go(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}Vn(e,t,r);break;case 21:Vn(e,t,r);break;case 22:r.mode&1?(jt=(n=jt)||r.memoizedState!==null,Vn(e,t,r),jt=n):Vn(e,t,r);break;default:Vn(e,t,r)}}function ry(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Mk),t.forEach(function(n){var s=Hk.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Pr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ht=l.stateNode,Ir=!1;break e;case 3:ht=l.stateNode.containerInfo,Ir=!0;break e;case 4:ht=l.stateNode.containerInfo,Ir=!0;break e}l=l.return}if(ht===null)throw Error(q(160));Jw(a,i,s),ht=null,Ir=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Qe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xw(t,e),t=t.sibling}function Xw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pr(t,e),en(e),n&4){try{yi(3,e,e.return),Bu(3,e)}catch(v){Qe(e,e.return,v)}try{yi(5,e,e.return)}catch(v){Qe(e,e.return,v)}}break;case 1:Pr(t,e),en(e),n&512&&r!==null&&Go(r,r.return);break;case 5:if(Pr(t,e),en(e),n&512&&r!==null&&Go(r,r.return),e.flags&32){var s=e.stateNode;try{Ti(s,"")}catch(v){Qe(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&w0(s,a),th(l,i);var u=th(l,a);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?N0(s,h):d==="dangerouslySetInnerHTML"?_0(s,h):d==="children"?Ti(s,h):Lp(s,d,h,u)}switch(l){case"input":Qf(s,a);break;case"textarea":b0(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Yo(s,!!a.multiple,g,!1):p!==!!a.multiple&&(a.defaultValue!=null?Yo(s,!!a.multiple,a.defaultValue,!0):Yo(s,!!a.multiple,a.multiple?[]:"",!1))}s[Fi]=a}catch(v){Qe(e,e.return,v)}}break;case 6:if(Pr(t,e),en(e),n&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){Qe(e,e.return,v)}}break;case 3:if(Pr(t,e),en(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ii(t.containerInfo)}catch(v){Qe(e,e.return,v)}break;case 4:Pr(t,e),en(e);break;case 13:Pr(t,e),en(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(vm=Xe())),n&4&&ry(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(jt=(u=jt)||d,Pr(t,e),jt=u):Pr(t,e),en(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(h=X=d;X!==null;){switch(p=X,g=p.child,p.tag){case 0:case 11:case 14:case 15:yi(4,p,p.return);break;case 1:Go(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Qe(n,r,v)}}break;case 5:Go(p,p.return);break;case 22:if(p.memoizedState!==null){sy(h);continue}}g!==null?(g.return=p,X=g):sy(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=S0("display",i))}catch(v){Qe(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Qe(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pr(t,e),en(e),n&4&&ry(e);break;case 21:break;default:Pr(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Qw(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ti(s,""),n.flags&=-33);var a=ty(e);Rh(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=ty(e);Th(e,l,i);break;default:throw Error(q(161))}}catch(c){Qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $k(e,t,r){X=e,Zw(e)}function Zw(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var s=X,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||ec;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||jt;l=ec;var u=jt;if(ec=i,(jt=c)&&!u)for(X=s;X!==null;)i=X,c=i.child,i.tag===22&&i.memoizedState!==null?oy(s):c!==null?(c.return=i,X=c):oy(s);for(;a!==null;)X=a,Zw(a),a=a.sibling;X=s,ec=l,jt=u}ny(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,X=a):ny(e)}}function ny(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jt||Bu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!jt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Rr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Uv(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Uv(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ii(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}jt||t.flags&512&&kh(t)}catch(p){Qe(t,t.return,p)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function sy(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function oy(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bu(4,t)}catch(c){Qe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Qe(t,s,c)}}var a=t.return;try{kh(t)}catch(c){Qe(t,a,c)}break;case 5:var i=t.return;try{kh(t)}catch(c){Qe(t,i,c)}}}catch(c){Qe(t,t.return,c)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var Lk=Math.ceil,nu=Dn.ReactCurrentDispatcher,mm=Dn.ReactCurrentOwner,vr=Dn.ReactCurrentBatchConfig,_e=0,dt=null,tt=null,mt=0,nr=0,Ko=ks(0),lt=0,Hi=null,so=0,Wu=0,gm=0,xi=null,zt=null,vm=0,ja=1/0,jn=null,su=!1,Ah=null,vs=null,tc=!1,us=null,ou=0,wi=0,Oh=null,Cc=-1,Ec=0;function Ot(){return _e&6?Xe():Cc!==-1?Cc:Cc=Xe()}function ys(e){return e.mode&1?_e&2&&mt!==0?mt&-mt:bk.transition!==null?(Ec===0&&(Ec=$0()),Ec):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:V0(e.type)),e):1}function Lr(e,t,r,n){if(50<wi)throw wi=0,Oh=null,Error(q(185));dl(e,r,n),(!(_e&2)||e!==dt)&&(e===dt&&(!(_e&2)&&(Wu|=r),lt===4&&ts(e,mt)),qt(e,n),r===1&&_e===0&&!(t.mode&1)&&(ja=Xe()+500,Fu&&Ts()))}function qt(e,t){var r=e.callbackNode;bP(e,t);var n=Bc(e,e===dt?mt:0);if(n===0)r!==null&&pv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&pv(r),t===1)e.tag===0?wk(ay.bind(null,e)):cw(ay.bind(null,e)),gk(function(){!(_e&6)&&Ts()}),r=null;else{switch(L0(n)){case 1:r=Wp;break;case 4:r=M0;break;case 16:r=Uc;break;case 536870912:r=D0;break;default:r=Uc}r=ib(r,eb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function eb(e,t){if(Cc=-1,Ec=0,_e&6)throw Error(q(327));var r=e.callbackNode;if(ea()&&e.callbackNode!==r)return null;var n=Bc(e,e===dt?mt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=au(e,n);else{t=n;var s=_e;_e|=2;var a=rb();(dt!==e||mt!==t)&&(jn=null,ja=Xe()+500,Xs(e,t));do try{Uk();break}catch(l){tb(e,l)}while(!0);rm(),nu.current=a,_e=s,tt!==null?t=0:(dt=null,mt=0,t=lt)}if(t!==0){if(t===2&&(s=ah(e),s!==0&&(n=s,t=Ih(e,s))),t===1)throw r=Hi,Xs(e,0),ts(e,n),qt(e,Xe()),r;if(t===6)ts(e,n);else{if(s=e.current.alternate,!(n&30)&&!Fk(s)&&(t=au(e,n),t===2&&(a=ah(e),a!==0&&(n=a,t=Ih(e,a))),t===1))throw r=Hi,Xs(e,0),ts(e,n),qt(e,Xe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(q(345));case 2:Fs(e,zt,jn);break;case 3:if(ts(e,n),(n&130023424)===n&&(t=vm+500-Xe(),10<t)){if(Bc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ot(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ph(Fs.bind(null,e,zt,jn),t);break}Fs(e,zt,jn);break;case 4:if(ts(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-$r(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=Xe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Lk(n/1960))-n,10<n){e.timeoutHandle=ph(Fs.bind(null,e,zt,jn),n);break}Fs(e,zt,jn);break;case 5:Fs(e,zt,jn);break;default:throw Error(q(329))}}}return qt(e,Xe()),e.callbackNode===r?eb.bind(null,e):null}function Ih(e,t){var r=xi;return e.current.memoizedState.isDehydrated&&(Xs(e,t).flags|=256),e=au(e,t),e!==2&&(t=zt,zt=r,t!==null&&Mh(t)),e}function Mh(e){zt===null?zt=e:zt.push.apply(zt,e)}function Fk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Wr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ts(e,t){for(t&=~gm,t&=~Wu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$r(t),n=1<<r;e[r]=-1,t&=~n}}function ay(e){if(_e&6)throw Error(q(327));ea();var t=Bc(e,0);if(!(t&1))return qt(e,Xe()),null;var r=au(e,t);if(e.tag!==0&&r===2){var n=ah(e);n!==0&&(t=n,r=Ih(e,n))}if(r===1)throw r=Hi,Xs(e,0),ts(e,t),qt(e,Xe()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fs(e,zt,jn),qt(e,Xe()),null}function ym(e,t){var r=_e;_e|=1;try{return e(t)}finally{_e=r,_e===0&&(ja=Xe()+500,Fu&&Ts())}}function oo(e){us!==null&&us.tag===0&&!(_e&6)&&ea();var t=_e;_e|=1;var r=vr.transition,n=Pe;try{if(vr.transition=null,Pe=1,e)return e()}finally{Pe=n,vr.transition=r,_e=t,!(_e&6)&&Ts()}}function xm(){nr=Ko.current,Fe(Ko)}function Xs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mk(r)),tt!==null)for(r=tt.return;r!==null;){var n=r;switch(Zp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gc();break;case 3:wa(),Fe(Vt),Fe(Ct),lm();break;case 5:im(n);break;case 4:wa();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:nm(n.type._context);break;case 22:case 23:xm()}r=r.return}if(dt=e,tt=e=xs(e.current,null),mt=nr=t,lt=0,Hi=null,gm=Wu=so=0,zt=xi=null,Hs!==null){for(t=0;t<Hs.length;t++)if(r=Hs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}Hs=null}return e}function tb(e,t){do{var r=tt;try{if(rm(),_c.current=ru,tu){for(var n=Ve.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}tu=!1}if(no=0,ut=it=Ve=null,vi=!1,Bi=0,mm.current=null,r===null||r.return===null){lt=1,Hi=t,tt=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=mt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Gv(i);if(g!==null){g.flags&=-257,Kv(g,i,l,a,t),g.mode&1&&qv(a,u,t),t=g,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){qv(a,u,t),wm();break e}c=Error(q(426))}}else if(Ue&&l.mode&1){var b=Gv(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Kv(b,i,l,a,t),em(ba(c,l));break e}}a=c=ba(c,l),lt!==4&&(lt=2),xi===null?xi=[a]:xi.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=Lw(a,c,t);zv(a,y);break e;case 1:l=c;var m=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(vs===null||!vs.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Fw(a,l,t);zv(a,j);break e}}a=a.return}while(a!==null)}sb(r)}catch(N){t=N,tt===r&&r!==null&&(tt=r=r.return);continue}break}while(!0)}function rb(){var e=nu.current;return nu.current=ru,e===null?ru:e}function wm(){(lt===0||lt===3||lt===2)&&(lt=4),dt===null||!(so&268435455)&&!(Wu&268435455)||ts(dt,mt)}function au(e,t){var r=_e;_e|=2;var n=rb();(dt!==e||mt!==t)&&(jn=null,Xs(e,t));do try{zk();break}catch(s){tb(e,s)}while(!0);if(rm(),_e=r,nu.current=n,tt!==null)throw Error(q(261));return dt=null,mt=0,lt}function zk(){for(;tt!==null;)nb(tt)}function Uk(){for(;tt!==null&&!fP();)nb(tt)}function nb(e){var t=ab(e.alternate,e,nr);e.memoizedProps=e.pendingProps,t===null?sb(e):tt=t,mm.current=null}function sb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ik(r,t),r!==null){r.flags&=32767,tt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,tt=null;return}}else if(r=Ok(r,t,nr),r!==null){tt=r;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);lt===0&&(lt=5)}function Fs(e,t,r){var n=Pe,s=vr.transition;try{vr.transition=null,Pe=1,Bk(e,t,r,n)}finally{vr.transition=s,Pe=n}return null}function Bk(e,t,r,n){do ea();while(us!==null);if(_e&6)throw Error(q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(jP(e,a),e===dt&&(tt=dt=null,mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tc||(tc=!0,ib(Uc,function(){return ea(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=vr.transition,vr.transition=null;var i=Pe;Pe=1;var l=_e;_e|=4,mm.current=null,Dk(e,r),Xw(r,e),lk(fh),Wc=!!dh,fh=dh=null,e.current=r,$k(r),hP(),_e=l,Pe=i,vr.transition=a}else e.current=r;if(tc&&(tc=!1,us=e,ou=s),a=e.pendingLanes,a===0&&(vs=null),gP(r.stateNode),qt(e,Xe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(su)throw su=!1,e=Ah,Ah=null,e;return ou&1&&e.tag!==0&&ea(),a=e.pendingLanes,a&1?e===Oh?wi++:(wi=0,Oh=e):wi=0,Ts(),null}function ea(){if(us!==null){var e=L0(ou),t=vr.transition,r=Pe;try{if(vr.transition=null,Pe=16>e?16:e,us===null)var n=!1;else{if(e=us,us=null,ou=0,_e&6)throw Error(q(331));var s=_e;for(_e|=4,X=e.current;X!==null;){var a=X,i=a.child;if(X.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:yi(8,d,a)}var h=d.child;if(h!==null)h.return=d,X=h;else for(;X!==null;){d=X;var p=d.sibling,g=d.return;if(Yw(d),d===u){X=null;break}if(p!==null){p.return=g,X=p;break}X=g}}}var w=a.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}X=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,X=i;else e:for(;X!==null;){if(a=X,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yi(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,X=y;break e}X=a.return}}var m=e.current;for(X=m;X!==null;){i=X;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,X=x;else e:for(i=m;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bu(9,l)}}catch(N){Qe(l,l.return,N)}if(l===i){X=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,X=j;break e}X=l.return}}if(_e=s,Ts(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Iu,e)}catch{}n=!0}return n}finally{Pe=r,vr.transition=t}}return!1}function iy(e,t,r){t=ba(r,t),t=Lw(e,t,1),e=gs(e,t,1),t=Ot(),e!==null&&(dl(e,1,t),qt(e,t))}function Qe(e,t,r){if(e.tag===3)iy(e,e,r);else for(;t!==null;){if(t.tag===3){iy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vs===null||!vs.has(n))){e=ba(r,e),e=Fw(t,e,1),t=gs(t,e,1),e=Ot(),t!==null&&(dl(t,1,e),qt(t,e));break}}t=t.return}}function Wk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ot(),e.pingedLanes|=e.suspendedLanes&r,dt===e&&(mt&r)===r&&(lt===4||lt===3&&(mt&130023424)===mt&&500>Xe()-vm?Xs(e,0):gm|=r),qt(e,t)}function ob(e,t){t===0&&(e.mode&1?(t=Hl,Hl<<=1,!(Hl&130023424)&&(Hl=4194304)):t=1);var r=Ot();e=Rn(e,t),e!==null&&(dl(e,t,r),qt(e,r))}function Vk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ob(e,r)}function Hk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(t),ob(e,r)}var ab;ab=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)Bt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Bt=!1,Ak(e,t,r);Bt=!!(e.flags&131072)}else Bt=!1,Ue&&t.flags&1048576&&uw(t,Qc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Nc(e,t),e=t.pendingProps;var s=va(t,Ct.current);Zo(t,r),s=um(null,t,n,e,s,r);var a=dm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(n)?(a=!0,Kc(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,om(t),s.updater=Uu,t.stateNode=s,s._reactInternals=t,bh(t,n,e,r),t=Sh(null,t,n,!0,a,r)):(t.tag=0,Ue&&a&&Xp(t),Tt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Nc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Gk(n),e=Rr(n,e),s){case 0:t=_h(null,t,n,e,r);break e;case 1:t=Jv(null,t,n,e,r);break e;case 11:t=Yv(null,t,n,e,r);break e;case 14:t=Qv(null,t,n,Rr(n.type,e),r);break e}throw Error(q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rr(n,s),_h(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rr(n,s),Jv(e,t,n,s,r);case 3:e:{if(Ww(t),e===null)throw Error(q(387));n=t.pendingProps,a=t.memoizedState,s=a.element,gw(e,t),Zc(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ba(Error(q(423)),t),t=Xv(e,t,n,r,s);break e}else if(n!==s){s=ba(Error(q(424)),t),t=Xv(e,t,n,r,s);break e}else for(or=ms(t.stateNode.containerInfo.firstChild),ar=t,Ue=!0,Dr=null,r=pw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ya(),n===s){t=An(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return vw(t),e===null&&yh(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,hh(n,s)?i=null:a!==null&&hh(n,a)&&(t.flags|=32),Bw(e,t),Tt(e,t,i,r),t.child;case 6:return e===null&&yh(t),null;case 13:return Vw(e,t,r);case 4:return am(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xa(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rr(n,s),Yv(e,t,n,s,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Oe(Jc,n._currentValue),n._currentValue=i,a!==null)if(Wr(a.value,i)){if(a.children===s.children&&!Vt.current){t=An(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Pn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),xh(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(q(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),xh(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Tt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Zo(t,r),s=_r(s),n=n(s),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,s=Rr(n,t.pendingProps),s=Rr(n.type,s),Qv(e,t,n,s,r);case 15:return zw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Rr(n,s),Nc(e,t),t.tag=1,Ht(n)?(e=!0,Kc(t)):e=!1,Zo(t,r),$w(t,n,s),bh(t,n,s,r),Sh(null,t,n,!0,e,r);case 19:return Hw(e,t,r);case 22:return Uw(e,t,r)}throw Error(q(156,t.tag))};function ib(e,t){return I0(e,t)}function qk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(e,t,r,n){return new qk(e,t,r,n)}function bm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gk(e){if(typeof e=="function")return bm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zp)return 11;if(e===Up)return 14}return 2}function xs(e,t){var r=e.alternate;return r===null?(r=gr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pc(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")bm(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Lo:return Zs(r.children,s,a,t);case Fp:i=8,s|=8;break;case Hf:return e=gr(12,r,t,s|2),e.elementType=Hf,e.lanes=a,e;case qf:return e=gr(13,r,t,s),e.elementType=qf,e.lanes=a,e;case Gf:return e=gr(19,r,t,s),e.elementType=Gf,e.lanes=a,e;case v0:return Vu(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case m0:i=10;break e;case g0:i=9;break e;case zp:i=11;break e;case Up:i=14;break e;case Xn:i=16,n=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=gr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Zs(e,t,r,n){return e=gr(7,e,n,t),e.lanes=r,e}function Vu(e,t,r,n){return e=gr(22,e,n,t),e.elementType=v0,e.lanes=r,e.stateNode={isHidden:!1},e}function cf(e,t,r){return e=gr(6,e,null,t),e.lanes=r,e}function uf(e,t,r){return t=gr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kk(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wd(0),this.expirationTimes=Wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jm(e,t,r,n,s,a,i,l,c){return e=new Kk(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=gr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},om(a),e}function Yk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$o,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lb(e){if(!e)return _s;e=e._reactInternals;e:{if(po(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(Ht(r))return lw(e,r,t)}return t}function cb(e,t,r,n,s,a,i,l,c){return e=jm(r,n,!0,e,s,a,i,l,c),e.context=lb(null),r=e.current,n=Ot(),s=ys(r),a=Pn(n,s),a.callback=t??null,gs(r,a,s),e.current.lanes=s,dl(e,s,n),qt(e,n),e}function Hu(e,t,r,n){var s=t.current,a=Ot(),i=ys(s);return r=lb(r),t.context===null?t.context=r:t.pendingContext=r,t=Pn(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gs(s,t,i),e!==null&&(Lr(e,s,i,a),jc(e,s,i)),i}function iu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ly(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _m(e,t){ly(e,t),(e=e.alternate)&&ly(e,t)}function Qk(){return null}var ub=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sm(e){this._internalRoot=e}qu.prototype.render=Sm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Hu(e,t,null,null)};qu.prototype.unmount=Sm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oo(function(){Hu(null,e,null,null)}),t[Tn]=null}};function qu(e){this._internalRoot=e}qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=U0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<es.length&&t!==0&&t<es[r].priority;r++);es.splice(r,0,e),r===0&&W0(e)}};function Nm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cy(){}function Jk(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=iu(i);a.call(u)}}var i=cb(t,n,e,0,null,!1,!1,"",cy);return e._reactRootContainer=i,e[Tn]=i.current,$i(e.nodeType===8?e.parentNode:e),oo(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=iu(c);l.call(u)}}var c=jm(e,0,!1,null,null,!1,!1,"",cy);return e._reactRootContainer=c,e[Tn]=c.current,$i(e.nodeType===8?e.parentNode:e),oo(function(){Hu(t,c,r,n)}),c}function Ku(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=iu(i);l.call(c)}}Hu(t,i,e,s)}else i=Jk(r,t,e,s,n);return iu(i)}F0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ii(t.pendingLanes);r!==0&&(Vp(t,r|1),qt(t,Xe()),!(_e&6)&&(ja=Xe()+500,Ts()))}break;case 13:oo(function(){var n=Rn(e,1);if(n!==null){var s=Ot();Lr(n,e,1,s)}}),_m(e,1)}};Hp=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var r=Ot();Lr(t,e,134217728,r)}_m(e,134217728)}};z0=function(e){if(e.tag===13){var t=ys(e),r=Rn(e,t);if(r!==null){var n=Ot();Lr(r,e,t,n)}_m(e,t)}};U0=function(){return Pe};B0=function(e,t){var r=Pe;try{return Pe=e,t()}finally{Pe=r}};nh=function(e,t,r){switch(t){case"input":if(Qf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Lu(n);if(!s)throw Error(q(90));x0(n),Qf(n,s)}}}break;case"textarea":b0(e,r);break;case"select":t=r.value,t!=null&&Yo(e,!!r.multiple,t,!1)}};P0=ym;k0=oo;var Xk={usingClientEntryPoint:!1,Events:[hl,Bo,Lu,C0,E0,ym]},Za={findFiberByHostInstance:Vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zk={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=A0(e),e===null?null:e.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||Qk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{Iu=rc.inject(Zk),hn=rc}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xk;ur.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nm(t))throw Error(q(200));return Yk(e,t,null,r)};ur.createRoot=function(e,t){if(!Nm(e))throw Error(q(299));var r=!1,n="",s=ub;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jm(e,1,!1,null,null,r,!1,n,s),e[Tn]=t.current,$i(e.nodeType===8?e.parentNode:e),new Sm(t)};ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=A0(t),e=e===null?null:e.stateNode,e};ur.flushSync=function(e){return oo(e)};ur.hydrate=function(e,t,r){if(!Gu(t))throw Error(q(200));return Ku(null,e,t,!0,r)};ur.hydrateRoot=function(e,t,r){if(!Nm(e))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=ub;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=cb(t,null,e,1,r??null,s,!1,a,i),e[Tn]=t.current,$i(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new qu(t)};ur.render=function(e,t,r){if(!Gu(t))throw Error(q(200));return Ku(null,e,t,!1,r)};ur.unmountComponentAtNode=function(e){if(!Gu(e))throw Error(q(40));return e._reactRootContainer?(oo(function(){Ku(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1};ur.unstable_batchedUpdates=ym;ur.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gu(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Ku(e,t,r,!1,n)};ur.version="18.3.1-next-f1338f8080-20240426";function db(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(db)}catch(e){console.error(e)}}db(),d0.exports=ur;var mo=d0.exports;const fb=Xx(mo);var hb,uy=mo;hb=uy.createRoot,uy.hydrateRoot;const eT=1,tT=1e6;let df=0;function rT(){return df=(df+1)%Number.MAX_SAFE_INTEGER,df.toString()}const ff=new Map,dy=e=>{if(ff.has(e))return;const t=setTimeout(()=>{ff.delete(e),bi({type:"REMOVE_TOAST",toastId:e})},tT);ff.set(e,t)},nT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,eT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?dy(r):e.toasts.forEach(n=>{dy(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},kc=[];let Tc={toasts:[]};function bi(e){Tc=nT(Tc,e),kc.forEach(t=>{t(Tc)})}function sT({...e}){const t=rT(),r=s=>bi({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>bi({type:"DISMISS_TOAST",toastId:t});return bi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Xt(){const[e,t]=f.useState(Tc);return f.useEffect(()=>(kc.push(t),()=>{const r=kc.indexOf(t);r>-1&&kc.splice(r,1)}),[e]),{...e,toast:sT,dismiss:r=>bi({type:"DISMISS_TOAST",toastId:r})}}function H(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function oT(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Yu(...e){return t=>e.forEach(r=>oT(r,t))}function ie(...e){return f.useCallback(Yu(...e),e)}function aT(e,t=[]){let r=[];function n(a,i){const l=f.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:p,children:g,...w}=h,v=(p==null?void 0:p[e][c])||l,b=f.useMemo(()=>w,Object.values(w));return o.jsx(v.Provider,{value:b,children:g})}function d(h,p){const g=(p==null?void 0:p[e][c])||l,w=f.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,iT(s,...t)]}function iT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Qt=f.forwardRef((e,t)=>{const{children:r,...n}=e,s=f.Children.toArray(r),a=s.find(lT);if(a){const i=a.props.children,l=s.map(c=>c===a?f.Children.count(i)>1?f.Children.only(null):f.isValidElement(i)?i.props.children:null:c);return o.jsx(Dh,{...n,ref:t,children:f.isValidElement(i)?f.cloneElement(i,void 0,l):null})}return o.jsx(Dh,{...n,ref:t,children:r})});Qt.displayName="Slot";var Dh=f.forwardRef((e,t)=>{const{children:r,...n}=e;if(f.isValidElement(r)){const s=uT(r);return f.cloneElement(r,{...cT(n,r.props),ref:t?Yu(t,s):s})}return f.Children.count(r)>1?f.Children.only(null):null});Dh.displayName="SlotClone";var Cm=({children:e})=>o.jsx(o.Fragment,{children:e});function lT(e){return f.isValidElement(e)&&e.type===Cm}function cT(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function uT(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ml(e){const t=e+"CollectionProvider",[r,n]=aT(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:w,children:v}=g,b=V.useRef(null),y=V.useRef(new Map).current;return o.jsx(s,{scope:w,itemMap:y,collectionRef:b,children:v})};i.displayName=t;const l=e+"CollectionSlot",c=V.forwardRef((g,w)=>{const{scope:v,children:b}=g,y=a(l,v),m=ie(w,y.collectionRef);return o.jsx(Qt,{ref:m,children:b})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=V.forwardRef((g,w)=>{const{scope:v,children:b,...y}=g,m=V.useRef(null),x=ie(w,m),j=a(u,v);return V.useEffect(()=>(j.itemMap.set(m,{ref:m,...y}),()=>void j.itemMap.delete(m))),o.jsx(Qt,{[d]:"",ref:x,children:b})});h.displayName=u;function p(g){const w=a(e+"CollectionConsumer",g);return V.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((j,N)=>y.indexOf(j.ref.current)-y.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},p,n]}function dT(e,t){const r=f.createContext(t),n=a=>{const{children:i,...l}=a,c=f.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=f.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Et(e,t=[]){let r=[];function n(a,i){const l=f.createContext(i),c=r.length;r=[...r,i];const u=h=>{var y;const{scope:p,children:g,...w}=h,v=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,b=f.useMemo(()=>w,Object.values(w));return o.jsx(v.Provider,{value:b,children:g})};u.displayName=a+"Provider";function d(h,p){var v;const g=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,w=f.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,fT(s,...t)]}function fT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var hT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Q=hT.reduce((e,t)=>{const r=f.forwardRef((n,s)=>{const{asChild:a,...i}=n,l=a?Qt:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Em(e,t){e&&mo.flushSync(()=>e.dispatchEvent(t))}function Be(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function pT(e,t=globalThis==null?void 0:globalThis.document){const r=Be(e);f.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var mT="DismissableLayer",$h="dismissableLayer.update",gT="dismissableLayer.pointerDownOutside",vT="dismissableLayer.focusOutside",fy,pb=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),go=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=f.useContext(pb),[d,h]=f.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=f.useState({}),w=ie(t,S=>h(S)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(b),m=d?v.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,j=m>=y,N=xT(S=>{const P=S.target,I=[...u.branches].some(k=>k.contains(P));!j||I||(s==null||s(S),i==null||i(S),S.defaultPrevented||l==null||l())},p),_=wT(S=>{const P=S.target;[...u.branches].some(k=>k.contains(P))||(a==null||a(S),i==null||i(S),S.defaultPrevented||l==null||l())},p);return pT(S=>{m===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},p),f.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fy=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),hy(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=fy)}},[d,p,r,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),hy())},[d,u]),f.useEffect(()=>{const S=()=>g({});return document.addEventListener($h,S),()=>document.removeEventListener($h,S)},[]),o.jsx(Q.div,{...c,ref:w,style:{pointerEvents:x?j?"auto":"none":void 0,...e.style},onFocusCapture:H(e.onFocusCapture,_.onFocusCapture),onBlurCapture:H(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:H(e.onPointerDownCapture,N.onPointerDownCapture)})});go.displayName=mT;var yT="DismissableLayerBranch",mb=f.forwardRef((e,t)=>{const r=f.useContext(pb),n=f.useRef(null),s=ie(t,n);return f.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(Q.div,{...e,ref:s})});mb.displayName=yT;function xT(e,t=globalThis==null?void 0:globalThis.document){const r=Be(e),n=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){gb(gT,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function wT(e,t=globalThis==null?void 0:globalThis.document){const r=Be(e),n=f.useRef(!1);return f.useEffect(()=>{const s=a=>{a.target&&!n.current&&gb(vT,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function hy(){const e=new CustomEvent($h);document.dispatchEvent(e)}function gb(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Em(s,a):s.dispatchEvent(a)}var bT=go,jT=mb,nt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},_T="Portal",Ma=f.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=f.useState(!1);nt(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?fb.createPortal(o.jsx(Q.div,{...n,ref:t}),i):null});Ma.displayName=_T;function ST(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var st=e=>{const{present:t,children:r}=e,n=NT(t),s=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),a=ie(n.ref,CT(s));return typeof r=="function"||n.isPresent?f.cloneElement(s,{ref:a}):null};st.displayName="Presence";function NT(e){const[t,r]=f.useState(),n=f.useRef({}),s=f.useRef(e),a=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=ST(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=nc(n.current);a.current=l==="mounted"?u:"none"},[l]),nt(()=>{const u=n.current,d=s.current;if(d!==e){const p=a.current,g=nc(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),nt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=g=>{const v=nc(n.current).includes(g.animationName);if(g.target===t&&v&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=g=>{g.target===t&&(a.current=nc(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function nc(e){return(e==null?void 0:e.animationName)||"none"}function CT(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Jt({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=ET({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,l=Be(r),c=f.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[a,e,s,l]);return[i,c]}function ET({defaultProp:e,onChange:t}){const r=f.useState(e),[n]=r,s=f.useRef(n),a=Be(t);return f.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var PT="VisuallyHidden",gl=f.forwardRef((e,t)=>o.jsx(Q.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));gl.displayName=PT;var kT=gl,Pm="ToastProvider",[km,TT,RT]=ml("Toast"),[vb,LU]=Et("Toast",[RT]),[AT,Qu]=vb(Pm),yb=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[l,c]=f.useState(null),[u,d]=f.useState(0),h=f.useRef(!1),p=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Pm}\`. Expected non-empty \`string\`.`),o.jsx(km.Provider,{scope:t,children:o.jsx(AT,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>d(g=>g+1),[]),onToastRemove:f.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:i})})};yb.displayName=Pm;var xb="ToastViewport",OT=["F8"],Lh="toast.viewportPause",Fh="toast.viewportResume",wb=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=OT,label:s="Notifications ({hotkey})",...a}=e,i=Qu(xb,r),l=TT(r),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=f.useRef(null),p=ie(t,h,i.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;f.useEffect(()=>{const b=y=>{var x;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),f.useEffect(()=>{const b=c.current,y=h.current;if(w&&b&&y){const m=()=>{if(!i.isClosePausedRef.current){const _=new CustomEvent(Lh);y.dispatchEvent(_),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const _=new CustomEvent(Fh);y.dispatchEvent(_),i.isClosePausedRef.current=!1}},j=_=>{!b.contains(_.relatedTarget)&&x()},N=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",m),b.addEventListener("focusout",j),b.addEventListener("pointermove",m),b.addEventListener("pointerleave",N),window.addEventListener("blur",m),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",m),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",m),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",m),window.removeEventListener("focus",x)}}},[w,i.isClosePausedRef]);const v=f.useCallback(({tabbingDirection:b})=>{const m=l().map(x=>{const j=x.ref.current,N=[j,...qT(j)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?m.reverse():m).flat()},[l]);return f.useEffect(()=>{const b=h.current;if(b){const y=m=>{var N,_,S;const x=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!x){const P=document.activeElement,I=m.shiftKey;if(m.target===b&&I){(N=u.current)==null||N.focus();return}const L=v({tabbingDirection:I?"backwards":"forwards"}),D=L.findIndex(E=>E===P);hf(L.slice(D+1))?m.preventDefault():I?(_=u.current)==null||_.focus():(S=d.current)==null||S.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,v]),o.jsxs(jT,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&o.jsx(zh,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});hf(b)}}),o.jsx(km.Slot,{scope:r,children:o.jsx(Q.ol,{tabIndex:-1,...a,ref:p})}),w&&o.jsx(zh,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});hf(b)}})]})});wb.displayName=xb;var bb="ToastFocusProxy",zh=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=Qu(bb,r);return o.jsx(gl,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});zh.displayName=bb;var Ju="Toast",IT="toast.swipeStart",MT="toast.swipeMove",DT="toast.swipeCancel",$T="toast.swipeEnd",jb=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...i}=e,[l=!0,c]=Jt({prop:n,defaultProp:s,onChange:a});return o.jsx(st,{present:r||l,children:o.jsx(zT,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Be(e.onPause),onResume:Be(e.onResume),onSwipeStart:H(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:H(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:H(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:H(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});jb.displayName=Ju;var[LT,FT]=vb(Ju,{onClose(){}}),zT=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...w}=e,v=Qu(Ju,r),[b,y]=f.useState(null),m=ie(t,E=>y(E)),x=f.useRef(null),j=f.useRef(null),N=s||v.duration,_=f.useRef(0),S=f.useRef(N),P=f.useRef(0),{onToastAdd:I,onToastRemove:k}=v,$=Be(()=>{var T;(b==null?void 0:b.contains(document.activeElement))&&((T=v.viewport)==null||T.focus()),i()}),L=f.useCallback(E=>{!E||E===1/0||(window.clearTimeout(P.current),_.current=new Date().getTime(),P.current=window.setTimeout($,E))},[$]);f.useEffect(()=>{const E=v.viewport;if(E){const T=()=>{L(S.current),u==null||u()},O=()=>{const M=new Date().getTime()-_.current;S.current=S.current-M,window.clearTimeout(P.current),c==null||c()};return E.addEventListener(Lh,O),E.addEventListener(Fh,T),()=>{E.removeEventListener(Lh,O),E.removeEventListener(Fh,T)}}},[v.viewport,N,c,u,L]),f.useEffect(()=>{a&&!v.isClosePausedRef.current&&L(N)},[a,N,v.isClosePausedRef,L]),f.useEffect(()=>(I(),()=>k()),[I,k]);const D=f.useMemo(()=>b?kb(b):null,[b]);return v.viewport?o.jsxs(o.Fragment,{children:[D&&o.jsx(UT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),o.jsx(LT,{scope:r,onClose:$,children:mo.createPortal(o.jsx(km.ItemSlot,{scope:r,children:o.jsx(bT,{asChild:!0,onEscapeKeyDown:H(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||$(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Q.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...w,ref:m,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:H(e.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:H(e.onPointerDown,E=>{E.button===0&&(x.current={x:E.clientX,y:E.clientY})}),onPointerMove:H(e.onPointerMove,E=>{if(!x.current)return;const T=E.clientX-x.current.x,O=E.clientY-x.current.y,M=!!j.current,C=["left","right"].includes(v.swipeDirection),R=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,F=C?R(0,T):0,A=C?0:R(0,O),z=E.pointerType==="touch"?10:2,G={x:F,y:A},ee={originalEvent:E,delta:G};M?(j.current=G,sc(MT,h,ee,{discrete:!1})):py(G,v.swipeDirection,z)?(j.current=G,sc(IT,d,ee,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(T)>z||Math.abs(O)>z)&&(x.current=null)}),onPointerUp:H(e.onPointerUp,E=>{const T=j.current,O=E.target;if(O.hasPointerCapture(E.pointerId)&&O.releasePointerCapture(E.pointerId),j.current=null,x.current=null,T){const M=E.currentTarget,C={originalEvent:E,delta:T};py(T,v.swipeDirection,v.swipeThreshold)?sc($T,g,C,{discrete:!0}):sc(DT,p,C,{discrete:!0}),M.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),UT=e=>{const{__scopeToast:t,children:r,...n}=e,s=Qu(Ju,t),[a,i]=f.useState(!1),[l,c]=f.useState(!1);return VT(()=>i(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Ma,{asChild:!0,children:o.jsx(gl,{...n,children:a&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},BT="ToastTitle",_b=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Q.div,{...n,ref:t})});_b.displayName=BT;var WT="ToastDescription",Sb=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Q.div,{...n,ref:t})});Sb.displayName=WT;var Nb="ToastAction",Cb=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(Pb,{altText:r,asChild:!0,children:o.jsx(Tm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Nb}\`. Expected non-empty \`string\`.`),null)});Cb.displayName=Nb;var Eb="ToastClose",Tm=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=FT(Eb,r);return o.jsx(Pb,{asChild:!0,children:o.jsx(Q.button,{type:"button",...n,ref:t,onClick:H(e.onClick,s.onClose)})})});Tm.displayName=Eb;var Pb=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return o.jsx(Q.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function kb(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),HT(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...kb(n))}}),t}function sc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Em(s,a):s.dispatchEvent(a)}var py=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function VT(e=()=>{}){const t=Be(e);nt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function HT(e){return e.nodeType===e.ELEMENT_NODE}function qT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function hf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var GT=yb,Tb=wb,Rb=jb,Ab=_b,Ob=Sb,Ib=Cb,Mb=Tm;function Db(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Db(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $b(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Db(e))&&(n&&(n+=" "),n+=t);return n}const my=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gy=$b,vo=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return gy(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const p=my(d)||my(h);return s[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...g}=d;return Object.entries(g).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...a,...l}[v]):{...a,...l}[v]===b})?[...u,h,p]:u},[]);return gy(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lb=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>f.createElement("svg",{ref:c,...YT,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Lb("lucide",s),...l},[...i.map(([u,d])=>f.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const r=f.forwardRef(({className:n,...s},a)=>f.createElement(QT,{ref:a,iconNode:t,className:Lb(`lucide-${KT(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=re("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=re("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=re("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=re("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=re("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=re("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=re("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=re("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=re("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=re("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=re("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=re("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Mm="-",y2=e=>{const t=w2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Mm);return l[0]===""&&l.length!==1&&l.shift(),Vb(l,t)||x2(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},Vb=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Vb(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Mm);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},by=/^\[(.+)\]$/,x2=e=>{if(by.test(e)){const t=by.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},w2=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return j2(Object.entries(e.classGroups),r).forEach(([a,i])=>{Vh(i,n,a,t)}),n},Vh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:jy(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(b2(s)){Vh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{Vh(i,jy(t,a),r,n)})})},jy=(e,t)=>{let r=e;return t.split(Mm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},b2=e=>e.isThemeGetter,j2=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,_2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},Hb="!",S2=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===s&&(n||l.slice(b,b+a)===t)){c.push(l.slice(d,b)),d=b+a;continue}if(y==="/"){h=b;continue}}y==="["?u++:y==="]"&&u--}const p=c.length===0?l:l.substring(d),g=p.startsWith(Hb),w=g?p.substring(1):p,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:i}):i},N2=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},C2=e=>({cache:_2(e.cacheSize),parseClassName:S2(e),...y2(e)}),E2=/\s+/,P2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(E2);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=r(u);let w=!!g,v=n(w?p.substring(0,g):p);if(!v){if(!w){l=u+(l.length>0?" "+l:l);continue}if(v=n(p),!v){l=u+(l.length>0?" "+l:l);continue}w=!1}const b=N2(d).join(":"),y=h?b+Hb:b,m=y+v;if(a.includes(m))continue;a.push(m);const x=s(v,w);for(let j=0;j<x.length;++j){const N=x[j];a.push(y+N)}l=u+(l.length>0?" "+l:l)}return l};function k2(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=qb(t))&&(n&&(n+=" "),n+=r);return n}const qb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=qb(e[n]))&&(r&&(r+=" "),r+=t);return r};function T2(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,h)=>h(d),e());return r=C2(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=P2(c,r);return s(c,d),d}return function(){return a(k2.apply(null,arguments))}}const De=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Gb=/^\[(?:([a-z-]+):)?(.+)\]$/i,R2=/^\d+\/\d+$/,A2=new Set(["px","full","screen"]),O2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,I2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,D2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xn=e=>ta(e)||A2.has(e)||R2.test(e),Hn=e=>Da(e,"length",H2),ta=e=>!!e&&!Number.isNaN(Number(e)),gf=e=>Da(e,"number",ta),ei=e=>!!e&&Number.isInteger(Number(e)),L2=e=>e.endsWith("%")&&ta(e.slice(0,-1)),fe=e=>Gb.test(e),qn=e=>O2.test(e),F2=new Set(["length","size","percentage"]),z2=e=>Da(e,F2,Kb),U2=e=>Da(e,"position",Kb),B2=new Set(["image","url"]),W2=e=>Da(e,B2,G2),V2=e=>Da(e,"",q2),ti=()=>!0,Da=(e,t,r)=>{const n=Gb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},H2=e=>I2.test(e)&&!M2.test(e),Kb=()=>!1,q2=e=>D2.test(e),G2=e=>$2.test(e),K2=()=>{const e=De("colors"),t=De("spacing"),r=De("blur"),n=De("brightness"),s=De("borderColor"),a=De("borderRadius"),i=De("borderSpacing"),l=De("borderWidth"),c=De("contrast"),u=De("grayscale"),d=De("hueRotate"),h=De("invert"),p=De("gap"),g=De("gradientColorStops"),w=De("gradientColorStopPositions"),v=De("inset"),b=De("margin"),y=De("opacity"),m=De("padding"),x=De("saturate"),j=De("scale"),N=De("sepia"),_=De("skew"),S=De("space"),P=De("translate"),I=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",fe,t],L=()=>[fe,t],D=()=>["",xn,Hn],E=()=>["auto",ta,fe],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",fe],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[ta,fe];return{cacheSize:500,separator:":",theme:{colors:[ti],spacing:[xn,Hn],blur:["none","",qn,fe],brightness:A(),borderColor:[e],borderRadius:["none","","full",qn,fe],borderSpacing:L(),borderWidth:D(),contrast:A(),grayscale:R(),hueRotate:A(),invert:R(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[L2,Hn],inset:$(),margin:$(),opacity:A(),padding:L(),saturate:A(),scale:A(),sepia:R(),skew:A(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[qn]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),fe]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ei,fe]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",ei,fe]}],"grid-cols":[{"grid-cols":[ti]}],"col-start-end":[{col:["auto",{span:["full",ei,fe]},fe]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[ti]}],"row-start-end":[{row:["auto",{span:[ei,fe]},fe]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,t]}],"min-w":[{"min-w":[fe,t,"min","max","fit"]}],"max-w":[{"max-w":[fe,t,"none","full","min","max","fit","prose",{screen:[qn]},qn]}],h:[{h:[fe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qn,Hn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gf]}],"font-family":[{font:[ti]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",ta,gf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xn,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xn,Hn]}],"underline-offset":[{"underline-offset":["auto",xn,fe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),U2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",z2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[xn,fe]}],"outline-w":[{outline:[xn,Hn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[xn,Hn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qn,V2]}],"shadow-color":[{shadow:[ti]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qn,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ei,fe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xn,Hn,gf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Y2=T2(K2);function W(...e){return Y2($b(e))}const Q2=GT,Yb=f.forwardRef(({className:e,...t},r)=>o.jsx(Tb,{ref:r,className:W("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Yb.displayName=Tb.displayName;const J2=vo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Qb=f.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(Rb,{ref:n,className:W(J2({variant:t}),e),...r}));Qb.displayName=Rb.displayName;const X2=f.forwardRef(({className:e,...t},r)=>o.jsx(Ib,{ref:r,className:W("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));X2.displayName=Ib.displayName;const Jb=f.forwardRef(({className:e,...t},r)=>o.jsx(Mb,{ref:r,className:W("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(On,{className:"h-4 w-4"})}));Jb.displayName=Mb.displayName;const Xb=f.forwardRef(({className:e,...t},r)=>o.jsx(Ab,{ref:r,className:W("text-sm font-semibold",e),...t}));Xb.displayName=Ab.displayName;const Zb=f.forwardRef(({className:e,...t},r)=>o.jsx(Ob,{ref:r,className:W("text-sm opacity-90",e),...t}));Zb.displayName=Ob.displayName;function Z2(){const{toasts:e}=Xt();return o.jsxs(Q2,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return o.jsxs(Qb,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(Xb,{children:r}),n&&o.jsx(Zb,{children:n})]}),s,o.jsx(Jb,{})]},t)}),o.jsx(Yb,{})]})}var _y=["light","dark"],eR="(prefers-color-scheme: dark)",tR=f.createContext(void 0),rR={setTheme:e=>{},themes:[]},nR=()=>{var e;return(e=f.useContext(tR))!=null?e:rR};f.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?_y.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(w,v=!1,b=!0)=>{let y=i?i[w]:w,m=v?w+"|| ''":`'${y}'`,x="";return s&&b&&!v&&_y.includes(w)&&(x+=`d.style.colorScheme = '${w}';`),r==="class"?v||y?x+=`c.add(${m})`:x+="null":y&&(x+=`d[s](n,${m})`),x},g=e?`!function(){${d}${p(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${eR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${u?"":"else{"+p(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${h}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var sR=e=>{switch(e){case"success":return iR;case"info":return cR;case"warning":return lR;case"error":return uR;default:return null}},oR=Array(12).fill(0),aR=({visible:e})=>V.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},V.createElement("div",{className:"sonner-spinner"},oR.map((t,r)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),iR=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lR=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cR=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uR=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dR=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Hh=1,fR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Hh++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async a=>{if(pR(a)&&!a.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=t.finally)==null||a.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Hh++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},rr=new fR,hR=(e,t)=>{let r=(t==null?void 0:t.id)||Hh++;return rr.addToast({title:e,...t,id:r}),r},pR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",mR=hR,gR=()=>rr.toasts,pe=Object.assign(mR,{success:rr.success,info:rr.info,warning:rr.warning,error:rr.error,custom:rr.custom,message:rr.message,promise:rr.promise,dismiss:rr.dismiss,loading:rr.loading},{getHistory:gR});function vR(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}vR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function oc(e){return e.label!==void 0}var yR=3,xR="32px",wR=4e3,bR=356,jR=14,_R=20,SR=200;function NR(...e){return e.filter(Boolean).join(" ")}var CR=e=>{var t,r,n,s,a,i,l,c,u,d;let{invert:h,toast:p,unstyled:g,interacting:w,setHeights:v,visibleToasts:b,heights:y,index:m,toasts:x,expanded:j,removeToast:N,defaultRichColors:_,closeButton:S,style:P,cancelButtonStyle:I,actionButtonStyle:k,className:$="",descriptionClassName:L="",duration:D,position:E,gap:T,loadingIcon:O,expandByDefault:M,classNames:C,icons:R,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:A,cn:z}=e,[G,ee]=V.useState(!1),[me,te]=V.useState(!1),[K,xe]=V.useState(!1),[we,ge]=V.useState(!1),[Ne,ve]=V.useState(0),[ft,Pt]=V.useState(0),Yr=V.useRef(null),$t=V.useRef(null),Qr=m===0,Z=m+1<=b,ue=p.type,ke=p.dismissible!==!1,ct=p.className||"",ot=p.descriptionClassName||"",Cr=V.useMemo(()=>y.findIndex(de=>de.toastId===p.id)||0,[y,p.id]),Bn=V.useMemo(()=>{var de;return(de=p.closeButton)!=null?de:S},[p.closeButton,S]),Zt=V.useMemo(()=>p.duration||D||wR,[p.duration,D]),Er=V.useRef(0),Je=V.useRef(0),Jr=V.useRef(0),Lt=V.useRef(null),[_o,$l]=E.split("-"),Zg=V.useMemo(()=>y.reduce((de,Me,Te)=>Te>=Cr?de:de+Me.height,0),[y,Cr]),ev=dR(),SE=p.invert||h,Dd=ue==="loading";Je.current=V.useMemo(()=>Cr*T+Zg,[Cr,Zg]),V.useEffect(()=>{ee(!0)},[]),V.useLayoutEffect(()=>{if(!G)return;let de=$t.current,Me=de.style.height;de.style.height="auto";let Te=de.getBoundingClientRect().height;de.style.height=Me,Pt(Te),v(Xr=>Xr.find(Zr=>Zr.toastId===p.id)?Xr.map(Zr=>Zr.toastId===p.id?{...Zr,height:Te}:Zr):[{toastId:p.id,height:Te,position:p.position},...Xr])},[G,p.title,p.description,v,p.id]);let Wn=V.useCallback(()=>{te(!0),ve(Je.current),v(de=>de.filter(Me=>Me.toastId!==p.id)),setTimeout(()=>{N(p)},SR)},[p,N,v,Je]);V.useEffect(()=>{if(p.promise&&ue==="loading"||p.duration===1/0||p.type==="loading")return;let de,Me=Zt;return j||w||A&&ev?(()=>{if(Jr.current<Er.current){let Te=new Date().getTime()-Er.current;Me=Me-Te}Jr.current=new Date().getTime()})():Me!==1/0&&(Er.current=new Date().getTime(),de=setTimeout(()=>{var Te;(Te=p.onAutoClose)==null||Te.call(p,p),Wn()},Me)),()=>clearTimeout(de)},[j,w,M,p,Zt,Wn,p.promise,ue,A,ev]),V.useEffect(()=>{let de=$t.current;if(de){let Me=de.getBoundingClientRect().height;return Pt(Me),v(Te=>[{toastId:p.id,height:Me,position:p.position},...Te]),()=>v(Te=>Te.filter(Xr=>Xr.toastId!==p.id))}},[v,p.id]),V.useEffect(()=>{p.delete&&Wn()},[Wn,p.delete]);function NE(){return R!=null&&R.loading?V.createElement("div",{className:"sonner-loader","data-visible":ue==="loading"},R.loading):O?V.createElement("div",{className:"sonner-loader","data-visible":ue==="loading"},O):V.createElement(aR,{visible:ue==="loading"})}return V.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:$t,className:z($,ct,C==null?void 0:C.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,C==null?void 0:C.default,C==null?void 0:C[ue],(r=p==null?void 0:p.classNames)==null?void 0:r[ue]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:_,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":G,"data-promise":!!p.promise,"data-removed":me,"data-visible":Z,"data-y-position":_o,"data-x-position":$l,"data-index":m,"data-front":Qr,"data-swiping":K,"data-dismissible":ke,"data-type":ue,"data-invert":SE,"data-swipe-out":we,"data-expanded":!!(j||M&&G),style:{"--index":m,"--toasts-before":m,"--z-index":x.length-m,"--offset":`${me?Ne:Je.current}px`,"--initial-height":M?"auto":`${ft}px`,...P,...p.style},onPointerDown:de=>{Dd||!ke||(Yr.current=new Date,ve(Je.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(xe(!0),Lt.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,Me,Te,Xr;if(we||!ke)return;Lt.current=null;let Zr=Number(((de=$t.current)==null?void 0:de.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ll=new Date().getTime()-((Me=Yr.current)==null?void 0:Me.getTime()),CE=Math.abs(Zr)/Ll;if(Math.abs(Zr)>=_R||CE>.11){ve(Je.current),(Te=p.onDismiss)==null||Te.call(p,p),Wn(),ge(!0);return}(Xr=$t.current)==null||Xr.style.setProperty("--swipe-amount","0px"),xe(!1)},onPointerMove:de=>{var Me;if(!Lt.current||!ke)return;let Te=de.clientY-Lt.current.y,Xr=de.clientX-Lt.current.x,Zr=(_o==="top"?Math.min:Math.max)(0,Te),Ll=de.pointerType==="touch"?10:2;Math.abs(Zr)>Ll?(Me=$t.current)==null||Me.style.setProperty("--swipe-amount",`${Te}px`):Math.abs(Xr)>Ll&&(Lt.current=null)}},Bn&&!p.jsx?V.createElement("button",{"aria-label":F,"data-disabled":Dd,"data-close-button":!0,onClick:Dd||!ke?()=>{}:()=>{var de;Wn(),(de=p.onDismiss)==null||de.call(p,p)},className:z(C==null?void 0:C.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||V.isValidElement(p.title)?p.jsx||p.title:V.createElement(V.Fragment,null,ue||p.icon||p.promise?V.createElement("div",{"data-icon":"",className:z(C==null?void 0:C.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||NE():null,p.type!=="loading"?p.icon||(R==null?void 0:R[ue])||sR(ue):null):null,V.createElement("div",{"data-content":"",className:z(C==null?void 0:C.content,(i=p==null?void 0:p.classNames)==null?void 0:i.content)},V.createElement("div",{"data-title":"",className:z(C==null?void 0:C.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},p.title),p.description?V.createElement("div",{"data-description":"",className:z(L,ot,C==null?void 0:C.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},p.description):null),V.isValidElement(p.cancel)?p.cancel:p.cancel&&oc(p.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:de=>{var Me,Te;oc(p.cancel)&&ke&&((Te=(Me=p.cancel).onClick)==null||Te.call(Me,de),Wn())},className:z(C==null?void 0:C.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,V.isValidElement(p.action)?p.action:p.action&&oc(p.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:de=>{var Me,Te;oc(p.action)&&(de.defaultPrevented||((Te=(Me=p.action).onClick)==null||Te.call(Me,de),Wn()))},className:z(C==null?void 0:C.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function Sy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var ER=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:p=yR,toastOptions:g,dir:w=Sy(),gap:v=jR,loadingIcon:b,icons:y,containerAriaLabel:m="Notifications",pauseWhenPageIsHidden:x,cn:j=NR}=e,[N,_]=V.useState([]),S=V.useMemo(()=>Array.from(new Set([r].concat(N.filter(A=>A.position).map(A=>A.position)))),[N,r]),[P,I]=V.useState([]),[k,$]=V.useState(!1),[L,D]=V.useState(!1),[E,T]=V.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=V.useRef(null),M=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=V.useRef(null),R=V.useRef(!1),F=V.useCallback(A=>{var z;(z=N.find(G=>G.id===A.id))!=null&&z.delete||rr.dismiss(A.id),_(G=>G.filter(({id:ee})=>ee!==A.id))},[N]);return V.useEffect(()=>rr.subscribe(A=>{if(A.dismiss){_(z=>z.map(G=>G.id===A.id?{...G,delete:!0}:G));return}setTimeout(()=>{fb.flushSync(()=>{_(z=>{let G=z.findIndex(ee=>ee.id===A.id);return G!==-1?[...z.slice(0,G),{...z[G],...A},...z.slice(G+1)]:[A,...z]})})})}),[]),V.useEffect(()=>{if(c!=="system"){T(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:A})=>{T(A?"dark":"light")})},[c]),V.useEffect(()=>{N.length<=1&&$(!1)},[N]),V.useEffect(()=>{let A=z=>{var G,ee;n.every(me=>z[me]||z.code===me)&&($(!0),(G=O.current)==null||G.focus()),z.code==="Escape"&&(document.activeElement===O.current||(ee=O.current)!=null&&ee.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[n]),V.useEffect(()=>{if(O.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,R.current=!1)}},[O.current]),N.length?V.createElement("section",{"aria-label":`${m} ${M}`,tabIndex:-1},S.map((A,z)=>{var G;let[ee,me]=A.split("-");return V.createElement("ol",{key:A,dir:w==="auto"?Sy():w,tabIndex:-1,ref:O,className:i,"data-sonner-toaster":!0,"data-theme":E,"data-y-position":ee,"data-x-position":me,style:{"--front-toast-height":`${((G=P[0])==null?void 0:G.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||xR,"--width":`${bR}px`,"--gap":`${v}px`,...h},onBlur:te=>{R.current&&!te.currentTarget.contains(te.relatedTarget)&&(R.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||R.current||(R.current=!0,C.current=te.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{L||$(!1)},onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},N.filter(te=>!te.position&&z===0||te.position===A).map((te,K)=>{var xe,we;return V.createElement(CR,{key:te.id,icons:y,index:K,toast:te,defaultRichColors:u,duration:(xe=g==null?void 0:g.duration)!=null?xe:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:p,closeButton:(we=g==null?void 0:g.closeButton)!=null?we:a,interacting:L,position:A,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:F,toasts:N.filter(ge=>ge.position==te.position),heights:P.filter(ge=>ge.position==te.position),setHeights:I,expandByDefault:s,gap:v,loadingIcon:b,expanded:k,pauseWhenPageIsHidden:x,cn:j})}))})):null};const PR=({...e})=>{const{theme:t="system"}=nR();return o.jsx(ER,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var kR=c0.useId||(()=>{}),TR=0;function Gt(e){const[t,r]=f.useState(kR());return nt(()=>{e||r(n=>n??String(TR++))},[e]),e||(t?`radix-${t}`:"")}const RR=["top","right","bottom","left"],Ss=Math.min,sr=Math.max,uu=Math.round,ac=Math.floor,Ns=e=>({x:e,y:e}),AR={left:"right",right:"left",bottom:"top",top:"bottom"},OR={start:"end",end:"start"};function qh(e,t,r){return sr(e,Ss(t,r))}function In(e,t){return typeof e=="function"?e(t):e}function Mn(e){return e.split("-")[0]}function $a(e){return e.split("-")[1]}function Dm(e){return e==="x"?"y":"x"}function $m(e){return e==="y"?"height":"width"}function Cs(e){return["top","bottom"].includes(Mn(e))?"y":"x"}function Lm(e){return Dm(Cs(e))}function IR(e,t,r){r===void 0&&(r=!1);const n=$a(e),s=Lm(e),a=$m(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=du(i)),[i,du(i)]}function MR(e){const t=du(e);return[Gh(e),t,Gh(t)]}function Gh(e){return e.replace(/start|end/g,t=>OR[t])}function DR(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:i;default:return[]}}function $R(e,t,r,n){const s=$a(e);let a=DR(Mn(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Gh)))),a}function du(e){return e.replace(/left|right|bottom|top/g,t=>AR[t])}function LR(e){return{top:0,right:0,bottom:0,left:0,...e}}function e1(e){return typeof e!="number"?LR(e):{top:e,right:e,bottom:e,left:e}}function fu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Ny(e,t,r){let{reference:n,floating:s}=e;const a=Cs(t),i=Lm(t),l=$m(i),c=Mn(t),u=a==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-s.width,y:h};break;default:g={x:n.x,y:n.y}}switch($a(t)){case"start":g[i]-=p*(r&&u?-1:1);break;case"end":g[i]+=p*(r&&u?-1:1);break}return g}const FR=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Ny(u,n,c),p=n,g={},w=0;for(let v=0;v<l.length;v++){const{name:b,fn:y}=l[v],{x:m,y:x,data:j,reset:N}=await y({x:d,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=m??d,h=x??h,g={...g,[b]:{...g[b],...j}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:h}=Ny(u,p,c)),v=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:g}};async function Yi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=In(t,e),w=e1(g),b=l[p?h==="floating"?"reference":"floating":h],y=fu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),m=h==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},N=fu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:x,strategy:c}):m);return{top:(y.top-N.top+w.top)/j.y,bottom:(N.bottom-y.bottom+w.bottom)/j.y,left:(y.left-N.left+w.left)/j.x,right:(N.right-y.right+w.right)/j.x}}const zR=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=In(e,t)||{};if(u==null)return{};const h=e1(d),p={x:r,y:n},g=Lm(s),w=$m(g),v=await i.getDimensions(u),b=g==="y",y=b?"top":"left",m=b?"bottom":"right",x=b?"clientHeight":"clientWidth",j=a.reference[w]+a.reference[g]-p[g]-a.floating[w],N=p[g]-a.reference[g],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=_?_[x]:0;(!S||!await(i.isElement==null?void 0:i.isElement(_)))&&(S=l.floating[x]||a.floating[w]);const P=j/2-N/2,I=S/2-v[w]/2-1,k=Ss(h[y],I),$=Ss(h[m],I),L=k,D=S-v[w]-$,E=S/2-v[w]/2+P,T=qh(L,E,D),O=!c.arrow&&$a(s)!=null&&E!==T&&a.reference[w]/2-(E<L?k:$)-v[w]/2<0,M=O?E<L?E-L:E-D:0;return{[g]:p[g]+M,data:{[g]:T,centerOffset:E-T-M,...O&&{alignmentOffset:M}},reset:O}}}),UR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...b}=In(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Mn(s),m=Cs(l),x=Mn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=p||(x||!v?[du(l)]:MR(l)),_=w!=="none";!p&&_&&N.push(...$R(l,v,w,j));const S=[l,...N],P=await Yi(t,b),I=[];let k=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&I.push(P[y]),h){const E=IR(s,i,j);I.push(P[E[0]],P[E[1]])}if(k=[...k,{placement:s,overflows:I}],!I.every(E=>E<=0)){var $,L;const E=((($=a.flip)==null?void 0:$.index)||0)+1,T=S[E];if(T)return{data:{index:E,overflows:k},reset:{placement:T}};let O=(L=k.filter(M=>M.overflows[0]<=0).sort((M,C)=>M.overflows[1]-C.overflows[1])[0])==null?void 0:L.placement;if(!O)switch(g){case"bestFit":{var D;const M=(D=k.filter(C=>{if(_){const R=Cs(C.placement);return R===m||R==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(R=>R>0).reduce((R,F)=>R+F,0)]).sort((C,R)=>C[1]-R[1])[0])==null?void 0:D[0];M&&(O=M);break}case"initialPlacement":O=l;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function Cy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ey(e){return RR.some(t=>e[t]>=0)}const BR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=In(e,t);switch(n){case"referenceHidden":{const a=await Yi(t,{...s,elementContext:"reference"}),i=Cy(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Ey(i)}}}case"escaped":{const a=await Yi(t,{...s,altBoundary:!0}),i=Cy(a,r.floating);return{data:{escapedOffsets:i,escaped:Ey(i)}}}default:return{}}}}};async function WR(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Mn(r),l=$a(r),c=Cs(r)==="y",u=["left","top"].includes(i)?-1:1,d=a&&c?-1:1,h=In(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(g=l==="end"?w*-1:w),c?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const VR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await WR(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},HR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:y,y:m}=b;return{x:y,y:m}}},...c}=In(e,t),u={x:r,y:n},d=await Yi(t,c),h=Cs(Mn(s)),p=Dm(h);let g=u[p],w=u[h];if(a){const b=p==="y"?"top":"left",y=p==="y"?"bottom":"right",m=g+d[b],x=g-d[y];g=qh(m,g,x)}if(i){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",m=w+d[b],x=w-d[y];w=qh(m,w,x)}const v=l.fn({...t,[p]:g,[h]:w});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[p]:a,[h]:i}}}}}},qR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=In(e,t),d={x:r,y:n},h=Cs(s),p=Dm(h);let g=d[p],w=d[h];const v=In(l,t),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const x=p==="y"?"height":"width",j=a.reference[p]-a.floating[x]+b.mainAxis,N=a.reference[p]+a.reference[x]-b.mainAxis;g<j?g=j:g>N&&(g=N)}if(u){var y,m;const x=p==="y"?"width":"height",j=["top","left"].includes(Mn(s)),N=a.reference[h]-a.floating[x]+(j&&((y=i.offset)==null?void 0:y[h])||0)+(j?0:b.crossAxis),_=a.reference[h]+a.reference[x]+(j?0:((m=i.offset)==null?void 0:m[h])||0)-(j?b.crossAxis:0);w<N?w=N:w>_&&(w=_)}return{[p]:g,[h]:w}}}},GR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=In(e,t),d=await Yi(t,u),h=Mn(s),p=$a(s),g=Cs(s)==="y",{width:w,height:v}=a.floating;let b,y;h==="top"||h==="bottom"?(b=h,y=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,b=p==="end"?"top":"bottom");const m=v-d.top-d.bottom,x=w-d.left-d.right,j=Ss(v-d[b],m),N=Ss(w-d[y],x),_=!t.middlewareData.shift;let S=j,P=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=m),_&&!p){const k=sr(d.left,0),$=sr(d.right,0),L=sr(d.top,0),D=sr(d.bottom,0);g?P=w-2*(k!==0||$!==0?k+$:sr(d.left,d.right)):S=v-2*(L!==0||D!==0?L+D:sr(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:S});const I=await i.getDimensions(l.floating);return w!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Xu(){return typeof window<"u"}function La(e){return t1(e)?(e.nodeName||"").toLowerCase():"#document"}function ir(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vn(e){var t;return(t=(t1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function t1(e){return Xu()?e instanceof Node||e instanceof ir(e).Node:!1}function Vr(e){return Xu()?e instanceof Element||e instanceof ir(e).Element:!1}function mn(e){return Xu()?e instanceof HTMLElement||e instanceof ir(e).HTMLElement:!1}function Py(e){return!Xu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ir(e).ShadowRoot}function vl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Hr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function KR(e){return["table","td","th"].includes(La(e))}function Zu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Fm(e){const t=zm(),r=Vr(e)?Hr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function YR(e){let t=Es(e);for(;mn(t)&&!Na(t);){if(Fm(t))return t;if(Zu(t))return null;t=Es(t)}return null}function zm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Na(e){return["html","body","#document"].includes(La(e))}function Hr(e){return ir(e).getComputedStyle(e)}function ed(e){return Vr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Es(e){if(La(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Py(e)&&e.host||vn(e);return Py(t)?t.host:t}function r1(e){const t=Es(e);return Na(t)?e.ownerDocument?e.ownerDocument.body:e.body:mn(t)&&vl(t)?t:r1(t)}function Qi(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=r1(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=ir(s);if(a){const l=Kh(i);return t.concat(i,i.visualViewport||[],vl(s)?s:[],l&&r?Qi(l):[])}return t.concat(s,Qi(s,[],r))}function Kh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function n1(e){const t=Hr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=mn(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=uu(r)!==a||uu(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function Um(e){return Vr(e)?e:e.contextElement}function ra(e){const t=Um(e);if(!mn(t))return Ns(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=n1(t);let i=(a?uu(r.width):r.width)/n,l=(a?uu(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const QR=Ns(0);function s1(e){const t=ir(e);return!zm()||!t.visualViewport?QR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ir(e)?!1:t}function ao(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Um(e);let i=Ns(1);t&&(n?Vr(n)&&(i=ra(n)):i=ra(e));const l=JR(a,r,n)?s1(a):Ns(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(a){const p=ir(a),g=n&&Vr(n)?ir(n):n;let w=p,v=Kh(w);for(;v&&n&&g!==w;){const b=ra(v),y=v.getBoundingClientRect(),m=Hr(v),x=y.left+(v.clientLeft+parseFloat(m.paddingLeft))*b.x,j=y.top+(v.clientTop+parseFloat(m.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=x,u+=j,w=ir(v),v=Kh(w)}}return fu({width:d,height:h,x:c,y:u})}function XR(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=vn(n),l=t?Zu(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Ns(1);const d=Ns(0),h=mn(n);if((h||!h&&!a)&&((La(n)!=="body"||vl(i))&&(c=ed(n)),mn(n))){const p=ao(n);u=ra(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function ZR(e){return Array.from(e.getClientRects())}function Yh(e,t){const r=ed(e).scrollLeft;return t?t.left+r:ao(vn(e)).left+r}function eA(e){const t=vn(e),r=ed(e),n=e.ownerDocument.body,s=sr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=sr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Yh(e);const l=-r.scrollTop;return Hr(n).direction==="rtl"&&(i+=sr(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}function tA(e,t){const r=ir(e),n=vn(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=zm();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}function rA(e,t){const r=ao(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=mn(e)?ra(e):Ns(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function ky(e,t,r){let n;if(t==="viewport")n=tA(e,r);else if(t==="document")n=eA(vn(e));else if(Vr(t))n=rA(t,r);else{const s=s1(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return fu(n)}function o1(e,t){const r=Es(e);return r===t||!Vr(r)||Na(r)?!1:Hr(r).position==="fixed"||o1(r,t)}function nA(e,t){const r=t.get(e);if(r)return r;let n=Qi(e,[],!1).filter(l=>Vr(l)&&La(l)!=="body"),s=null;const a=Hr(e).position==="fixed";let i=a?Es(e):e;for(;Vr(i)&&!Na(i);){const l=Hr(i),c=Fm(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||vl(i)&&!c&&o1(e,i))?n=n.filter(d=>d!==i):s=l,i=Es(i)}return t.set(e,n),n}function sA(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Zu(t)?[]:nA(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const h=ky(t,d,s);return u.top=sr(h.top,u.top),u.right=Ss(h.right,u.right),u.bottom=Ss(h.bottom,u.bottom),u.left=sr(h.left,u.left),u},ky(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function oA(e){const{width:t,height:r}=n1(e);return{width:t,height:r}}function aA(e,t,r){const n=mn(t),s=vn(t),a=r==="fixed",i=ao(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Ns(0);if(n||!n&&!a)if((La(t)!=="body"||vl(s))&&(l=ed(t)),n){const g=ao(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&(c.x=Yh(s));let u=0,d=0;if(s&&!n&&!a){const g=s.getBoundingClientRect();d=g.top+l.scrollTop,u=g.left+l.scrollLeft-Yh(s,g)}const h=i.left+l.scrollLeft-c.x-u,p=i.top+l.scrollTop-c.y-d;return{x:h,y:p,width:i.width,height:i.height}}function vf(e){return Hr(e).position==="static"}function Ty(e,t){if(!mn(e)||Hr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return vn(e)===r&&(r=r.ownerDocument.body),r}function a1(e,t){const r=ir(e);if(Zu(e))return r;if(!mn(e)){let s=Es(e);for(;s&&!Na(s);){if(Vr(s)&&!vf(s))return s;s=Es(s)}return r}let n=Ty(e,t);for(;n&&KR(n)&&vf(n);)n=Ty(n,t);return n&&Na(n)&&vf(n)&&!Fm(n)?r:n||YR(e)||r}const iA=async function(e){const t=this.getOffsetParent||a1,r=this.getDimensions,n=await r(e.floating);return{reference:aA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function lA(e){return Hr(e).direction==="rtl"}const cA={convertOffsetParentRelativeRectToViewportRelativeRect:XR,getDocumentElement:vn,getClippingRect:sA,getOffsetParent:a1,getElementRects:iA,getClientRects:ZR,getDimensions:oA,getScale:ra,isElement:Vr,isRTL:lA};function uA(e,t){let r=null,n;const s=vn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:h,height:p}=e.getBoundingClientRect();if(l||t(),!h||!p)return;const g=ac(d),w=ac(s.clientWidth-(u+h)),v=ac(s.clientHeight-(d+p)),b=ac(u),m={rootMargin:-g+"px "+-w+"px "+-v+"px "+-b+"px",threshold:sr(0,Ss(1,c))||1};let x=!0;function j(N){const _=N[0].intersectionRatio;if(_!==c){if(!x)return i();_?i(!1,_):n=setTimeout(()=>{i(!1,1e-7)},1e3)}x=!1}try{r=new IntersectionObserver(j,{...m,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,m)}r.observe(e)}return i(!0),a}function dA(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Um(e),d=s||a?[...u?Qi(u):[],...Qi(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const h=u&&l?uA(u,r):null;let p=-1,g=null;i&&(g=new ResizeObserver(y=>{let[m]=y;m&&m.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let w,v=c?ao(e):null;c&&b();function b(){const y=ao(e);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&r(),v=y,w=requestAnimationFrame(b)}return r(),()=>{var y;d.forEach(m=>{s&&m.removeEventListener("scroll",r),a&&m.removeEventListener("resize",r)}),h==null||h(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(w)}}const fA=VR,hA=HR,pA=UR,mA=GR,gA=BR,Ry=zR,vA=qR,yA=(e,t,r)=>{const n=new Map,s={platform:cA,...r},a={...s.platform,_c:n};return FR(e,t,{...s,platform:a})};var Ac=typeof document<"u"?f.useLayoutEffect:f.useEffect;function hu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!hu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!hu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function i1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ay(e,t){const r=i1(e);return Math.round(t*r)/r}function yf(e){const t=f.useRef(e);return Ac(()=>{t.current=e}),t}function xA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=f.useState(n);hu(p,n)||g(n);const[w,v]=f.useState(null),[b,y]=f.useState(null),m=f.useCallback(C=>{C!==_.current&&(_.current=C,v(C))},[]),x=f.useCallback(C=>{C!==S.current&&(S.current=C,y(C))},[]),j=a||w,N=i||b,_=f.useRef(null),S=f.useRef(null),P=f.useRef(d),I=c!=null,k=yf(c),$=yf(s),L=yf(u),D=f.useCallback(()=>{if(!_.current||!S.current)return;const C={placement:t,strategy:r,middleware:p};$.current&&(C.platform=$.current),yA(_.current,S.current,C).then(R=>{const F={...R,isPositioned:L.current!==!1};E.current&&!hu(P.current,F)&&(P.current=F,mo.flushSync(()=>{h(F)}))})},[p,t,r,$,L]);Ac(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(C=>({...C,isPositioned:!1})))},[u]);const E=f.useRef(!1);Ac(()=>(E.current=!0,()=>{E.current=!1}),[]),Ac(()=>{if(j&&(_.current=j),N&&(S.current=N),j&&N){if(k.current)return k.current(j,N,D);D()}},[j,N,D,k,I]);const T=f.useMemo(()=>({reference:_,floating:S,setReference:m,setFloating:x}),[m,x]),O=f.useMemo(()=>({reference:j,floating:N}),[j,N]),M=f.useMemo(()=>{const C={position:r,left:0,top:0};if(!O.floating)return C;const R=Ay(O.floating,d.x),F=Ay(O.floating,d.y);return l?{...C,transform:"translate("+R+"px, "+F+"px)",...i1(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:F}},[r,l,O.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:D,refs:T,elements:O,floatingStyles:M}),[d,D,T,O,M])}const wA=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Ry({element:n.current,padding:s}).fn(r):{}:n?Ry({element:n,padding:s}).fn(r):{}}}},bA=(e,t)=>({...fA(e),options:[e,t]}),jA=(e,t)=>({...hA(e),options:[e,t]}),_A=(e,t)=>({...vA(e),options:[e,t]}),SA=(e,t)=>({...pA(e),options:[e,t]}),NA=(e,t)=>({...mA(e),options:[e,t]}),CA=(e,t)=>({...gA(e),options:[e,t]}),EA=(e,t)=>({...wA(e),options:[e,t]});var PA="Arrow",l1=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(Q.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});l1.displayName=PA;var kA=l1;function TA(e,t=[]){let r=[];function n(a,i){const l=f.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:p,children:g,...w}=h,v=(p==null?void 0:p[e][c])||l,b=f.useMemo(()=>w,Object.values(w));return o.jsx(v.Provider,{value:b,children:g})}function d(h,p){const g=(p==null?void 0:p[e][c])||l,w=f.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,RA(s,...t)]}function RA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Bm(e){const[t,r]=f.useState(void 0);return nt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Wm="Popper",[c1,Rs]=TA(Wm),[AA,u1]=c1(Wm),d1=e=>{const{__scopePopper:t,children:r}=e,[n,s]=f.useState(null);return o.jsx(AA,{scope:t,anchor:n,onAnchorChange:s,children:r})};d1.displayName=Wm;var f1="PopperAnchor",h1=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=u1(f1,r),i=f.useRef(null),l=ie(t,i);return f.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(Q.div,{...s,ref:l})});h1.displayName=f1;var Vm="PopperContent",[OA,IA]=c1(Vm),p1=f.forwardRef((e,t)=>{var K,xe,we,ge,Ne,ve;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...v}=e,b=u1(Vm,r),[y,m]=f.useState(null),x=ie(t,ft=>m(ft)),[j,N]=f.useState(null),_=Bm(j),S=(_==null?void 0:_.width)??0,P=(_==null?void 0:_.height)??0,I=n+(a!=="center"?"-"+a:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(u)?u:[u],L=$.length>0,D={padding:k,boundary:$.filter(DA),altBoundary:L},{refs:E,floatingStyles:T,placement:O,isPositioned:M,middlewareData:C}=xA({strategy:"fixed",placement:I,whileElementsMounted:(...ft)=>dA(...ft,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[bA({mainAxis:s+P,alignmentAxis:i}),c&&jA({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?_A():void 0,...D}),c&&SA({...D}),NA({...D,apply:({elements:ft,rects:Pt,availableWidth:Yr,availableHeight:$t})=>{const{width:Qr,height:Z}=Pt.reference,ue=ft.floating.style;ue.setProperty("--radix-popper-available-width",`${Yr}px`),ue.setProperty("--radix-popper-available-height",`${$t}px`),ue.setProperty("--radix-popper-anchor-width",`${Qr}px`),ue.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),j&&EA({element:j,padding:l}),$A({arrowWidth:S,arrowHeight:P}),p&&CA({strategy:"referenceHidden",...D})]}),[R,F]=v1(O),A=Be(w);nt(()=>{M&&(A==null||A())},[M,A]);const z=(K=C.arrow)==null?void 0:K.x,G=(xe=C.arrow)==null?void 0:xe.y,ee=((we=C.arrow)==null?void 0:we.centerOffset)!==0,[me,te]=f.useState();return nt(()=>{y&&te(window.getComputedStyle(y).zIndex)},[y]),o.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:M?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(ge=C.transformOrigin)==null?void 0:ge.x,(Ne=C.transformOrigin)==null?void 0:Ne.y].join(" "),...((ve=C.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(OA,{scope:r,placedSide:R,onArrowChange:N,arrowX:z,arrowY:G,shouldHideArrow:ee,children:o.jsx(Q.div,{"data-side":R,"data-align":F,...v,ref:x,style:{...v.style,animation:M?void 0:"none"}})})})});p1.displayName=Vm;var m1="PopperArrow",MA={top:"bottom",right:"left",bottom:"top",left:"right"},g1=f.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=IA(m1,n),i=MA[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(kA,{...s,ref:r,style:{...s.style,display:"block"}})})});g1.displayName=m1;function DA(e){return e!==null}var $A=e=>({name:"transformOrigin",options:e,fn(t){var b,y,m;const{placement:r,rects:n,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=v1(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,g=(((m=s.arrow)==null?void 0:m.y)??0)+c/2;let w="",v="";return u==="bottom"?(w=i?h:`${p}px`,v=`${-c}px`):u==="top"?(w=i?h:`${p}px`,v=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,v=i?h:`${g}px`):u==="left"&&(w=`${n.floating.width+c}px`,v=i?h:`${g}px`),{data:{x:w,y:v}}}});function v1(e){const[t,r="center"]=e.split("-");return[t,r]}var td=d1,yl=h1,rd=p1,nd=g1,[sd,FU]=Et("Tooltip",[Rs]),od=Rs(),y1="TooltipProvider",LA=700,Qh="tooltip.open",[FA,Hm]=sd(y1),x1=e=>{const{__scopeTooltip:t,delayDuration:r=LA,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[i,l]=f.useState(!0),c=f.useRef(!1),u=f.useRef(0);return f.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(FA,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:f.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};x1.displayName=y1;var ad="Tooltip",[zA,id]=sd(ad),w1=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:i,delayDuration:l}=e,c=Hm(ad,e.__scopeTooltip),u=od(t),[d,h]=f.useState(null),p=Gt(),g=f.useRef(0),w=i??c.disableHoverableContent,v=l??c.delayDuration,b=f.useRef(!1),[y=!1,m]=Jt({prop:n,defaultProp:s,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(Qh))):c.onClose(),a==null||a(S)}}),x=f.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),j=f.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b.current=!1,m(!0)},[m]),N=f.useCallback(()=>{window.clearTimeout(g.current),g.current=0,m(!1)},[m]),_=f.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{b.current=!0,m(!0),g.current=0},v)},[v,m]);return f.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),o.jsx(td,{...u,children:o.jsx(zA,{scope:t,contentId:p,open:y,stateAttribute:x,trigger:d,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayed?_():j()},[c.isOpenDelayed,_,j]),onTriggerLeave:f.useCallback(()=>{w?N():(window.clearTimeout(g.current),g.current=0)},[N,w]),onOpen:j,onClose:N,disableHoverableContent:w,children:r})})};w1.displayName=ad;var Jh="TooltipTrigger",b1=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=id(Jh,r),a=Hm(Jh,r),i=od(r),l=f.useRef(null),c=ie(t,l,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(yl,{asChild:!0,...i,children:o.jsx(Q.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:H(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:H(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:H(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:H(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:H(e.onBlur,s.onClose),onClick:H(e.onClick,s.onClose)})})});b1.displayName=Jh;var UA="TooltipPortal",[zU,BA]=sd(UA,{forceMount:void 0}),Ca="TooltipContent",j1=f.forwardRef((e,t)=>{const r=BA(Ca,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=id(Ca,e.__scopeTooltip);return o.jsx(st,{present:n||i.open,children:i.disableHoverableContent?o.jsx(_1,{side:s,...a,ref:t}):o.jsx(WA,{side:s,...a,ref:t})})}),WA=f.forwardRef((e,t)=>{const r=id(Ca,e.__scopeTooltip),n=Hm(Ca,e.__scopeTooltip),s=f.useRef(null),a=ie(t,s),[i,l]=f.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,p=f.useCallback(()=>{l(null),h(!1)},[h]),g=f.useCallback((w,v)=>{const b=w.currentTarget,y={x:w.clientX,y:w.clientY},m=GA(y,b.getBoundingClientRect()),x=KA(y,m),j=YA(v.getBoundingClientRect()),N=JA([...x,...j]);l(N),h(!0)},[h]);return f.useEffect(()=>()=>p(),[p]),f.useEffect(()=>{if(c&&d){const w=b=>g(b,d),v=b=>g(b,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",v)}}},[c,d,g,p]),f.useEffect(()=>{if(i){const w=v=>{const b=v.target,y={x:v.clientX,y:v.clientY},m=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),x=!QA(y,i);m?p():x&&(p(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,i,u,p]),o.jsx(_1,{...e,ref:a})}),[VA,HA]=sd(ad,{isInside:!1}),_1=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=id(Ca,r),u=od(r),{onClose:d}=c;return f.useEffect(()=>(document.addEventListener(Qh,d),()=>document.removeEventListener(Qh,d)),[d]),f.useEffect(()=>{if(c.trigger){const h=p=>{const g=p.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(go,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(rd,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Cm,{children:n}),o.jsx(VA,{scope:r,isInside:!0,children:o.jsx(kT,{id:c.contentId,role:"tooltip",children:s||n})})]})})});j1.displayName=Ca;var S1="TooltipArrow",qA=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=od(r);return HA(S1,r).isInside?null:o.jsx(nd,{...s,...n,ref:t})});qA.displayName=S1;function GA(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function KA(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function YA(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function QA(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function JA(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),XA(t)}function XA(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var ZA=x1,eO=w1,tO=b1,N1=j1;const C1=ZA,rO=eO,nO=tO,E1=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(N1,{ref:n,sideOffset:t,className:W("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));E1.displayName=N1.displayName;var ld=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cd=typeof window>"u"||"Deno"in globalThis;function Ar(){}function sO(e,t){return typeof e=="function"?e(t):e}function oO(e){return typeof e=="number"&&e>=0&&e!==1/0}function aO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Oy(e,t){return typeof e=="function"?e(t):e}function iO(e,t){return typeof e=="function"?e(t):e}function Iy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==qm(i,t.options))return!1}else if(!Xi(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function My(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ji(t.options.mutationKey)!==Ji(a))return!1}else if(!Xi(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function qm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ji)(e)}function Ji(e){return JSON.stringify(e,(t,r)=>Xh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Xi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Xi(e[r],t[r])):!1}function P1(e,t){if(e===t)return e;const r=Dy(e)&&Dy(t);if(r||Xh(e)&&Xh(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=P1(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function Dy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xh(e){if(!$y(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!$y(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function $y(e){return Object.prototype.toString.call(e)==="[object Object]"}function lO(e){return new Promise(t=>{setTimeout(t,e)})}function cO(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?P1(e,t):t}function uO(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function dO(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Gm=Symbol();function k1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Gm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ks,ss,ia,Vx,fO=(Vx=class extends ld{constructor(){super();Ce(this,Ks);Ce(this,ss);Ce(this,ia);he(this,ia,t=>{if(!cd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,ss)||this.setEventListener(U(this,ia))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,ss))==null||t.call(this),he(this,ss,void 0))}setEventListener(t){var r;he(this,ia,t),(r=U(this,ss))==null||r.call(this),he(this,ss,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){U(this,Ks)!==t&&(he(this,Ks,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof U(this,Ks)=="boolean"?U(this,Ks):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ks=new WeakMap,ss=new WeakMap,ia=new WeakMap,Vx),T1=new fO,la,os,ca,Hx,hO=(Hx=class extends ld{constructor(){super();Ce(this,la,!0);Ce(this,os);Ce(this,ca);he(this,ca,t=>{if(!cd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){U(this,os)||this.setEventListener(U(this,ca))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,os))==null||t.call(this),he(this,os,void 0))}setEventListener(t){var r;he(this,ca,t),(r=U(this,os))==null||r.call(this),he(this,os,t(this.setOnline.bind(this)))}setOnline(t){U(this,la)!==t&&(he(this,la,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return U(this,la)}},la=new WeakMap,os=new WeakMap,ca=new WeakMap,Hx),pu=new hO;function pO(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function mO(e){return Math.min(1e3*2**e,3e4)}function R1(e){return(e??"online")==="online"?pu.isOnline():!0}var A1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function xf(e){return e instanceof A1}function O1(e){let t=!1,r=0,n=!1,s;const a=pO(),i=v=>{var b;n||(p(new A1(v)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>T1.isFocused()&&(e.networkMode==="always"||pu.isOnline())&&e.canRun(),d=()=>R1(e.networkMode)&&e.canRun(),h=v=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,v),s==null||s(),a.resolve(v))},p=v=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,v),s==null||s(),a.reject(v))},g=()=>new Promise(v=>{var b;s=y=>{(n||u())&&v(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var v;s=void 0,n||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(n)return;let v;const b=r===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(h).catch(y=>{var _;if(n)return;const m=e.retry??(cd?0:3),x=e.retryDelay??mO,j=typeof x=="function"?x(r,y):x,N=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,y);if(t||!N){p(y);return}r++,(_=e.onFail)==null||_.call(e,r,y),lO(j).then(()=>u()?void 0:g()).then(()=>{t?p(y):w()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?w():g().then(w),a)}}function gO(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var At=gO(),Ys,qx,I1=(qx=class{constructor(){Ce(this,Ys)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oO(this.gcTime)&&he(this,Ys,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(cd?1/0:5*60*1e3))}clearGcTimeout(){U(this,Ys)&&(clearTimeout(U(this,Ys)),he(this,Ys,void 0))}},Ys=new WeakMap,qx),ua,da,hr,bt,ll,Qs,Or,bn,Gx,vO=(Gx=class extends I1{constructor(t){super();Ce(this,Or);Ce(this,ua);Ce(this,da);Ce(this,hr);Ce(this,bt);Ce(this,ll);Ce(this,Qs);he(this,Qs,!1),he(this,ll,t.defaultOptions),this.setOptions(t.options),this.observers=[],he(this,hr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,he(this,ua,xO(this.options)),this.state=t.state??U(this,ua),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,bt))==null?void 0:t.promise}setOptions(t){this.options={...U(this,ll),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,hr).remove(this)}setData(t,r){const n=cO(this.state.data,t,this.options);return yt(this,Or,bn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){yt(this,Or,bn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=U(this,bt))==null?void 0:n.promise;return(s=U(this,bt))==null||s.cancel(t),r?r.then(Ar).catch(Ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ua))}isActive(){return this.observers.some(t=>iO(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!aO(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,bt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,bt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,hr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(U(this,bt)&&(U(this,Qs)?U(this,bt).cancel({revert:!0}):U(this,bt).cancelRetry()),this.scheduleGc()),U(this,hr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,Or,bn).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,bt))return U(this,bt).continueRetry(),U(this,bt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(he(this,Qs,!0),n.signal)})},a=()=>{const h=k1(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return s(p),he(this,Qs,!1),this.options.persister?this.options.persister(h,p,this):h(p)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),he(this,da,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&yt(this,Or,bn).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=h=>{var p,g,w,v;xf(h)&&h.silent||yt(this,Or,bn).call(this,{type:"error",error:h}),xf(h)||((g=(p=U(this,hr).config).onError)==null||g.call(p,h,this),(v=(w=U(this,hr).config).onSettled)==null||v.call(w,this.state.data,h,this)),this.scheduleGc()};return he(this,bt,O1({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,g,w,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(g=(p=U(this,hr).config).onSuccess)==null||g.call(p,h,this),(v=(w=U(this,hr).config).onSettled)==null||v.call(w,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,p)=>{yt(this,Or,bn).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{yt(this,Or,bn).call(this,{type:"pause"})},onContinue:()=>{yt(this,Or,bn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),U(this,bt).start()}},ua=new WeakMap,da=new WeakMap,hr=new WeakMap,bt=new WeakMap,ll=new WeakMap,Qs=new WeakMap,Or=new WeakSet,bn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...yO(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return xf(s)&&s.revert&&U(this,da)?{...U(this,da),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),At.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),U(this,hr).notify({query:this,type:"updated",action:t})})},Gx);function yO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:R1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function xO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var sn,Kx,wO=(Kx=class extends ld{constructor(t={}){super();Ce(this,sn);this.config=t,he(this,sn,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??qm(s,r);let i=this.get(a);return i||(i=new vO({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){U(this,sn).has(t.queryHash)||(U(this,sn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=U(this,sn).get(t.queryHash);r&&(t.destroy(),r===t&&U(this,sn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){At.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,sn).get(t)}getAll(){return[...U(this,sn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Iy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Iy(t,n)):r}notify(t){At.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){At.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},sn=new WeakMap,Kx),on,kt,Js,an,Yn,Yx,bO=(Yx=class extends I1{constructor(t){super();Ce(this,an);Ce(this,on);Ce(this,kt);Ce(this,Js);this.mutationId=t.mutationId,he(this,kt,t.mutationCache),he(this,on,[]),this.state=t.state||jO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,on).includes(t)||(U(this,on).push(t),this.clearGcTimeout(),U(this,kt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){he(this,on,U(this,on).filter(r=>r!==t)),this.scheduleGc(),U(this,kt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,on).length||(this.state.status==="pending"?this.scheduleGc():U(this,kt).remove(this))}continue(){var t;return((t=U(this,Js))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,i,l,c,u,d,h,p,g,w,v,b,y,m,x,j,N,_,S;he(this,Js,O1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,I)=>{yt(this,an,Yn).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{yt(this,an,Yn).call(this,{type:"pause"})},onContinue:()=>{yt(this,an,Yn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,kt).canRun(this)}));const r=this.state.status==="pending",n=!U(this,Js).canStart();try{if(!r){yt(this,an,Yn).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=U(this,kt).config).onMutate)==null?void 0:a.call(s,t,this));const I=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));I!==this.state.context&&yt(this,an,Yn).call(this,{type:"pending",context:I,variables:t,isPaused:n})}const P=await U(this,Js).start();return await((u=(c=U(this,kt).config).onSuccess)==null?void 0:u.call(c,P,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,P,t,this.state.context)),await((g=(p=U(this,kt).config).onSettled)==null?void 0:g.call(p,P,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,P,null,t,this.state.context)),yt(this,an,Yn).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(b=U(this,kt).config).onError)==null?void 0:y.call(b,P,t,this.state.context,this)),await((x=(m=this.options).onError)==null?void 0:x.call(m,P,t,this.state.context)),await((N=(j=U(this,kt).config).onSettled)==null?void 0:N.call(j,void 0,P,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,void 0,P,t,this.state.context)),P}finally{yt(this,an,Yn).call(this,{type:"error",error:P})}}finally{U(this,kt).runNext(this)}}},on=new WeakMap,kt=new WeakMap,Js=new WeakMap,an=new WeakSet,Yn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),At.batch(()=>{U(this,on).forEach(n=>{n.onMutationUpdate(t)}),U(this,kt).notify({mutation:this,type:"updated",action:t})})},Yx);function jO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tr,cl,Qx,_O=(Qx=class extends ld{constructor(t={}){super();Ce(this,tr);Ce(this,cl);this.config=t,he(this,tr,new Map),he(this,cl,Date.now())}build(t,r,n){const s=new bO({mutationCache:this,mutationId:++Fl(this,cl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=ic(t),n=U(this,tr).get(r)??[];n.push(t),U(this,tr).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=ic(t);if(U(this,tr).has(r)){const s=(n=U(this,tr).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?U(this,tr).delete(r):U(this,tr).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=U(this,tr).get(ic(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=U(this,tr).get(ic(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){At.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...U(this,tr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>My(r,n))}findAll(t={}){return this.getAll().filter(r=>My(t,r))}notify(t){At.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return At.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ar))))}},tr=new WeakMap,cl=new WeakMap,Qx);function ic(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Ly(e){return{onFetch:(t,r)=>{var d,h,p,g,w;const n=t.options,s=(p=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],i=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},y=k1(t.options,t.fetchOptions),m=async(x,j,N)=>{if(v)return Promise.reject();if(j==null&&x.pages.length)return Promise.resolve(x);const _={queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};b(_);const S=await y(_),{maxPages:P}=t.options,I=N?dO:uO;return{pages:I(x.pages,S,P),pageParams:I(x.pageParams,j,P)}};if(s&&a.length){const x=s==="backward",j=x?SO:Fy,N={pages:a,pageParams:i},_=j(n,N);l=await m(N,_,x)}else{const x=e??a.length;do{const j=c===0?i[0]??n.initialPageParam:Fy(n,l);if(c>0&&j==null)break;l=await m(l,j),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var v,b;return(b=(v=t.options).persister)==null?void 0:b.call(v,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Fy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function SO(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ye,as,is,fa,ha,ls,pa,ma,Jx,NO=(Jx=class{constructor(e={}){Ce(this,Ye);Ce(this,as);Ce(this,is);Ce(this,fa);Ce(this,ha);Ce(this,ls);Ce(this,pa);Ce(this,ma);he(this,Ye,e.queryCache||new wO),he(this,as,e.mutationCache||new _O),he(this,is,e.defaultOptions||{}),he(this,fa,new Map),he(this,ha,new Map),he(this,ls,0)}mount(){Fl(this,ls)._++,U(this,ls)===1&&(he(this,pa,T1.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Ye).onFocus())})),he(this,ma,pu.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Ye).onOnline())})))}unmount(){var e,t;Fl(this,ls)._--,U(this,ls)===0&&((e=U(this,pa))==null||e.call(this),he(this,pa,void 0),(t=U(this,ma))==null||t.call(this),he(this,ma,void 0))}isFetching(e){return U(this,Ye).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,as).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,Ye).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=U(this,Ye).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Oy(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return U(this,Ye).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=U(this,Ye).get(n.queryHash),a=s==null?void 0:s.state.data,i=sO(t,a);if(i!==void 0)return U(this,Ye).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return At.batch(()=>U(this,Ye).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,Ye).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=U(this,Ye);At.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=U(this,Ye),n={type:"active",...e};return At.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=At.batch(()=>U(this,Ye).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ar).catch(Ar)}invalidateQueries(e={},t={}){return At.batch(()=>{if(U(this,Ye).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=At.batch(()=>U(this,Ye).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ar)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=U(this,Ye).build(this,t);return r.isStaleByTime(Oy(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ar).catch(Ar)}fetchInfiniteQuery(e){return e.behavior=Ly(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ar).catch(Ar)}ensureInfiniteQueryData(e){return e.behavior=Ly(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pu.isOnline()?U(this,as).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Ye)}getMutationCache(){return U(this,as)}getDefaultOptions(){return U(this,is)}setDefaultOptions(e){he(this,is,e)}setQueryDefaults(e,t){U(this,fa).set(Ji(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,fa).values()];let r={};return t.forEach(n=>{Xi(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){U(this,ha).set(Ji(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,ha).values()];let r={};return t.forEach(n=>{Xi(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,is).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Gm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,is).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,Ye).clear(),U(this,as).clear()}},Ye=new WeakMap,as=new WeakMap,is=new WeakMap,fa=new WeakMap,ha=new WeakMap,ls=new WeakMap,pa=new WeakMap,ma=new WeakMap,Jx),CO=f.createContext(void 0),EO=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(CO.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zi.apply(this,arguments)}var ds;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ds||(ds={}));const zy="popstate";function PO(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:i,hash:l}=n.location;return Zh("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:mu(s)}return TO(t,r,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function M1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kO(){return Math.random().toString(36).substr(2,8)}function Uy(e,t){return{usr:e.state,key:e.key,idx:t}}function Zh(e,t,r,n){return r===void 0&&(r=null),Zi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fa(t):t,{state:r,key:t&&t.key||n||kO()})}function mu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function TO(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l=ds.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Zi({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){l=ds.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:v.location,delta:y})}function p(b,y){l=ds.Push;let m=Zh(v.location,b,y);u=d()+1;let x=Uy(m,u),j=v.createHref(m);try{i.pushState(x,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}a&&c&&c({action:l,location:v.location,delta:1})}function g(b,y){l=ds.Replace;let m=Zh(v.location,b,y);u=d();let x=Uy(m,u),j=v.createHref(m);i.replaceState(x,"",j),a&&c&&c({action:l,location:v.location,delta:0})}function w(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:mu(b);return m=m.replace(/ $/,"%20"),He(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let v={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(zy,h),c=b,()=>{s.removeEventListener(zy,h),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let y=w(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:g,go(b){return i.go(b)}};return v}var By;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(By||(By={}));function RO(e,t,r){return r===void 0&&(r="/"),AO(e,t,r,!1)}function AO(e,t,r,n){let s=typeof t=="string"?Fa(t):t,a=Ea(s.pathname||"/",r);if(a==null)return null;let i=D1(e);OO(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=VO(a);l=BO(i[c],u,n)}return l}function D1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(He(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ws([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(He(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),D1(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:zO(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of $1(a.path))s(a,i,c)}),t}function $1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=$1(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function OO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:UO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const IO=/^:[\w-]+$/,MO=3,DO=2,$O=1,LO=10,FO=-2,Wy=e=>e==="*";function zO(e,t){let r=e.split("/"),n=r.length;return r.some(Wy)&&(n+=FO),t&&(n+=DO),r.filter(s=>!Wy(s)).reduce((s,a)=>s+(IO.test(a)?MO:a===""?$O:LO),n)}function UO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function BO(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=gu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=gu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:ws([a,h.pathname]),pathnameBase:KO(ws([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=ws([a,h.pathnameBase]))}return i}function gu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=WO(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let v=l[h]||"";i=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[h];return g&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function WO(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),M1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function VO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return M1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function HO(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Fa(e):e;return{pathname:r?r.startsWith("/")?r:qO(r,t):t,search:YO(n),hash:QO(s)}}function qO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function wf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Km(e,t){let r=GO(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ym(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Fa(e):(s=Zi({},e),He(!s.pathname||!s.pathname.includes("?"),wf("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),wf("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),wf("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=HO(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ws=e=>e.join("/").replace(/\/\/+/g,"/"),KO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function JO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const L1=["post","put","patch","delete"];new Set(L1);const XO=["get",...L1];new Set(XO);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},el.apply(this,arguments)}const ud=f.createContext(null),F1=f.createContext(null),$n=f.createContext(null),dd=f.createContext(null),Ln=f.createContext({outlet:null,matches:[],isDataRoute:!1}),z1=f.createContext(null);function ZO(e,t){let{relative:r}=t===void 0?{}:t;za()||He(!1);let{basename:n,navigator:s}=f.useContext($n),{hash:a,pathname:i,search:l}=fd(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:ws([n,i])),s.createHref({pathname:c,search:l,hash:a})}function za(){return f.useContext(dd)!=null}function Fn(){return za()||He(!1),f.useContext(dd).location}function U1(e){f.useContext($n).static||f.useLayoutEffect(e)}function Ge(){let{isDataRoute:e}=f.useContext(Ln);return e?fI():eI()}function eI(){za()||He(!1);let e=f.useContext(ud),{basename:t,future:r,navigator:n}=f.useContext($n),{matches:s}=f.useContext(Ln),{pathname:a}=Fn(),i=JSON.stringify(Km(s,r.v7_relativeSplatPath)),l=f.useRef(!1);return U1(()=>{l.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Ym(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ws([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,i,a,e])}function Qm(){let{matches:e}=f.useContext(Ln),t=e[e.length-1];return t?t.params:{}}function fd(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext($n),{matches:s}=f.useContext(Ln),{pathname:a}=Fn(),i=JSON.stringify(Km(s,n.v7_relativeSplatPath));return f.useMemo(()=>Ym(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function tI(e,t){return rI(e,t)}function rI(e,t,r,n){za()||He(!1);let{navigator:s}=f.useContext($n),{matches:a}=f.useContext(Ln),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Fn(),d;if(t){var h;let b=typeof t=="string"?Fa(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||He(!1),d=b}else d=u;let p=d.pathname||"/",g=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=RO(e,{pathname:g}),v=iI(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ws([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ws([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return t&&v?f.createElement(dd.Provider,{value:{location:el({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ds.Pop}},v):v}function nI(){let e=dI(),t=JO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:s},r):null,null)}const sI=f.createElement(nI,null);class oI extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(Ln.Provider,{value:this.props.routeContext},f.createElement(z1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aI(e){let{routeContext:t,match:r,children:n}=e,s=f.useContext(ud);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(Ln.Provider,{value:t},n)}function iI(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||He(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:g}=r,w=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,p)=>{let g,w=!1,v=null,b=null;r&&(g=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||sI,c&&(u<0&&p===0?(w=!0,b=null):u===p&&(w=!0,b=h.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,p+1)),m=()=>{let x;return g?x=v:w?x=b:h.route.Component?x=f.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,f.createElement(aI,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?f.createElement(oI,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var B1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(B1||{}),vu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vu||{});function lI(e){let t=f.useContext(ud);return t||He(!1),t}function cI(e){let t=f.useContext(F1);return t||He(!1),t}function uI(e){let t=f.useContext(Ln);return t||He(!1),t}function W1(e){let t=uI(),r=t.matches[t.matches.length-1];return r.route.id||He(!1),r.route.id}function dI(){var e;let t=f.useContext(z1),r=cI(vu.UseRouteError),n=W1(vu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function fI(){let{router:e}=lI(B1.UseNavigateStable),t=W1(vu.UseNavigateStable),r=f.useRef(!1);return U1(()=>{r.current=!0}),f.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,el({fromRouteId:t},a)))},[e,t])}function hI(e){let{to:t,replace:r,state:n,relative:s}=e;za()||He(!1);let{future:a,static:i}=f.useContext($n),{matches:l}=f.useContext(Ln),{pathname:c}=Fn(),u=Ge(),d=Ym(t,Km(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return f.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Re(e){He(!1)}function pI(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ds.Pop,navigator:a,static:i=!1,future:l}=e;za()&&He(!1);let c=t.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:a,static:i,future:el({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=Fa(n));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:w="default"}=n,v=f.useMemo(()=>{let b=Ea(d,c);return b==null?null:{location:{pathname:b,search:h,hash:p,state:g,key:w},navigationType:s}},[c,d,h,p,g,w,s]);return v==null?null:f.createElement($n.Provider,{value:u},f.createElement(dd.Provider,{children:r,value:v}))}function Vy(e){let{children:t,location:r}=e;return tI(ep(t),r)}new Promise(()=>{});function ep(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,s)=>{if(!f.isValidElement(n))return;let a=[...t,s];if(n.type===f.Fragment){r.push.apply(r,ep(n.props.children,a));return}n.type!==Re&&He(!1),!n.props.index||!n.props.children||He(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ep(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(this,arguments)}function V1(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function mI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gI(e,t){return e.button===0&&(!t||t==="_self")&&!mI(e)}function tp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function vI(e,t){let r=tp(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const yI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xI=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],wI="6";try{window.__reactRouterVersion=wI}catch{}const bI=f.createContext({isTransitioning:!1}),jI="startTransition",Hy=c0[jI];function _I(e){let{basename:t,children:r,future:n,window:s}=e,a=f.useRef();a.current==null&&(a.current=PO({window:s,v5Compat:!0}));let i=a.current,[l,c]=f.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=f.useCallback(h=>{u&&Hy?Hy(()=>c(h)):c(h)},[c,u]);return f.useLayoutEffect(()=>i.listen(d),[i,d]),f.createElement(pI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const SI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CI=f.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=V1(t,yI),{basename:g}=f.useContext($n),w,v=!1;if(typeof u=="string"&&NI.test(u)&&(w=u,SI))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),N=Ea(j.pathname,g);j.origin===x.origin&&N!=null?u=N+j.search+j.hash:v=!0}catch{}let b=ZO(u,{relative:s}),y=kI(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function m(x){n&&n(x),x.defaultPrevented||y(x)}return f.createElement("a",yu({},p,{href:w||b,onClick:v||a?n:m,ref:r,target:c}))}),EI=f.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:i=!1,style:l,to:c,viewTransition:u,children:d}=t,h=V1(t,xI),p=fd(c,{relative:h.relative}),g=Fn(),w=f.useContext(F1),{navigator:v,basename:b}=f.useContext($n),y=w!=null&&RI(p)&&u===!0,m=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,x=g.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(x=x.toLowerCase(),j=j?j.toLowerCase():null,m=m.toLowerCase()),j&&b&&(j=Ea(j,b)||j);const N=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let _=x===m||!i&&x.startsWith(m)&&x.charAt(N)==="/",S=j!=null&&(j===m||!i&&j.startsWith(m)&&j.charAt(m.length)==="/"),P={isActive:_,isPending:S,isTransitioning:y},I=_?n:void 0,k;typeof a=="function"?k=a(P):k=[a,_?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(P):l;return f.createElement(CI,yu({},h,{"aria-current":I,className:k,ref:r,style:$,to:c,viewTransition:u}),typeof d=="function"?d(P):d)});var rp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rp||(rp={}));var qy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qy||(qy={}));function PI(e){let t=f.useContext(ud);return t||He(!1),t}function kI(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=Ge(),u=Fn(),d=fd(e,{relative:i});return f.useCallback(h=>{if(gI(h,r)){h.preventDefault();let p=n!==void 0?n:mu(u)===mu(d);c(e,{replace:p,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,a,i,l])}function TI(e){let t=f.useRef(tp(e)),r=f.useRef(!1),n=Fn(),s=f.useMemo(()=>vI(n.search,r.current?null:t.current),[n.search]),a=Ge(),i=f.useCallback((l,c)=>{const u=tp(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,i]}function RI(e,t){t===void 0&&(t={});let r=f.useContext(bI);r==null&&He(!1);let{basename:n}=PI(rp.useViewTransitionState),s=fd(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=Ea(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Ea(r.nextLocation.pathname,n)||r.nextLocation.pathname;return gu(s.pathname,i)!=null||gu(s.pathname,a)!=null}const AI="modulepreload",OI=function(e){return"/"+e},Gy={},xl=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=OI(c),c in Gy)return;Gy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":AI,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},II=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ua);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Jm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ky extends Jm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Yy extends Jm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Qy extends Jm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var np;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(np||(np={}));var MI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class DI{constructor(t,{headers:r={},customFetch:n,region:s=np.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=II(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return MI(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:a,method:i,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let p;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(u["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(u["Content-Type"]="application/json",p=JSON.stringify(l)));const g=yield this.fetch(h.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:p,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new Ky(y)}),w=g.headers.get("x-relay-error");if(w&&w==="true")throw new Yy(g);if(!g.ok)throw new Qy(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield g.json():v==="application/octet-stream"?b=yield g.blob():v==="text/event-stream"?b=g:v==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Ky(a)}:{data:null,error:a,response:a instanceof Qy||a instanceof Yy?a.context:void 0}}})}}var Ut={},Xm={},hd={},wl={},pd={},md={},$I=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pa=$I();const LI=Pa.fetch,H1=Pa.fetch.bind(Pa),q1=Pa.Headers,FI=Pa.Request,zI=Pa.Response,Ua=Object.freeze(Object.defineProperty({__proto__:null,Headers:q1,Request:FI,Response:zI,default:H1,fetch:LI},Symbol.toStringTag,{value:"Module"})),UI=PE(Ua);var gd={};Object.defineProperty(gd,"__esModule",{value:!0});let BI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gd.default=BI;var G1=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(md,"__esModule",{value:!0});const WI=G1(UI),VI=G1(gd);let HI=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=WI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c,u;let d=null,h=null,p=null,g=a.status,w=a.statusText;if(a.ok){if(this.method!=="HEAD"){const m=await a.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const b=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,g=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await a.text();try{d=JSON.parse(b),Array.isArray(d)&&a.status===404&&(h=[],d=null,g=200,w="OK")}catch{a.status===404&&b===""?(g=204,w="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,g=200,w="OK"),d&&this.shouldThrowOnError)throw new VI.default(d)}return{error:d,data:h,count:p,status:g,statusText:w}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};md.default=HI;var qI=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pd,"__esModule",{value:!0});const GI=qI(md);let KI=class extends GI.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};pd.default=KI;var YI=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wl,"__esModule",{value:!0});const QI=YI(pd);let JI=class extends QI.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};wl.default=JI;var XI=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hd,"__esModule",{value:!0});const ri=XI(wl);let ZI=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,r){const{head:n=!1,count:s}=r??{},a=n?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new ri.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ri.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ri.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new ri.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ri.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};hd.default=ZI;var K1=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xm,"__esModule",{value:!0});const eM=K1(hd),tM=K1(wl);let rM=class Y1{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new eM.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Y1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{c.searchParams.append(h,p)})):(l="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new tM.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Xm.default=rM;var Ba=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.PostgrestError=Ut.PostgrestBuilder=Ut.PostgrestTransformBuilder=Ut.PostgrestFilterBuilder=Ut.PostgrestQueryBuilder=Ut.PostgrestClient=void 0;const Q1=Ba(Xm);Ut.PostgrestClient=Q1.default;const J1=Ba(hd);Ut.PostgrestQueryBuilder=J1.default;const X1=Ba(wl);Ut.PostgrestFilterBuilder=X1.default;const Z1=Ba(pd);Ut.PostgrestTransformBuilder=Z1.default;const ej=Ba(md);Ut.PostgrestBuilder=ej.default;const tj=Ba(gd);Ut.PostgrestError=tj.default;var nM=Ut.default={PostgrestClient:Q1.default,PostgrestQueryBuilder:J1.default,PostgrestFilterBuilder:X1.default,PostgrestTransformBuilder:Z1.default,PostgrestBuilder:ej.default,PostgrestError:tj.default};const{PostgrestClient:sM,PostgrestQueryBuilder:qU,PostgrestFilterBuilder:GU,PostgrestTransformBuilder:KU,PostgrestBuilder:YU,PostgrestError:QU}=nM;class oM{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const aM="2.75.0",iM=`realtime-js/${aM}`,lM="1.0.0",sp=1e4,cM=1e3,uM=100;var ji;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ji||(ji={}));var at;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(at||(at={}));var Mr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mr||(Mr={}));var op;(function(e){e.websocket="websocket"})(op||(op={}));var Bs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Bs||(Bs={}));class dM{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class rj{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ae||(Ae={}));const Jy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,i)=>(a[i]=fM(i,e,t,s),a),{}):{}},fM=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?nj(a,i):ap(i)},nj=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return gM(t,r)}switch(e){case Ae.bool:return hM(t);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return pM(t);case Ae.json:case Ae.jsonb:return mM(t);case Ae.timestamp:return vM(t);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return ap(t);default:return ap(t)}},ap=e=>e,hM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},pM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},gM=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>nj(t,l))}return e},vM=e=>typeof e=="string"?e.replace(" ","T"):e,sj=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class bf{constructor(t,r,n={},s=sp){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xy||(Xy={}));class _i{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_i.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=_i.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_i.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=a[u];if(h){const p=d.map(b=>b.presence_ref),g=h.map(b=>b.presence_ref),w=d.filter(b=>g.indexOf(b.presence_ref)<0),v=h.filter(b=>p.indexOf(b.presence_ref)<0);w.length>0&&(l[u]=w),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(g=>g.presence_ref),p=d.filter(g=>h.indexOf(g.presence_ref)<0);t[l].unshift(...p)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Zy||(Zy={}));var Si;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Si||(Si={}));var _n;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));class Zm{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bf(this,Mr.join,this.params,this.timeout),this.rejoinTimer=new rj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new _i(this),this.broadcastEndpointURL=sj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Si.PRESENCE]&&this.bindings[Si.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},p={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(_n.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(_n.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var w;if(this.socket.setAuth(),g===void 0){t==null||t(_n.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,y=[];for(let m=0;m<b;m++){const x=v[m],{filter:{event:j,schema:N,table:_,filter:S}}=x,P=g&&g[m];if(P&&P.event===j&&P.schema===N&&P.table===_&&P.filter===S)y.push(Object.assign(Object.assign({},x),{id:P.id}));else{this.unsubscribe(),this.state=at.errored,t==null||t(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(_n.SUBSCRIBED);return}}).receive("error",g=>{this.state=at.errored,t==null||t(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===at.joined&&t===Si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=at.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new bf(this,Mr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new bf(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>uM){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Mr;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var w,v,b;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(v=g.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(g=>g.callback(p,n)):(a=this.bindings[i])===null||a===void 0||a.filter(g=>{var w,v,b,y,m,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const j=g.id,N=(w=g.filter)===null||w===void 0?void 0:w.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(m=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:v,table:b,commit_timestamp:y,type:m,errors:x}=w;p=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:y,eventType:m,new:{},old:{},errors:x}),this._getPayloadRecords(w))}g.callback(p,n)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Zm.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mr.close,{},t)}_onError(t){this._on(Mr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Jy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Jy(t.columns,t.old_record)),r}}const jf=()=>{},lc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yM=[1e3,2e3,5e3,1e4],xM=1e4,wM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bM{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sp,this.transport=null,this.heartbeatIntervalMs=lc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jf,this.ref=0,this.reconnectTimer=null,this.logger=jf,this.conn=null,this.sendBuffer=[],this.serializer=new dM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...i)=>xl(async()=>{const{default:l}=await Promise.resolve().then(()=>Ua);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...i)=>a(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${op.websocket}`,this.httpEndpoint=sj(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=oM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lM}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ji.connecting:return Bs.Connecting;case ji.open:return Bs.Open;case ji.closing:return Bs.Closing;default:return Bs.Closed}}isConnected(){return this.connectionState()===Bs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Zm(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(cM,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:i}=r,l=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([wM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:iM};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Mr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new rj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,i,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:sp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:lc.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:jf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>yM[h-1]||xM,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,p)=>p(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class eg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function et(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class jM extends eg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ip extends eg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var _M=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const oj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ua);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},SM=()=>_M(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xl(()=>Promise.resolve().then(()=>Ua),void 0)).Response:Response}),lp=e=>{if(Array.isArray(e))return e.map(r=>lp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=lp(n)}),t},NM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var yo=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _f=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CM=(e,t,r)=>yo(void 0,void 0,void 0,function*(){const n=yield SM();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,i=(s==null?void 0:s.statusCode)||a+"";t(new jM(_f(s),a,i))}).catch(s=>{t(new ip(_f(s),s))}):t(new ip(_f(e),e))}),EM=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(NM(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function bl(e,t,r,n,s,a){return yo(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,EM(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>CM(c,l,n))})})}function xu(e,t,r,n){return yo(this,void 0,void 0,function*(){return bl(e,"GET",t,r,n)})}function nn(e,t,r,n,s){return yo(this,void 0,void 0,function*(){return bl(e,"POST",t,n,s,r)})}function cp(e,t,r,n,s){return yo(this,void 0,void 0,function*(){return bl(e,"PUT",t,n,s,r)})}function PM(e,t,r,n){return yo(this,void 0,void 0,function*(){return bl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function aj(e,t,r,n,s){return yo(this,void 0,void 0,function*(){return bl(e,"DELETE",t,n,s,r)})}var kM=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class TM{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return kM(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}}var RM=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class AM{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new TM(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return RM(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}}var Ft=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const OM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ex={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class IM{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=oj(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return Ft(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},ex),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?cp:nn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ft(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:ex.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield cp(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ft(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield nn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new eg("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ft(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield nn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ft(this,void 0,void 0,function*(){try{const s=yield nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>xu(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new AM(c,this.shouldThrowOnError)}info(t){return Ft(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield xu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:lp(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}exists(t){return Ft(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield PM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n)&&n instanceof ip){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ft(this,void 0,void 0,function*(){try{return{data:yield aj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ft(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},OM),r),{prefix:t||""});return{data:yield nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}listV2(t,r){return Ft(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield nn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const MM="2.75.0",DM={"X-Client-Info":`storage-js/${MM}`};var No=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class $M{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DM),r),this.fetch=oj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return No(this,void 0,void 0,function*(){try{return{data:yield xu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}})}getBucket(t){return No(this,void 0,void 0,function*(){try{return{data:yield xu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}createBucket(t){return No(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return No(this,void 0,void 0,function*(){try{return{data:yield cp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}})}emptyBucket(t){return No(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}deleteBucket(t){return No(this,void 0,void 0,function*(){try{return{data:yield aj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}}class LM extends $M{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new IM(this.url,this.headers,t,this.fetch)}}const FM="2.75.0";let ci="";typeof Deno<"u"?ci="deno":typeof document<"u"?ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ci="react-native":ci="node";const zM={"X-Client-Info":`supabase-js-${ci}/${FM}`},UM={headers:zM},BM={schema:"public"},WM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VM={};var HM=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const qM=e=>{let t;return e?t=e:typeof fetch>"u"?t=H1:t=fetch,(...r)=>t(...r)},GM=()=>typeof Headers>"u"?q1:Headers,KM=(e,t,r)=>{const n=qM(r),s=GM();return(a,i)=>HM(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var YM=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function QM(e){return e.endsWith("/")?e:e+"/"}function JM(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>YM(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function XM(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(QM(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ij="2.75.0",Mo=30*1e3,up=3,Sf=up*Mo,ZM="http://localhost:9999",eD="supabase.auth.token",tD={"X-Client-Info":`gotrue-js/${ij}`},dp="X-Supabase-Api-Version",lj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nD=10*60*1e3;class tl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sD extends tl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function oD(e){return ne(e)&&e.name==="AuthApiError"}class Ws extends tl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class As extends tl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Qn extends As{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function aD(e){return ne(e)&&e.name==="AuthSessionMissingError"}class Co extends As{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cc extends As{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class uc extends As{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iD(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class tx extends As{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fp extends As{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Nf(e){return ne(e)&&e.name==="AuthRetryableFetchError"}class rx extends As{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hp extends As{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nx=` 	
\r=`.split(""),lD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<nx.length;t+=1)e[nx[t].charCodeAt(0)]=-2;for(let t=0;t<wu.length;t+=1)e[wu[t].charCodeAt(0)]=t;return e})();function sx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wu[n]),t.queuedBits-=6}}function cj(e,t,r){const n=lD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ox(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{dD(i,n,r)};for(let i=0;i<e.length;i+=1)cj(e.charCodeAt(i),s,a);return t.join("")}function cD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}cD(n,t)}}function dD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function na(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)cj(e.charCodeAt(s),r,n);return new Uint8Array(t)}function fD(e){const t=[];return uD(e,r=>t.push(r)),new Uint8Array(t)}function Gs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>sx(s,r,n)),sx(null,r,n),t.join("")}function hD(e){return Math.round(Date.now()/1e3)+e}function pD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const er=()=>typeof window<"u"&&typeof document<"u",Ds={tested:!1,writable:!1},uj=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ds.tested)return Ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ds.tested=!0,Ds.writable=!0}catch{Ds.tested=!0,Ds.writable=!1}return Ds.writable};function mD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const dj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ua);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},gD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Do=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},$s=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gn=async(e,t)=>{await e.removeItem(t)};class vd{constructor(){this.promise=new vd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}vd.promiseConstructor=Promise;function Cf(e){const t=e.split(".");if(t.length!==3)throw new hp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!rD.test(t[n]))throw new hp("JWT not in base64url format");return{header:JSON.parse(ox(t[0])),payload:JSON.parse(ox(t[1])),signature:na(t[2]),raw:{header:t[0],payload:t[1]}}}async function vD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yD(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function xD(e){return("0"+e.toString(16)).substr(-2)}function wD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,xD).join("")}async function bD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function jD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await bD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Eo(e,t,r=!1){const n=wD();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Do(e,`${t}-code-verifier`,s);const a=await jD(n);return[a,n===a?"plain":"s256"]}const _D=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SD(e){const t=e.headers.get(dp);if(!t||!t.match(_D))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ND(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function CD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ED=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Po(e){if(!ED.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ef(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ax(e){return JSON.parse(JSON.stringify(e))}var PD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const zs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kD=[502,503,504];async function ix(e){var t;if(!gD(e))throw new fp(zs(e),0);if(kD.includes(e.status))throw new fp(zs(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ws(zs(a),a)}let n;const s=SD(e);if(s&&s.getTime()>=lj["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new rx(zs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Qn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new rx(zs(r),e.status,r.weak_password.reasons);throw new sD(zs(r),e.status||500,n)}const TD=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function le(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[dp]||(a[dp]=lj["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await RD(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function RD(e,t,r,n,s,a){const i=TD(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new fp(zs(c),0)}if(l.ok||await ix(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await ix(c)}}function kr(e){var t;let r=null;ID(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=hD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function lx(e){const t=kr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function rs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function AD(e){return{data:e,error:null}}function OD(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=PD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function cx(e){return e}function ID(e){return e.access_token&&e.refresh_token&&e.expires_in}const Pf=["global","local","others"];var MD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class DD{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=dj(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Pf[0]){if(Pf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pf.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:rs})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=MD(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:OD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:rs})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:cx});if(d.error)throw d.error;const h=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Po(t);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:rs})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Po(t);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:rs})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Po(t);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:rs})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Po(t.userId);try{const{data:r,error:n}=await le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Po(t.userId),Po(t.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:cx});if(d.error)throw d.error;const h=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ne(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}}function ux(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ko={debug:!!(globalThis&&uj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $D extends fj{}async function LD(e,t,r){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $D(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ko.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function FD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hj(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function zD(e){return parseInt(e,16)}function UD(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function BD(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=hj(e.address),w=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${g}

${v}`;let y=`URI: ${h}
Version: ${p}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);m+=`
- ${x}`}y+=m}return`${b}
${y}`}class Ze extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class bu extends Ze{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function WD({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(mj(i)){if(a.rp.id!==i)return new Ze({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function VD({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ze({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(mj(n)){if(r.rpId!==n)return new Ze({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var pj=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class HD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const qD=new HD;function GD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=pj(e,["challenge","user","excludeCredentials"]),a=na(t).buffer,i=Object.assign(Object.assign({},r),{id:na(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:na(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function KD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=pj(e,["challenge","allowCredentials"]),s=na(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];a.allowCredentials[i]=Object.assign(Object.assign({},l),{id:na(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function YD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Gs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Gs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function QD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Gs(new Uint8Array(s.authenticatorData)),clientDataJSON:Gs(new Uint8Array(s.clientDataJSON)),signature:Gs(new Uint8Array(s.signature)),userHandle:s.userHandle?Gs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mj(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function dx(){var e,t;return!!(er()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function JD(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bu("Browser returned unexpected credential type",t)}:{data:null,error:new bu("Empty credential response",t)}}catch(t){return{data:null,error:WD({error:t,options:e})}}}async function XD(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bu("Browser returned unexpected credential type",t)}:{data:null,error:new bu("Empty credential response",t)}}catch(t){return{data:null,error:VD({error:t,options:e})}}}const ZD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},e4={userVerification:"preferred",hints:["security-key"]};function ju(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const i=s[a];if(i!==void 0)if(Array.isArray(i))n[a]=i;else if(r(i))n[a]=i;else if(t(i)){const l=n[a];t(l)?n[a]=ju(l,i):n[a]=ju(i)}else n[a]=i}return n}function t4(e,t){return ju(ZD,e,t||{})}function r4(e,t){return ju(e4,e,t||{})}class n4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=s??qD.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=t4(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:h}=await JD({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=r4(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:h}=await XD(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(i){return ne(i)?{data:null,error:i}:{data:null,error:new Ws("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!r)return{data:null,error:new tl("rpId is required for WebAuthn authentication")};try{if(!dx())return{data:null,error:new Ws("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return ne(i)?{data:null,error:i}:{data:null,error:new Ws("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!r)return{data:null,error:new tl("rpId is required for WebAuthn registration")};try{if(!dx())return{data:null,error:new Ws("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return ne(i)?{data:null,error:i}:{data:null,error:new Ws("Unexpected error in register",i)}}}}FD();const s4={url:ZM,storageKey:eD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fx(e,t,r){return await r()}const To={};class rl{get jwks(){var t,r;return(r=(t=To[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=To[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rl.nextInstanceID,rl.nextInstanceID+=1,this.instanceID>0&&er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},s4),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new DD({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=dj(s.fetch),this.lock=s.lock||fx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:er()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=LD:this.lock=fx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new n4(this)},this.persistSession?(s.storage?this.storage=s.storage:uj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ux(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ux(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ij}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=mD(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),er()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),iD(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?{error:r}:{error:new Ws("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:kr}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:p}=t;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await Eo(this.storage,this.storageKey)),a=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:w},xform:kr})}else if("phone"in t){const{phone:d,password:h,options:p}=t;a=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:kr})}else throw new cc("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:lx})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:lx})}else throw new cc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Co}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,i,l,c,u,d,h,p;let g,w;if("message"in t)g=t.message,w=t.signature;else{const{chain:v,wallet:b,statement:y,options:m}=t;let x;if(er())if(typeof b=="object")x=b;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")x=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const j=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),N=await x.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=hj(N[0]);let S=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const I=await x.request({method:"eth_chainId"});S=zD(I)}const P={domain:j.host,address:_,statement:y,uri:j.href,version:"1",chainId:S,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=BD(P),w=await x.request({method:"personal_sign",params:[UD(g),_]})}try{const{data:v,error:b}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:kr});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Co}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(ne(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var r,n,s,a,i,l,c,u,d,h,p,g;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:b,wallet:y,statement:m,options:x}=t;let j;if(er())if(typeof y=="object")j=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const N=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),m?{statement:m}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)w=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:b,error:y}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Gs(v)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:kr});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Co}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(ne(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await $s(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:kr});if(await Gn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Co}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(ne(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:kr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Co}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Eo(this.storage,this.storageKey));const{error:h}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new cc("You must provide either an email or phone number.")}catch(l){if(ne(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:kr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await Eo(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:AD})}catch(a){if(ne(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Qn;const{error:s}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await le(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await le(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new cc("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await $s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Sf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await $s(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Ef()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:rs}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qn}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:rs})})}catch(r){if(ne(r))return aD(r)&&(await this._removeSession(),await Gn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Qn;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Eo(this.storage,this.storageKey));const{data:u,error:d}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:rs});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qn;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=Cf(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ne(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Qn;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!er())throw new uc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new uc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new tx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new tx("No code detected.");const{data:m,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new uc("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const g=p-d;g*1e3<=Mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const w=p-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,d);const{data:v,error:b}=await this._getUser(a);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:p,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(ne(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await $s(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(oD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Gn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=pD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Eo(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ne(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:h,error:p}=a;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return er()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ne(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,h=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:kr}),{data:p,error:g}=h;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Co}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:g})}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yD(async s=>(s>0&&await vD(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kr})),(s,a)=>{const i=200*Math.pow(2,s);return a&&Nf(a)&&Date.now()+i-n<Mo})}catch(n){if(this._debug(r,"error",n),ne(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),er()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await $s(this.storage,this.storageKey);if(s&&this.userStorage){let i=await $s(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Do(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Ef()}else if(s&&!s.user&&!s.user){const i=await $s(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Gn(this.storage,this.storageKey+"-user"),await Do(this.storage,this.storageKey,s)):s.user=Ef()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Sf}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Nf(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Qn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vd;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new Qn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),ne(a)){const i={data:null,error:a};return Nf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Do(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=ax(s);await Do(this.storage,this.storageKey,a)}else{const s=ax(r);await Do(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Gn(this.storage,this.storageKey),await Gn(this.storage,this.storageKey+"-code-verifier"),await Gn(this.storage,this.storageKey+"-user"),this.userStorage&&await Gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&er()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mo}ms, refresh threshold is ${up} ticks`),s<=up&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await Eo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await le(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?YD(t.webauthn.credential_response):QD(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const i=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:GD(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:KD(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Cf(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+nD>s)return n;const{data:a,error:i}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:w}=await this.getSession();if(w||!g.session)return{data:null,error:w};n=g.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=Cf(n);r!=null&&r.allowExpired||ND(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:s,signature:i},error:null}}const d=CD(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,fD(`${l}.${c}`)))throw new hp("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}}rl.nextInstanceID=0;const o4=rl;class a4 extends o4{constructor(t){super(t)}}var i4=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class l4{constructor(t,r,n){var s,a,i;this.supabaseUrl=t,this.supabaseKey=r;const l=XM(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:BM,realtime:VM,auth:Object.assign(Object.assign({},WM),{storageKey:c}),global:UM},d=JM(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=KM(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new sM(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new LM(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new DI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return i4(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:i,flowType:l,lock:c,debug:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a4({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new bM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const c4=(e,t,r)=>new l4(e,t,r);function u4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}u4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const d4="https://yrjwyeuqfleqhbveohrf.supabase.co",f4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlyand5ZXVxZmxlcWhidmVvaHJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NjM1OTUsImV4cCI6MjA3NTUzOTU5NX0.QeAWfPjecNzz_d1MY1UHYmVN9bYl23rzot9gDsUtXKY",ns=c4(d4,f4,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),ni="php-api-proxy";class h4{getAuthHeader(){const t=this.getToken();return t?{Authorization:`Bearer ${t}`}:{}}async login(t){try{const{data:r,error:n}=await ns.functions.invoke(ni,{body:{action:"login",...t}});if(n)throw n;return r.success&&r.token&&(this.setToken(r.token),r.refresh_token&&this.setRefreshToken(r.refresh_token),r.user_id&&localStorage.setItem("user_id",r.user_id.toString()),r.username&&localStorage.setItem("username",r.username),r.nivel&&localStorage.setItem("nivel",r.nivel)),r}catch(r){return console.error("Login error:",r),{success:!1,error:"Error de conexin. Por favor, intenta de nuevo."}}}async register(t){try{const{data:r,error:n}=await ns.functions.invoke(ni,{body:t});if(n)throw n;const s=r;return s.success&&s.token&&(this.setToken(s.token),s.refresh_token&&this.setRefreshToken(s.refresh_token),s.user_id&&localStorage.setItem("user_id",s.user_id.toString()),s.username&&localStorage.setItem("username",s.username),s.nivel&&localStorage.setItem("nivel",s.nivel)),s}catch(r){return console.error("Register error:",r),{success:!1,error:"Error de conexin. Por favor, intenta de nuevo."}}}async refreshToken(){const t=this.getRefreshToken();if(!t)return{success:!1,error:"No refresh token available"};try{const{data:r,error:n}=await ns.functions.invoke(ni,{body:{action:"refresh_token",refresh_token:t}});if(n)throw n;return r.success&&r.token&&(this.setToken(r.token),r.user_id&&localStorage.setItem("user_id",r.user_id.toString()),r.username&&localStorage.setItem("username",r.username),r.nivel&&localStorage.setItem("nivel",r.nivel)),r}catch(r){return console.error("Refresh token error:",r),{success:!1,error:"Error al refrescar el token"}}}async getUserProfile(t){try{const{data:r,error:n}=await ns.functions.invoke(ni,{body:{id:t},headers:this.getAuthHeader()});if(n)throw n;return r.error?null:r}catch(r){return console.error("Get user profile error:",r),null}}async recoverPassword(t){try{const{data:r,error:n}=await ns.functions.invoke(ni,{body:{action:"recover",email:t}});if(n)throw n;return r}catch(r){return console.error("Recover password error:",r),{success:!1,error:"Error al solicitar recuperacin de contrasea"}}}logout(){localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user_id"),localStorage.removeItem("username"),localStorage.removeItem("nivel")}getToken(){return localStorage.getItem("auth_token")}setToken(t){localStorage.setItem("auth_token",t)}getRefreshToken(){return localStorage.getItem("refresh_token")}setRefreshToken(t){localStorage.setItem("refresh_token",t)}isAuthenticated(){const t=this.getToken();if(!t)return!1;try{const r=this.decodeToken(t);return!(!r||!r.exp||r.exp*1e3<Date.now())}catch{return!1}}decodeToken(t){try{const r=t.split(".");if(r.length!==3)return null;const n=r[1],s=atob(n);return JSON.parse(s)}catch{return null}}getCurrentUser(){const t=localStorage.getItem("user_id"),r=localStorage.getItem("username"),n=localStorage.getItem("nivel");return!t||!r?null:{id:parseInt(t),username:r,nivel:n||"invitado"}}}const pt=new h4,gj=f.createContext(void 0),p4=({children:e})=>{const[t,r]=f.useState(null),[n,s]=f.useState(!0);f.useEffect(()=>{(async()=>{if(pt.isAuthenticated()){const u=pt.getCurrentUser();if(u)r(u);else if((await pt.refreshToken()).success){const h=pt.getCurrentUser();r(h)}else pt.logout()}s(!1)})()},[]);const a=async(c,u,d=!1)=>{try{const h=await pt.login({email:c,password:u,remember:d});if(h.success){const p=pt.getCurrentUser();return r(p),{success:!0}}return{success:!1,error:h.error||"Error al iniciar sesin"}}catch{return{success:!1,error:"Error de conexin"}}},i=async(c,u,d)=>{try{const h=await pt.register({username:c,email:u,password:d});if(h.success){const p=pt.getCurrentUser();return r(p),{success:!0}}return{success:!1,error:h.error||"Error al registrarse"}}catch{return{success:!1,error:"Error de conexin"}}},l=()=>{pt.logout(),r(null)};return o.jsx(gj.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:n,isSuperAdmin:(t==null?void 0:t.nivel)==="SA",isAdmin:(t==null?void 0:t.nivel)==="admin",login:a,register:i,logout:l},children:e})},Ke=()=>{const e=f.useContext(gj);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},m4=({children:e})=>{const{isAuthenticated:t,isLoading:r}=Ke();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-green-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(rt,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):t?o.jsx(o.Fragment,{children:e}):o.jsx(hI,{to:"/auth",replace:!0})},kf=768;function g4(){const[e,t]=f.useState(void 0);return f.useEffect(()=>{const r=window.matchMedia(`(max-width: ${kf-1}px)`),n=()=>{t(window.innerWidth<kf)};return r.addEventListener("change",n),t(window.innerWidth<kf),()=>r.removeEventListener("change",n)},[]),!!e}const nl=vo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),B=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?Qt:"button";return o.jsx(i,{className:W(nl({variant:t,size:r,className:e})),ref:a,...s})});B.displayName="Button";const je=f.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));je.displayName="Input";var v4="Separator",hx="horizontal",y4=["horizontal","vertical"],vj=f.forwardRef((e,t)=>{const{decorative:r,orientation:n=hx,...s}=e,a=x4(n)?n:hx,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(Q.div,{"data-orientation":a,...l,...s,ref:t})});vj.displayName=v4;function x4(e){return y4.includes(e)}var yj=vj;const Nt=f.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(yj,{ref:s,decorative:r,orientation:t,className:W("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Nt.displayName=yj.displayName;var Tf="focusScope.autoFocusOnMount",Rf="focusScope.autoFocusOnUnmount",px={bubbles:!1,cancelable:!0},w4="FocusScope",jl=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=f.useState(null),u=Be(s),d=Be(a),h=f.useRef(null),p=ie(t,v=>c(v)),g=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let v=function(x){if(g.paused||!l)return;const j=x.target;l.contains(j)?h.current=j:Jn(h.current,{select:!0})},b=function(x){if(g.paused||!l)return;const j=x.relatedTarget;j!==null&&(l.contains(j)||Jn(h.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const N of x)N.removedNodes.length>0&&Jn(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const m=new MutationObserver(y);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),m.disconnect()}}},[n,l,g.paused]),f.useEffect(()=>{if(l){gx.add(g);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(Tf,px);l.addEventListener(Tf,u),l.dispatchEvent(y),y.defaultPrevented||(b4(C4(xj(l)),{select:!0}),document.activeElement===v&&Jn(l))}return()=>{l.removeEventListener(Tf,u),setTimeout(()=>{const y=new CustomEvent(Rf,px);l.addEventListener(Rf,d),l.dispatchEvent(y),y.defaultPrevented||Jn(v??document.body,{select:!0}),l.removeEventListener(Rf,d),gx.remove(g)},0)}}},[l,u,d,g]);const w=f.useCallback(v=>{if(!r&&!n||g.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(b&&y){const m=v.currentTarget,[x,j]=j4(m);x&&j?!v.shiftKey&&y===j?(v.preventDefault(),r&&Jn(x,{select:!0})):v.shiftKey&&y===x&&(v.preventDefault(),r&&Jn(j,{select:!0})):y===m&&v.preventDefault()}},[r,n,g.paused]);return o.jsx(Q.div,{tabIndex:-1,...i,ref:p,onKeyDown:w})});jl.displayName=w4;function b4(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Jn(n,{select:t}),document.activeElement!==r)return}function j4(e){const t=xj(e),r=mx(t,e),n=mx(t.reverse(),e);return[r,n]}function xj(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function mx(e,t){for(const r of e)if(!_4(r,{upTo:t}))return r}function _4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function S4(e){return e instanceof HTMLInputElement&&"select"in e}function Jn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&S4(e)&&t&&e.select()}}var gx=N4();function N4(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=vx(e,t),e.unshift(t)},remove(t){var r;e=vx(e,t),(r=e[0])==null||r.resume()}}}function vx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function C4(e){return e.filter(t=>t.tagName!=="A")}var Af=0;function yd(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yx()),document.body.insertAdjacentElement("beforeend",e[1]??yx()),Af++,()=>{Af===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Af--}},[])}function yx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cn=function(){return cn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},cn.apply(this,arguments)};function wj(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function E4(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Oc="right-scroll-bar-position",Ic="width-before-scroll-bar",P4="with-scroll-bars-hidden",k4="--removed-body-scroll-bar-size";function Of(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function T4(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var R4=typeof window<"u"?f.useLayoutEffect:f.useEffect,xx=new WeakMap;function A4(e,t){var r=T4(null,function(n){return e.forEach(function(s){return Of(s,n)})});return R4(function(){var n=xx.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||Of(l,null)}),a.forEach(function(l){s.has(l)||Of(l,i)})}xx.set(r,e)},[e]),r}function O4(e){return e}function I4(e,t){t===void 0&&(t=O4);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function M4(e){e===void 0&&(e={});var t=I4(null);return t.options=cn({async:!0,ssr:!1},e),t}var bj=function(e){var t=e.sideCar,r=wj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,cn({},r))};bj.isSideCarExport=!0;function D4(e,t){return e.useMedium(t),bj}var jj=M4(),If=function(){},xd=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:If,onWheelCapture:If,onTouchMoveCapture:If}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,g=e.noIsolation,w=e.inert,v=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,m=e.gapMode,x=wj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=p,N=A4([r,t]),_=cn(cn({},x),s);return f.createElement(f.Fragment,null,d&&f.createElement(j,{sideCar:jj,removeScrollBar:u,shards:h,noIsolation:g,inert:w,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:m}),i?f.cloneElement(f.Children.only(l),cn(cn({},_),{ref:N})):f.createElement(y,cn({},_,{className:c,ref:N}),l))});xd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xd.classNames={fullWidth:Ic,zeroRight:Oc};var $4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$4();return t&&e.setAttribute("nonce",t),e}function F4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function z4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var U4=function(){var e=0,t=null;return{add:function(r){e==0&&(t=L4())&&(F4(t,r),z4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},B4=function(){var e=U4();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},_j=function(){var e=B4(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},W4={left:0,top:0,right:0,gap:0},Mf=function(e){return parseInt(e||"",10)||0},V4=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Mf(r),Mf(n),Mf(s)]},H4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return W4;var t=V4(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},q4=_j(),sa="data-scroll-locked",G4=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(P4,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(sa,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ic,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Oc," .").concat(Oc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(sa,`] {
    `).concat(k4,": ").concat(l,`px;
  }
`)},wx=function(){var e=parseInt(document.body.getAttribute(sa)||"0",10);return isFinite(e)?e:0},K4=function(){f.useEffect(function(){return document.body.setAttribute(sa,(wx()+1).toString()),function(){var e=wx()-1;e<=0?document.body.removeAttribute(sa):document.body.setAttribute(sa,e.toString())}},[])},Y4=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;K4();var a=f.useMemo(function(){return H4(s)},[s]);return f.createElement(q4,{styles:G4(a,!t,s,r?"":"!important")})},pp=!1;if(typeof window<"u")try{var dc=Object.defineProperty({},"passive",{get:function(){return pp=!0,!0}});window.addEventListener("test",dc,dc),window.removeEventListener("test",dc,dc)}catch{pp=!1}var Ro=pp?{passive:!1}:!1,Q4=function(e){return e.tagName==="TEXTAREA"},Sj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Q4(e)&&r[t]==="visible")},J4=function(e){return Sj(e,"overflowY")},X4=function(e){return Sj(e,"overflowX")},bx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Nj(e,n);if(s){var a=Cj(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Z4=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},e$=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Nj=function(e,t){return e==="v"?J4(t):X4(t)},Cj=function(e,t){return e==="v"?Z4(t):e$(t)},t$=function(e,t){return e==="h"&&t==="rtl"?-1:1},r$=function(e,t,r,n,s){var a=t$(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,h=0,p=0;do{var g=Cj(e,l),w=g[0],v=g[1],b=g[2],y=v-b-a*w;(w||y)&&Nj(e,l)&&(h+=y,p+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},fc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jx=function(e){return[e.deltaX,e.deltaY]},_x=function(e){return e&&"current"in e?e.current:e},n$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},s$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},o$=0,Ao=[];function a$(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),s=f.useState(o$++)[0],a=f.useState(_j)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=E4([e.lockRef.current],(e.shards||[]).map(_x),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var y=fc(v),m=r.current,x="deltaX"in v?v.deltaX:m[0]-y[0],j="deltaY"in v?v.deltaY:m[1]-y[1],N,_=v.target,S=Math.abs(x)>Math.abs(j)?"h":"v";if("touches"in v&&S==="h"&&_.type==="range")return!1;var P=bx(S,_);if(!P)return!0;if(P?N=S:(N=S==="v"?"h":"v",P=bx(S,_)),!P)return!1;if(!n.current&&"changedTouches"in v&&(x||j)&&(n.current=N),!N)return!0;var I=n.current||N;return r$(I,b,v,I==="h"?x:j,!0)},[]),c=f.useCallback(function(v){var b=v;if(!(!Ao.length||Ao[Ao.length-1]!==a)){var y="deltaY"in b?jx(b):fc(b),m=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&n$(N.delta,y)})[0];if(m&&m.should){b.cancelable&&b.preventDefault();return}if(!m){var x=(i.current.shards||[]).map(_x).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=x.length>0?l(b,x[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(v,b,y,m){var x={name:v,delta:b,target:y,should:m,shadowParent:i$(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(j){return j!==x})},1)},[]),d=f.useCallback(function(v){r.current=fc(v),n.current=void 0},[]),h=f.useCallback(function(v){u(v.type,jx(v),v.target,l(v,e.lockRef.current))},[]),p=f.useCallback(function(v){u(v.type,fc(v),v.target,l(v,e.lockRef.current))},[]);f.useEffect(function(){return Ao.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ro),document.addEventListener("touchmove",c,Ro),document.addEventListener("touchstart",d,Ro),function(){Ao=Ao.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Ro),document.removeEventListener("touchmove",c,Ro),document.removeEventListener("touchstart",d,Ro)}},[]);var g=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(a,{styles:s$(s)}):null,g?f.createElement(Y4,{gapMode:e.gapMode}):null)}function i$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const l$=D4(jj,a$);var _l=f.forwardRef(function(e,t){return f.createElement(xd,cn({},e,{ref:t,sideCar:l$}))});_l.classNames=xd.classNames;var c$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oo=new WeakMap,hc=new WeakMap,pc={},Df=0,Ej=function(e){return e&&(e.host||Ej(e.parentNode))},u$=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Ej(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},d$=function(e,t,r,n){var s=u$(t,Array.isArray(e)?e:[e]);pc[r]||(pc[r]=new WeakMap);var a=pc[r],i=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))d(p);else try{var g=p.getAttribute(n),w=g!==null&&g!=="false",v=(Oo.get(p)||0)+1,b=(a.get(p)||0)+1;Oo.set(p,v),a.set(p,b),i.push(p),v===1&&w&&hc.set(p,!0),b===1&&p.setAttribute(r,"true"),w||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return d(t),l.clear(),Df++,function(){i.forEach(function(h){var p=Oo.get(h)-1,g=a.get(h)-1;Oo.set(h,p),a.set(h,g),p||(hc.has(h)||h.removeAttribute(n),hc.delete(h)),g||h.removeAttribute(r)}),Df--,Df||(Oo=new WeakMap,Oo=new WeakMap,hc=new WeakMap,pc={})}},wd=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=c$(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),d$(n,s,r,"aria-hidden")):function(){return null}},tg="Dialog",[Pj,kj]=Et(tg),[f$,Kr]=Pj(tg),Tj=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=f.useRef(null),c=f.useRef(null),[u=!1,d]=Jt({prop:n,defaultProp:s,onChange:a});return o.jsx(f$,{scope:t,triggerRef:l,contentRef:c,contentId:Gt(),titleId:Gt(),descriptionId:Gt(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:i,children:r})};Tj.displayName=tg;var Rj="DialogTrigger",Aj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(Rj,r),a=ie(t,s.triggerRef);return o.jsx(Q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sg(s.open),...n,ref:a,onClick:H(e.onClick,s.onOpenToggle)})});Aj.displayName=Rj;var rg="DialogPortal",[h$,Oj]=Pj(rg,{forceMount:void 0}),Ij=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Kr(rg,t);return o.jsx(h$,{scope:t,forceMount:r,children:f.Children.map(n,i=>o.jsx(st,{present:r||a.open,children:o.jsx(Ma,{asChild:!0,container:s,children:i})}))})};Ij.displayName=rg;var _u="DialogOverlay",Mj=f.forwardRef((e,t)=>{const r=Oj(_u,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Kr(_u,e.__scopeDialog);return a.modal?o.jsx(st,{present:n||a.open,children:o.jsx(p$,{...s,ref:t})}):null});Mj.displayName=_u;var p$=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(_u,r);return o.jsx(_l,{as:Qt,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Q.div,{"data-state":sg(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),io="DialogContent",Dj=f.forwardRef((e,t)=>{const r=Oj(io,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Kr(io,e.__scopeDialog);return o.jsx(st,{present:n||a.open,children:a.modal?o.jsx(m$,{...s,ref:t}):o.jsx(g$,{...s,ref:t})})});Dj.displayName=io;var m$=f.forwardRef((e,t)=>{const r=Kr(io,e.__scopeDialog),n=f.useRef(null),s=ie(t,r.contentRef,n);return f.useEffect(()=>{const a=n.current;if(a)return wd(a)},[]),o.jsx($j,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:H(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:H(e.onFocusOutside,a=>a.preventDefault())})}),g$=f.forwardRef((e,t)=>{const r=Kr(io,e.__scopeDialog),n=f.useRef(!1),s=f.useRef(!1);return o.jsx($j,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),$j=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Kr(io,r),c=f.useRef(null),u=ie(t,c);return yd(),o.jsxs(o.Fragment,{children:[o.jsx(jl,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(go,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":sg(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(y$,{titleId:l.titleId}),o.jsx(w$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ng="DialogTitle",Lj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(ng,r);return o.jsx(Q.h2,{id:s.titleId,...n,ref:t})});Lj.displayName=ng;var Fj="DialogDescription",zj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(Fj,r);return o.jsx(Q.p,{id:s.descriptionId,...n,ref:t})});zj.displayName=Fj;var Uj="DialogClose",Bj=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Kr(Uj,r);return o.jsx(Q.button,{type:"button",...n,ref:t,onClick:H(e.onClick,()=>s.onOpenChange(!1))})});Bj.displayName=Uj;function sg(e){return e?"open":"closed"}var Wj="DialogTitleWarning",[v$,Vj]=dT(Wj,{contentName:io,titleName:ng,docsSlug:"dialog"}),y$=({titleId:e})=>{const t=Vj(Wj),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},x$="DialogDescriptionWarning",w$=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Vj(x$).contentName}}.`;return f.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},og=Tj,Hj=Aj,ag=Ij,Sl=Mj,Nl=Dj,Cl=Lj,El=zj,bd=Bj;const b$=og,j$=ag,qj=f.forwardRef(({className:e,...t},r)=>o.jsx(Sl,{className:W("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));qj.displayName=Sl.displayName;const _$=vo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Gj=f.forwardRef(({side:e="right",className:t,children:r,...n},s)=>o.jsxs(j$,{children:[o.jsx(qj,{}),o.jsxs(Nl,{ref:s,className:W(_$({side:e}),t),...n,children:[r,o.jsxs(bd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(On,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gj.displayName=Nl.displayName;const S$=f.forwardRef(({className:e,...t},r)=>o.jsx(Cl,{ref:r,className:W("text-lg font-semibold text-foreground",e),...t}));S$.displayName=Cl.displayName;const N$=f.forwardRef(({className:e,...t},r)=>o.jsx(El,{ref:r,className:W("text-sm text-muted-foreground",e),...t}));N$.displayName=El.displayName;function Sx({className:e,...t}){return o.jsx("div",{className:W("animate-pulse rounded-md bg-muted",e),...t})}const C$="sidebar:state",E$=60*60*24*7,P$="16rem",k$="18rem",T$="3rem",R$="b",Kj=f.createContext(null);function Pl(){const e=f.useContext(Kj);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Yj=f.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:s,children:a,...i},l)=>{const c=g4(),[u,d]=f.useState(!1),[h,p]=f.useState(e),g=t??h,w=f.useCallback(m=>{const x=typeof m=="function"?m(g):m;r?r(x):p(x),document.cookie=`${C$}=${x}; path=/; max-age=${E$}`},[r,g]),v=f.useCallback(()=>c?d(m=>!m):w(m=>!m),[c,w,d]);f.useEffect(()=>{const m=x=>{x.key===R$&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),v())};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[v]);const b=g?"expanded":"collapsed",y=f.useMemo(()=>({state:b,open:g,setOpen:w,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:v}),[b,g,w,c,u,d,v]);return o.jsx(Kj.Provider,{value:y,children:o.jsx(C1,{delayDuration:0,children:o.jsx("div",{style:{"--sidebar-width":P$,"--sidebar-width-icon":T$,...s},className:W("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...i,children:a})})})});Yj.displayName="SidebarProvider";const Qj=f.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...a},i)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=Pl();return r==="none"?o.jsx("div",{className:W("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:i,...a,children:s}):l?o.jsx(b$,{open:u,onOpenChange:d,...a,children:o.jsx(Gj,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":k$},side:e,children:o.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):o.jsxs("div",{ref:i,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[o.jsx("div",{className:W("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),o.jsx("div",{className:W("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:o.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});Qj.displayName="Sidebar";const Jj=f.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=Pl();return o.jsxs(B,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:W("h-7 w-7",e),onClick:a=>{t==null||t(a),s()},...r,children:[o.jsx(l2,{}),o.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Jj.displayName="SidebarTrigger";const A$=f.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Pl();return o.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:W("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});A$.displayName="SidebarRail";const O$=f.forwardRef(({className:e,...t},r)=>o.jsx("main",{ref:r,className:W("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));O$.displayName="SidebarInset";const I$=f.forwardRef(({className:e,...t},r)=>o.jsx(je,{ref:r,"data-sidebar":"input",className:W("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));I$.displayName="SidebarInput";const M$=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"header",className:W("flex flex-col gap-2 p-2",e),...t}));M$.displayName="SidebarHeader";const D$=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"footer",className:W("flex flex-col gap-2 p-2",e),...t}));D$.displayName="SidebarFooter";const $$=f.forwardRef(({className:e,...t},r)=>o.jsx(Nt,{ref:r,"data-sidebar":"separator",className:W("mx-2 w-auto bg-sidebar-border",e),...t}));$$.displayName="SidebarSeparator";const Xj=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"content",className:W("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Xj.displayName="SidebarContent";const Zj=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"group",className:W("relative flex w-full min-w-0 flex-col p-2",e),...t}));Zj.displayName="SidebarGroup";const e_=f.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Qt:"div";return o.jsx(s,{ref:n,"data-sidebar":"group-label",className:W("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});e_.displayName="SidebarGroupLabel";const L$=f.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Qt:"button";return o.jsx(s,{ref:n,"data-sidebar":"group-action",className:W("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});L$.displayName="SidebarGroupAction";const t_=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"group-content",className:W("w-full text-sm",e),...t}));t_.displayName="SidebarGroupContent";const r_=f.forwardRef(({className:e,...t},r)=>o.jsx("ul",{ref:r,"data-sidebar":"menu",className:W("flex w-full min-w-0 flex-col gap-1",e),...t}));r_.displayName="SidebarMenu";const n_=f.forwardRef(({className:e,...t},r)=>o.jsx("li",{ref:r,"data-sidebar":"menu-item",className:W("group/menu-item relative",e),...t}));n_.displayName="SidebarMenuItem";const F$=vo("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),s_=f.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:s,className:a,...i},l)=>{const c=e?Qt:"button",{isMobile:u,state:d}=Pl(),h=o.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:W(F$({variant:r,size:n}),a),...i});return s?(typeof s=="string"&&(s={children:s}),o.jsxs(rO,{children:[o.jsx(nO,{asChild:!0,children:h}),o.jsx(E1,{side:"right",align:"center",hidden:d!=="collapsed"||u,...s})]})):h});s_.displayName="SidebarMenuButton";const z$=f.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const a=t?Qt:"button";return o.jsx(a,{ref:s,"data-sidebar":"menu-action",className:W("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});z$.displayName="SidebarMenuAction";const U$=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:W("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));U$.displayName="SidebarMenuBadge";const B$=f.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=f.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return o.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:W("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&o.jsx(Sx,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),o.jsx(Sx,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});B$.displayName="SidebarMenuSkeleton";const W$=f.forwardRef(({className:e,...t},r)=>o.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:W("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));W$.displayName="SidebarMenuSub";const V$=f.forwardRef(({...e},t)=>o.jsx("li",{ref:t,...e}));V$.displayName="SidebarMenuSubItem";const H$=f.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},a)=>{const i=e?Qt:"a";return o.jsx(i,{ref:a,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:W("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});H$.displayName="SidebarMenuSubButton";const mp="/assets/logo-DcrNW_B4.png",q$=[{group:"Principal",items:[{title:"Inicio",url:"/",icon:r2}]},{group:"Tests",items:[{title:"Iniciar Test",url:"/test",icon:_t},{title:"Simulacro Cronometrado",url:"/simulacro",icon:_a},{title:"Test Psicotcnico",url:"/test-psicotecnico",icon:qi},{title:"Simulacro Psicotcnico",url:"/simulacro-psicotecnico",icon:v2},{title:"Test de Personalidad",url:"/test-personalidad",icon:Wb}]},{group:"Mi Progreso",items:[{title:"Estadsticas",url:"/estadisticas",icon:Sa},{title:"Historial",url:"/historial",icon:t2},{title:"Ranking",url:"/ranking",icon:lu}]},{group:"Herramientas IA",items:[{title:"Generar Preguntas",url:"/crear-test",icon:g2,requiresSA:!0},{title:"Generar Psicotcnicos",url:"/crear-psicotecnicos",icon:Gi,requiresSA:!0},{title:"Crear Resumen",url:"/crear-resumen",icon:ZT},{title:"Planes de Estudio",url:"/planes-estudio",icon:Fr,notForUsuario:!0},{title:"Planes Fsicos",url:"/planes-fisicos",icon:Om,notForUsuario:!0}]},{group:"Recursos",items:[{title:"Resmenes",url:"/resumenes",icon:eo}]}];function G$(){const{open:e}=Pl(),t=Fn(),{isSuperAdmin:r,isAdmin:n}=Ke(),s=i=>i==="/"?t.pathname==="/":t.pathname.startsWith(i),a=q$.map(i=>i.group==="Herramientas IA"?r?i:n?{...i,items:i.items.filter(l=>!l.requiresSA)}:null:i).filter(Boolean);return o.jsx(Qj,{collapsible:"icon",children:o.jsxs(Xj,{children:[o.jsx("div",{className:"p-4 border-b flex items-center justify-center",children:e?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:mp,alt:"Oposiciones Test",className:"h-8 w-8"}),o.jsxs("h2",{className:"font-bold text-lg",children:[o.jsx("span",{className:"text-blue-600",children:"Oposiciones-"}),o.jsx("span",{className:"text-green-600",children:"Test"})]})]}):o.jsx("img",{src:mp,alt:"OT",className:"h-8 w-8"})}),a.map(i=>o.jsxs(Zj,{children:[e&&o.jsx(e_,{children:i.group}),o.jsx(t_,{children:o.jsx(r_,{children:i.items.map(l=>{const c=s(l.url);return o.jsx(n_,{children:o.jsx(s_,{asChild:!0,isActive:c,children:o.jsxs(EI,{to:l.url,end:l.url==="/",children:[o.jsx(l.icon,{className:"h-4 w-4"}),o.jsx("span",{children:l.title})]})})},l.title)})})})]},i.group))]})})}var K$=f.createContext(void 0);function xo(e){const t=f.useContext(K$);return e||t||"ltr"}function Y$(e,t=[]){let r=[];function n(a,i){const l=f.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:p,children:g,...w}=h,v=(p==null?void 0:p[e][c])||l,b=f.useMemo(()=>w,Object.values(w));return o.jsx(v.Provider,{value:b,children:g})}function d(h,p){const g=(p==null?void 0:p[e][c])||l,w=f.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Q$(s,...t)]}function Q$(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var $f="rovingFocusGroup.onEntryFocus",J$={bubbles:!1,cancelable:!0},jd="RovingFocusGroup",[gp,o_,X$]=ml(jd),[Z$,Wa]=Y$(jd,[X$]),[eL,tL]=Z$(jd),a_=f.forwardRef((e,t)=>o.jsx(gp.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(gp.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(rL,{...e,ref:t})})}));a_.displayName=jd;var rL=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=f.useRef(null),g=ie(t,p),w=xo(a),[v=null,b]=Jt({prop:i,defaultProp:l,onChange:c}),[y,m]=f.useState(!1),x=Be(u),j=o_(r),N=f.useRef(!1),[_,S]=f.useState(0);return f.useEffect(()=>{const P=p.current;if(P)return P.addEventListener($f,x),()=>P.removeEventListener($f,x)},[x]),o.jsx(eL,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:v,onItemFocus:f.useCallback(P=>b(P),[b]),onItemShiftTab:f.useCallback(()=>m(!0),[]),onFocusableItemAdd:f.useCallback(()=>S(P=>P+1),[]),onFocusableItemRemove:f.useCallback(()=>S(P=>P-1),[]),children:o.jsx(Q.div,{tabIndex:y||_===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:H(e.onMouseDown,()=>{N.current=!0}),onFocus:H(e.onFocus,P=>{const I=!N.current;if(P.target===P.currentTarget&&I&&!y){const k=new CustomEvent($f,J$);if(P.currentTarget.dispatchEvent(k),!k.defaultPrevented){const $=j().filter(O=>O.focusable),L=$.find(O=>O.active),D=$.find(O=>O.id===v),T=[L,D,...$].filter(Boolean).map(O=>O.ref.current);c_(T,d)}}N.current=!1}),onBlur:H(e.onBlur,()=>m(!1))})})}),i_="RovingFocusGroupItem",l_=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...i}=e,l=Gt(),c=a||l,u=tL(i_,r),d=u.currentTabStopId===c,h=o_(r),{onFocusableItemAdd:p,onFocusableItemRemove:g}=u;return f.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),o.jsx(gp.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:o.jsx(Q.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:H(e.onMouseDown,w=>{n?u.onItemFocus(c):w.preventDefault()}),onFocus:H(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:H(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=oL(w,u.orientation,u.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=h().filter(m=>m.focusable).map(m=>m.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const m=y.indexOf(w.currentTarget);y=u.loop?aL(y,m+1):y.slice(m+1)}setTimeout(()=>c_(y))}})})})});l_.displayName=i_;var nL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oL(e,t,r){const n=sL(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return nL[n]}function c_(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function aL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ig=a_,lg=l_,vp=["Enter"," "],iL=["ArrowDown","PageUp","Home"],u_=["ArrowUp","PageDown","End"],lL=[...iL,...u_],cL={ltr:[...vp,"ArrowRight"],rtl:[...vp,"ArrowLeft"]},uL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},kl="Menu",[sl,dL,fL]=ml(kl),[wo,d_]=Et(kl,[fL,Rs,Wa]),_d=Rs(),f_=Wa(),[hL,bo]=wo(kl),[pL,Tl]=wo(kl),h_=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,l=_d(t),[c,u]=f.useState(null),d=f.useRef(!1),h=Be(a),p=xo(s);return f.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),o.jsx(td,{...l,children:o.jsx(hL,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(pL,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:i,children:n})})})};h_.displayName=kl;var mL="MenuAnchor",cg=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=_d(r);return o.jsx(yl,{...s,...n,ref:t})});cg.displayName=mL;var ug="MenuPortal",[gL,p_]=wo(ug,{forceMount:void 0}),m_=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=bo(ug,t);return o.jsx(gL,{scope:t,forceMount:r,children:o.jsx(st,{present:r||a.open,children:o.jsx(Ma,{asChild:!0,container:s,children:n})})})};m_.displayName=ug;var yr="MenuContent",[vL,dg]=wo(yr),g_=f.forwardRef((e,t)=>{const r=p_(yr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=bo(yr,e.__scopeMenu),i=Tl(yr,e.__scopeMenu);return o.jsx(sl.Provider,{scope:e.__scopeMenu,children:o.jsx(st,{present:n||a.open,children:o.jsx(sl.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(yL,{...s,ref:t}):o.jsx(xL,{...s,ref:t})})})})}),yL=f.forwardRef((e,t)=>{const r=bo(yr,e.__scopeMenu),n=f.useRef(null),s=ie(t,n);return f.useEffect(()=>{const a=n.current;if(a)return wd(a)},[]),o.jsx(fg,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:H(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),xL=f.forwardRef((e,t)=>{const r=bo(yr,e.__scopeMenu);return o.jsx(fg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),fg=f.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...v}=e,b=bo(yr,r),y=Tl(yr,r),m=_d(r),x=f_(r),j=dL(r),[N,_]=f.useState(null),S=f.useRef(null),P=ie(t,S,b.onContentChange),I=f.useRef(0),k=f.useRef(""),$=f.useRef(0),L=f.useRef(null),D=f.useRef("right"),E=f.useRef(0),T=w?_l:f.Fragment,O=w?{as:Qt,allowPinchZoom:!0}:void 0,M=R=>{var K,xe;const F=k.current+R,A=j().filter(we=>!we.disabled),z=document.activeElement,G=(K=A.find(we=>we.ref.current===z))==null?void 0:K.textValue,ee=A.map(we=>we.textValue),me=RL(ee,F,G),te=(xe=A.find(we=>we.textValue===me))==null?void 0:xe.ref.current;(function we(ge){k.current=ge,window.clearTimeout(I.current),ge!==""&&(I.current=window.setTimeout(()=>we(""),1e3))})(F),te&&setTimeout(()=>te.focus())};f.useEffect(()=>()=>window.clearTimeout(I.current),[]),yd();const C=f.useCallback(R=>{var A,z;return D.current===((A=L.current)==null?void 0:A.side)&&OL(R,(z=L.current)==null?void 0:z.area)},[]);return o.jsx(vL,{scope:r,searchRef:k,onItemEnter:f.useCallback(R=>{C(R)&&R.preventDefault()},[C]),onItemLeave:f.useCallback(R=>{var F;C(R)||((F=S.current)==null||F.focus(),_(null))},[C]),onTriggerLeave:f.useCallback(R=>{C(R)&&R.preventDefault()},[C]),pointerGraceTimerRef:$,onPointerGraceIntentChange:f.useCallback(R=>{L.current=R},[]),children:o.jsx(T,{...O,children:o.jsx(jl,{asChild:!0,trapped:s,onMountAutoFocus:H(a,R=>{var F;R.preventDefault(),(F=S.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(go,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,children:o.jsx(ig,{asChild:!0,...x,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:H(c,R=>{y.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(rd,{role:"menu","aria-orientation":"vertical","data-state":A_(b.open),"data-radix-menu-content":"",dir:y.dir,...m,...v,ref:P,style:{outline:"none",...v.style},onKeyDown:H(v.onKeyDown,R=>{const A=R.target.closest("[data-radix-menu-content]")===R.currentTarget,z=R.ctrlKey||R.altKey||R.metaKey,G=R.key.length===1;A&&(R.key==="Tab"&&R.preventDefault(),!z&&G&&M(R.key));const ee=S.current;if(R.target!==ee||!lL.includes(R.key))return;R.preventDefault();const te=j().filter(K=>!K.disabled).map(K=>K.ref.current);u_.includes(R.key)&&te.reverse(),kL(te)}),onBlur:H(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(I.current),k.current="")}),onPointerMove:H(e.onPointerMove,ol(R=>{const F=R.target,A=E.current!==R.clientX;if(R.currentTarget.contains(F)&&A){const z=R.clientX>E.current?"right":"left";D.current=z,E.current=R.clientX}}))})})})})})})});g_.displayName=yr;var wL="MenuGroup",hg=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Q.div,{role:"group",...n,ref:t})});hg.displayName=wL;var bL="MenuLabel",v_=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Q.div,{...n,ref:t})});v_.displayName=bL;var Su="MenuItem",Nx="menu.itemSelect",Sd=f.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=f.useRef(null),i=Tl(Su,e.__scopeMenu),l=dg(Su,e.__scopeMenu),c=ie(t,a),u=f.useRef(!1),d=()=>{const h=a.current;if(!r&&h){const p=new CustomEvent(Nx,{bubbles:!0,cancelable:!0});h.addEventListener(Nx,g=>n==null?void 0:n(g),{once:!0}),Em(h,p),p.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(y_,{...s,ref:c,disabled:r,onClick:H(e.onClick,d),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),u.current=!0},onPointerUp:H(e.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:H(e.onKeyDown,h=>{const p=l.searchRef.current!=="";r||p&&h.key===" "||vp.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Sd.displayName=Su;var y_=f.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=dg(Su,r),l=f_(r),c=f.useRef(null),u=ie(t,c),[d,h]=f.useState(!1),[p,g]=f.useState("");return f.useEffect(()=>{const w=c.current;w&&g((w.textContent??"").trim())},[a.children]),o.jsx(sl.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:o.jsx(lg,{asChild:!0,...l,focusable:!n,children:o.jsx(Q.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:H(e.onPointerMove,ol(w=>{n?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:H(e.onPointerLeave,ol(w=>i.onItemLeave(w))),onFocus:H(e.onFocus,()=>h(!0)),onBlur:H(e.onBlur,()=>h(!1))})})})}),jL="MenuCheckboxItem",x_=f.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(S_,{scope:e.__scopeMenu,checked:r,children:o.jsx(Sd,{role:"menuitemcheckbox","aria-checked":Nu(r)?"mixed":r,...s,ref:t,"data-state":mg(r),onSelect:H(s.onSelect,()=>n==null?void 0:n(Nu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});x_.displayName=jL;var w_="MenuRadioGroup",[_L,SL]=wo(w_,{value:void 0,onValueChange:()=>{}}),b_=f.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Be(n);return o.jsx(_L,{scope:e.__scopeMenu,value:r,onValueChange:a,children:o.jsx(hg,{...s,ref:t})})});b_.displayName=w_;var j_="MenuRadioItem",__=f.forwardRef((e,t)=>{const{value:r,...n}=e,s=SL(j_,e.__scopeMenu),a=r===s.value;return o.jsx(S_,{scope:e.__scopeMenu,checked:a,children:o.jsx(Sd,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":mg(a),onSelect:H(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});__.displayName=j_;var pg="MenuItemIndicator",[S_,NL]=wo(pg,{checked:!1}),N_=f.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=NL(pg,r);return o.jsx(st,{present:n||Nu(a.checked)||a.checked===!0,children:o.jsx(Q.span,{...s,ref:t,"data-state":mg(a.checked)})})});N_.displayName=pg;var CL="MenuSeparator",C_=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Q.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});C_.displayName=CL;var EL="MenuArrow",E_=f.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=_d(r);return o.jsx(nd,{...s,...n,ref:t})});E_.displayName=EL;var PL="MenuSub",[JU,P_]=wo(PL),ui="MenuSubTrigger",k_=f.forwardRef((e,t)=>{const r=bo(ui,e.__scopeMenu),n=Tl(ui,e.__scopeMenu),s=P_(ui,e.__scopeMenu),a=dg(ui,e.__scopeMenu),i=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(cg,{asChild:!0,...u,children:o.jsx(y_,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":A_(r.open),...e,ref:Yu(t,s.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:H(e.onPointerMove,ol(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:H(e.onPointerLeave,ol(h=>{var g,w;d();const p=(g=r.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(w=r.content)==null?void 0:w.dataset.side,b=v==="right",y=b?-5:5,m=p[b?"left":"right"],x=p[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:m,y:p.top},{x,y:p.top},{x,y:p.bottom},{x:m,y:p.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:H(e.onKeyDown,h=>{var g;const p=a.searchRef.current!=="";e.disabled||p&&h.key===" "||cL[n.dir].includes(h.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),h.preventDefault())})})})});k_.displayName=ui;var T_="MenuSubContent",R_=f.forwardRef((e,t)=>{const r=p_(yr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=bo(yr,e.__scopeMenu),i=Tl(yr,e.__scopeMenu),l=P_(T_,e.__scopeMenu),c=f.useRef(null),u=ie(t,c);return o.jsx(sl.Provider,{scope:e.__scopeMenu,children:o.jsx(st,{present:n||a.open,children:o.jsx(sl.Slot,{scope:e.__scopeMenu,children:o.jsx(fg,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:H(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:H(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:H(e.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),p=uL[i.dir].includes(d.key);h&&p&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});R_.displayName=T_;function A_(e){return e?"open":"closed"}function Nu(e){return e==="indeterminate"}function mg(e){return Nu(e)?"indeterminate":e?"checked":"unchecked"}function kL(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function TL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function RL(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=TL(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function AL(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function OL(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return AL(r,t)}function ol(e){return t=>t.pointerType==="mouse"?e(t):void 0}var IL=h_,ML=cg,DL=m_,$L=g_,LL=hg,FL=v_,zL=Sd,UL=x_,BL=b_,WL=__,VL=N_,HL=C_,qL=E_,GL=k_,KL=R_,gg="DropdownMenu",[YL,XU]=Et(gg,[d_]),Dt=d_(),[QL,O_]=YL(gg),I_=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Dt(t),u=f.useRef(null),[d=!1,h]=Jt({prop:s,defaultProp:a,onChange:i});return o.jsx(QL,{scope:t,triggerId:Gt(),triggerRef:u,contentId:Gt(),open:d,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(p=>!p),[h]),modal:l,children:o.jsx(IL,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};I_.displayName=gg;var M_="DropdownMenuTrigger",D_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=O_(M_,r),i=Dt(r);return o.jsx(ML,{asChild:!0,...i,children:o.jsx(Q.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Yu(t,a.triggerRef),onPointerDown:H(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:H(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});D_.displayName=M_;var JL="DropdownMenuPortal",$_=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Dt(t);return o.jsx(DL,{...n,...r})};$_.displayName=JL;var L_="DropdownMenuContent",F_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=O_(L_,r),a=Dt(r),i=f.useRef(!1);return o.jsx($L,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:H(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:H(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});F_.displayName=L_;var XL="DropdownMenuGroup",ZL=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dt(r);return o.jsx(LL,{...s,...n,ref:t})});ZL.displayName=XL;var e5="DropdownMenuLabel",z_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dt(r);return o.jsx(FL,{...s,...n,ref:t})});z_.displayName=e5;var t5="DropdownMenuItem",U_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dt(r);return o.jsx(zL,{...s,...n,ref:t})});U_.displayName=t5;var r5="DropdownMenuCheckboxItem",B_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dt(r);return o.jsx(UL,{...s,...n,ref:t})});B_.displayName=r5;var n5="DropdownMenuRadioGroup",s5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dt(r);return o.jsx(BL,{...s,...n,ref:t})});s5.displayName=n5;var o5="DropdownMenuRadioItem",W_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dt(r);return o.jsx(WL,{...s,...n,ref:t})});W_.displayName=o5;var a5="DropdownMenuItemIndicator",V_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dt(r);return o.jsx(VL,{...s,...n,ref:t})});V_.displayName=a5;var i5="DropdownMenuSeparator",H_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dt(r);return o.jsx(HL,{...s,...n,ref:t})});H_.displayName=i5;var l5="DropdownMenuArrow",c5=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dt(r);return o.jsx(qL,{...s,...n,ref:t})});c5.displayName=l5;var u5="DropdownMenuSubTrigger",q_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dt(r);return o.jsx(GL,{...s,...n,ref:t})});q_.displayName=u5;var d5="DropdownMenuSubContent",G_=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Dt(r);return o.jsx(KL,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});G_.displayName=d5;var f5=I_,h5=D_,p5=$_,K_=F_,Y_=z_,Q_=U_,J_=B_,X_=W_,Z_=V_,eS=H_,tS=q_,rS=G_;const m5=f5,g5=h5,v5=f.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(tS,{ref:s,className:W("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(Fb,{className:"ml-auto h-4 w-4"})]}));v5.displayName=tS.displayName;const y5=f.forwardRef(({className:e,...t},r)=>o.jsx(rS,{ref:r,className:W("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));y5.displayName=rS.displayName;const nS=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(p5,{children:o.jsx(K_,{ref:n,sideOffset:t,className:W("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));nS.displayName=K_.displayName;const Mc=f.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(Q_,{ref:n,className:W("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Mc.displayName=Q_.displayName;const x5=f.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(J_,{ref:s,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Z_,{children:o.jsx(Rm,{className:"h-4 w-4"})})}),t]}));x5.displayName=J_.displayName;const w5=f.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(X_,{ref:n,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Z_,{children:o.jsx(zb,{className:"h-2 w-2 fill-current"})})}),t]}));w5.displayName=X_.displayName;const sS=f.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(Y_,{ref:n,className:W("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));sS.displayName=Y_.displayName;const yp=f.forwardRef(({className:e,...t},r)=>o.jsx(eS,{ref:r,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));yp.displayName=eS.displayName;function b5({children:e}){const{user:t,logout:r}=Ke(),n=Ge(),{toast:s}=Xt(),a=()=>{r(),s({title:"Sesin cerrada",description:"Has cerrado sesin correctamente"})};return o.jsx(Yj,{defaultOpen:!0,children:o.jsxs("div",{className:"min-h-screen flex w-full",children:[o.jsx(G$,{}),o.jsxs("div",{className:"flex-1 flex flex-col w-full",children:[o.jsxs("header",{className:"h-14 border-b bg-background flex items-center justify-between px-4 sticky top-0 z-10",children:[o.jsx(Jj,{}),o.jsxs(m5,{children:[o.jsx(g5,{asChild:!0,children:o.jsx(B,{variant:"outline",size:"icon",className:"rounded-full",children:o.jsx(Wb,{className:"h-5 w-5"})})}),o.jsxs(nS,{align:"end",className:"w-56",children:[o.jsx(sS,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.username}),o.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:t==null?void 0:t.nivel})]})}),o.jsx(yp,{}),o.jsxs(Mc,{onClick:()=>n("/profile"),children:[o.jsx(m2,{className:"mr-2 h-4 w-4"}),"Mi Perfil"]}),o.jsxs(Mc,{onClick:()=>n("/privacy-policy"),children:[o.jsx(f2,{className:"mr-2 h-4 w-4"}),"Polticas de Privacidad"]}),o.jsx(yp,{}),o.jsxs(Mc,{onClick:a,className:"text-red-600",children:[o.jsx(o2,{className:"mr-2 h-4 w-4"}),"Cerrar Sesin"]})]})]})]}),o.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})})}const Y=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:W("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Y.displayName="Card";const oe=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:W("flex flex-col space-y-1.5 p-6",e),...t}));oe.displayName="CardHeader";const ae=f.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:W("text-2xl font-semibold leading-none tracking-tight",e),...t}));ae.displayName="CardTitle";const Le=f.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:W("text-sm text-muted-foreground",e),...t}));Le.displayName="CardDescription";const J=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:W("p-6 pt-0",e),...t}));J.displayName="CardContent";const j5=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:W("flex items-center p-6 pt-0",e),...t}));j5.displayName="CardFooter";const _5=vo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ze({className:e,variant:t,...r}){return o.jsx("div",{className:W(_5({variant:t}),e),...r})}const S5="https://oposiciones-test.com/api/uploads/procesos/",N5="https://oposiciones-test.com/api/proxy_noticias_oposiciones.php",C5="https://oposiciones-test.com/api/noticias_oposiciones_multifuente.php",E5=[{nombre:"Galicia",url:"http://www.xunta.es/diario-oficial-galicia?lang=gl",area:{left:55,top:21,width:80,height:47}},{nombre:"Asturias",url:"https://sede.asturias.es/web/sede/ultimos-boletines?p_r_p_summaryLastBopa=true",area:{left:120,top:24,width:60,height:17}},{nombre:"Cantabria",url:"http://boc.cantabria.es/boces/",area:{left:177,top:24,width:35,height:18}},{nombre:"Pas Vasco",url:"https://www.euskadi.eus/y22-bopv/es/p43aBOPVWebWar/difuEntradaUsuario.do?idioma=es&submit=cargar",area:{left:216,top:26,width:28,height:23}},{nombre:"Navarra",url:"http://www.navarra.es/home_es/Actualidad/BON/",area:{left:235,top:31,width:33,height:34}},{nombre:"La Rioja",url:"https://www.larioja.org/bor/es?locale=es_ES",area:{left:219,top:59,width:26,height:13}},{nombre:"Aragn",url:"https://www.boa.aragon.es/#/",area:{left:260,top:41,width:54,height:80}},{nombre:"Catalua",url:"http://www20.gencat.cat/portal/site/portaldogc?newLang=es_ES",area:{left:295,top:50,width:65,height:51}},{nombre:"Castilla y Len",url:"http://bocyl.jcyl.es/",area:{left:135,top:45,width:79,height:55}},{nombre:"Madrid",url:"http://www.bocm.es/",area:{left:190,top:100,width:29,height:29}},{nombre:"Extremadura",url:"http://doe.juntaex.es/",area:{left:100,top:112,width:56,height:58}},{nombre:"Castilla-La Mancha",url:"http://docm.jccm.es/",area:{left:165,top:120,width:90,height:54}},{nombre:"Comunidad Valenciana",url:"https://dogv.gva.es/es/inici",area:{left:263,top:117,width:36,height:70}},{nombre:"Murcia",url:"https://www.borm.es/#/home/boletines",area:{left:240,top:180,width:31,height:23}},{nombre:"Andaluca",url:"http://www.juntadeandalucia.es/eboja.html",area:{left:110,top:176,width:140,height:59}},{nombre:"Ceuta",url:"https://www.ceuta.es/ceuta/bocce",area:{left:133,top:250,width:44,height:20}},{nombre:"Melilla",url:"https://bomemelilla.es/bomes/2022",area:{left:184,top:250,width:44,height:20}},{nombre:"Canarias",url:"https://www.gobiernodecanarias.org/boc/",area:{left:40,top:220,width:60,height:33}},{nombre:"Baleares",url:"http://www.caib.es/eboibfront/?lang=es",area:{left:320,top:130,width:70,height:31}}],P5=()=>{const{user:e,isSuperAdmin:t,isAdmin:r}=Ke(),n=Ge(),[s,a]=f.useState({totalQuestions:0,correctAnswers:0,averageTime:0,streakCount:0}),[i,l]=f.useState([]),[c,u]=f.useState([]),[d,h]=f.useState([]),[p,g]=f.useState(!0),[w,v]=f.useState(null),[b,y]=f.useState(new Set);f.useEffect(()=>{(async()=>{if(e!=null&&e.id)try{const j=Date.now().toString(),_=await(await fetch(`https://oposiciones-test.com/api/estadisticas_usuario.php?user_id=${e.id}&_ts=${j}`,{cache:"no-store"})).json();if(_&&!_.error){const S=parseInt(_.total_aciertos||0)+parseInt(_.total_fallos||0);a({totalQuestions:S,correctAnswers:parseInt(_.total_aciertos)||0,averageTime:parseFloat(_.nota_media)||0,streakCount:parseInt(_.total_tests)||0})}}catch(j){console.error("Error al cargar estadsticas:",j)}finally{g(!1)}})()},[e==null?void 0:e.id]),f.useEffect(()=>{e!=null&&e.id&&fetch(`https://oposiciones-test.com/api/ultimos_procesos.php?user_id=${e.id}`).then(x=>x.json()).then(x=>l(Array.isArray(x)?x.slice(0,4):[])).catch(()=>l([]))},[e==null?void 0:e.id]),f.useEffect(()=>{fetch(N5).then(x=>x.json()).then(x=>u(Array.isArray(x)?x.slice(0,5):[])).catch(()=>u([])),fetch(C5).then(x=>x.json()).then(x=>h(Array.isArray(x)?x.slice(0,5):[])).catch(()=>h([]))},[]);const m=()=>{const j=.6428571428571429,N=Math.min(420,420),_=N*j;return o.jsxs(Y,{className:"overflow-hidden bg-white shadow-md border-indigo-100",children:[o.jsxs(oe,{className:"bg-gradient-to-r from-indigo-50 to-white",children:[o.jsx(ae,{className:"text-indigo-900",children:"Mapa de Boletines CCAA"}),o.jsx(Le,{className:"text-gray-600",children:"Haz clic en una comunidad para ver su boletn oficial"})]}),o.jsx(J,{className:"p-0",children:o.jsx("div",{className:"flex justify-center p-6",children:o.jsxs("div",{className:"relative",style:{width:N,height:_},children:[o.jsx("img",{src:"https://oposiciones-test.com/api/uploads/ccaa-mapa420x270.gif",alt:"Mapa de Espaa con las Comunidades Autnomas",className:"w-full h-full rounded-lg"}),E5.map(S=>{const P=S.area.left*(N/420),I=S.area.top*(_/270),k=S.area.width*(N/420),$=S.area.height*(_/270),L=P+k/2,D=I+$/2,E=(w==null?void 0:w.nombre)===S.nombre;return o.jsxs(V.Fragment,{children:[o.jsx("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",className:"absolute rounded-lg border-2 transition-all",style:{left:`${P}px`,top:`${I}px`,width:`${k}px`,height:`${$}px`,borderColor:E?"#3b82f6":"rgba(59, 130, 246, 0.1)",backgroundColor:E?"rgba(59, 130, 246, 0.2)":"rgba(59, 130, 246, 0.08)"},onMouseEnter:()=>v({nombre:S.nombre,x:L,y:D}),onMouseLeave:()=>v(null),"aria-label":`Ir al boletn oficial de ${S.nombre}`}),E&&o.jsx("div",{className:"absolute bg-blue-600 text-white px-3 py-1.5 rounded-lg shadow-lg pointer-events-none z-10",style:{left:`${L-60}px`,top:`${D-30}px`,width:"120px"},children:o.jsx("p",{className:"text-sm font-bold text-center",children:S.nombre})})]},S.nombre)})]})})})]})};return p?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(rt,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("h1",{className:"sr-only",children:"Oposiciones-Test  App para opositores"}),o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("img",{src:mp,alt:"Oposiciones Test",className:"h-16 w-16"})}),o.jsxs("h2",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent mb-3",children:["Bienvenido, ",e==null?void 0:e.username,"!"]}),o.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Tu progreso en preparacin de oposiciones"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx(Y,{className:"bg-white shadow-lg hover:shadow-xl transition-shadow border-blue-100",children:o.jsxs(J,{className:"pt-6 text-center",children:[o.jsx(_t,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:s.totalQuestions}),o.jsx("div",{className:"text-sm text-gray-600",children:"Preguntas Realizadas"})]})}),o.jsx(Y,{className:"bg-white shadow-lg hover:shadow-xl transition-shadow border-green-100",children:o.jsxs(J,{className:"pt-6 text-center",children:[o.jsx(Ki,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:s.correctAnswers}),o.jsx("div",{className:"text-sm text-gray-600",children:"Respuestas Correctas"})]})}),o.jsx(Y,{className:"bg-white shadow-lg hover:shadow-xl transition-shadow border-orange-100",children:o.jsxs(J,{className:"pt-6 text-center",children:[o.jsx(_a,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:s.averageTime>0?s.averageTime.toFixed(2):"-"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Nota Media"})]})}),o.jsx(Y,{className:"bg-white shadow-lg hover:shadow-xl transition-shadow border-purple-100",children:o.jsxs(J,{className:"pt-6 text-center",children:[o.jsx(Sa,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold text-gray-800",children:s.streakCount}),o.jsx("div",{className:"text-sm text-gray-600",children:"Tests Realizados"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(Y,{className:"bg-white shadow-md border-blue-100",children:[o.jsx(oe,{className:"bg-gradient-to-r from-blue-50 to-white",children:o.jsx(ae,{className:"text-blue-900",children:"Tus ltimos procesos"})}),o.jsx(J,{children:i.length>0?o.jsx("div",{className:"space-y-3",children:i.map(x=>{var j;return o.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-gradient-to-r from-blue-50 to-white hover:from-blue-100 hover:to-blue-50 transition-all cursor-pointer border border-blue-200 shadow-sm hover:shadow-md",onClick:()=>n("/test"),children:[x.foto&&!b.has(`proceso-${x.id_proceso}`)?o.jsx("img",{src:S5+x.foto,alt:x.descripcion,className:"w-20 h-20 object-cover rounded-lg shadow-sm",onError:()=>y(N=>new Set(N).add(`proceso-${x.id_proceso}`))}):o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg flex items-center justify-center",children:o.jsx(_t,{className:"w-8 h-8 text-blue-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-bold text-blue-900 line-clamp-1",children:x.descripcion}),o.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[o.jsx(Fr,{className:"inline w-3 h-3 mr-1 text-blue-600"}),x.fecha_inicio," - ",x.fecha_fin]}),o.jsxs("p",{className:"text-xs text-blue-600 mt-1 font-medium",children:["ltimo test: ",(j=x.ultima_fecha)==null?void 0:j.substring(0,16).replace("T"," ")]})]})]},x.id_proceso)})}):o.jsx("p",{className:"text-gray-600 text-sm",children:"No tienes procesos recientes."})})]}),o.jsxs(Y,{className:"bg-white shadow-md border-green-100",children:[o.jsx(oe,{className:"bg-gradient-to-r from-green-50 to-white",children:o.jsx(ae,{className:"text-green-900",children:"Noticias de Oposiciones"})}),o.jsx(J,{children:c.length>0?o.jsx("div",{className:"space-y-3",children:c.map((x,j)=>o.jsxs("a",{href:x.link,target:"_blank",rel:"noopener noreferrer",className:"flex gap-3 p-3 rounded-lg bg-gradient-to-r from-green-50 to-white hover:from-green-100 hover:to-green-50 transition-all border border-green-200 shadow-sm hover:shadow-md",children:[x.image&&!b.has(`noticia-${j}`)?o.jsx("img",{src:x.image,alt:x.title,className:"w-20 h-20 object-cover rounded-lg shadow-sm",onError:()=>y(N=>new Set(N).add(`noticia-${j}`))}):o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-100 to-green-200 rounded-lg flex items-center justify-center",children:o.jsx(_t,{className:"w-8 h-8 text-green-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-bold text-green-900 line-clamp-2",children:x.title}),o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mt-1",children:x.summary}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.date})]}),o.jsx(yy,{className:"w-4 h-4 text-green-600 flex-shrink-0"})]},j))}):o.jsx("p",{className:"text-gray-600 text-sm",children:"Sin noticias recientes."})})]}),o.jsxs(Y,{className:"bg-white shadow-md border-purple-100",children:[o.jsx(oe,{className:"bg-gradient-to-r from-purple-50 to-white",children:o.jsx(ae,{className:"text-purple-900",children:"ltimas Oposiciones (BOE, BOCM, etc)"})}),o.jsx(J,{children:d.length>0?o.jsx("div",{className:"space-y-3",children:d.map((x,j)=>o.jsxs("a",{href:x.link,target:"_blank",rel:"noopener noreferrer",className:"flex gap-3 p-3 rounded-lg bg-gradient-to-r from-purple-50 to-white hover:from-purple-100 hover:to-purple-50 transition-all border border-purple-200 shadow-sm hover:shadow-md",children:[x.image&&!b.has(`rss-${j}`)?o.jsx("img",{src:x.image,alt:x.title,className:"w-20 h-20 object-cover rounded-lg shadow-sm",onError:()=>y(N=>new Set(N).add(`rss-${j}`))}):o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg flex items-center justify-center",children:o.jsx(_t,{className:"w-8 h-8 text-purple-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-bold text-purple-900 line-clamp-2",children:x.title}),o.jsx("p",{className:"text-sm text-gray-700 italic line-clamp-2 mt-1",children:x.summary}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x.date})]}),o.jsx(yy,{className:"w-4 h-4 text-purple-600 flex-shrink-0"})]},j))}):o.jsx("p",{className:"text-gray-600 text-sm",children:"Cargando ltimas noticias..."})})]})]}),o.jsxs("div",{className:"space-y-6",children:[m(),o.jsxs(Y,{className:"bg-white shadow-md border-orange-100",children:[o.jsx(oe,{className:"bg-gradient-to-r from-orange-50 to-white",children:o.jsx(ae,{className:"text-orange-900",children:"Acciones rpidas"})}),o.jsxs(J,{className:"space-y-3",children:[o.jsxs(B,{onClick:()=>n("/test"),className:"w-full justify-start bg-blue-600 hover:bg-blue-700 text-white",children:[o.jsx(_t,{className:"w-4 h-4 mr-2"}),"Iniciar Test"]}),o.jsxs(B,{onClick:()=>n("/simulacro"),className:"w-full justify-start bg-purple-600 hover:bg-purple-700 text-white",children:[o.jsx(_a,{className:"w-4 h-4 mr-2"}),"Simulacro"]}),o.jsxs(B,{onClick:()=>n("/test-personalidad"),className:"w-full justify-start bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Test de Personalidad"]}),o.jsxs(B,{onClick:()=>n("/donacion"),className:"w-full justify-start bg-pink-600 hover:bg-pink-700 text-white",children:[o.jsx(Bh,{className:"w-4 h-4 mr-2"}),"Apoya el proyecto"]}),t&&o.jsx(B,{onClick:()=>n("/crear-test"),className:"w-full justify-start bg-cyan-600 hover:bg-cyan-700 text-white",children:"Generar Test (Admin)"}),(r||!t&&!r)&&o.jsx(B,{onClick:()=>n("/estadisticas"),className:"w-full justify-start bg-orange-600 hover:bg-orange-700 text-white",children:"Ver Progreso"})]})]}),o.jsxs(Y,{className:"bg-white shadow-md border-blue-100",children:[o.jsx(oe,{className:"bg-gradient-to-r from-blue-50 to-white",children:o.jsx(ae,{className:"text-blue-900",children:"Tu informacin"})}),o.jsxs(J,{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-blue-700",children:"Usuario"}),o.jsx("p",{className:"text-gray-800 font-medium",children:e==null?void 0:e.username})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-blue-700",children:"Nivel"}),o.jsx(ze,{className:"bg-blue-600 text-white font-bold",children:e==null?void 0:e.nivel})]})]})]})]})]})]})})};var k5="Label",oS=f.forwardRef((e,t)=>o.jsx(Q.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));oS.displayName=k5;var aS=oS;const T5=vo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=f.forwardRef(({className:e,...t},r)=>o.jsx(aS,{ref:r,className:W(T5(),e),...t}));ce.displayName=aS.displayName;var vg="Tabs",[R5,ZU]=Et(vg,[Wa]),iS=Wa(),[A5,yg]=R5(vg),lS=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=xo(l),[h,p]=Jt({prop:n,onChange:s,defaultProp:a});return o.jsx(A5,{scope:r,baseId:Gt(),value:h,onValueChange:p,orientation:i,dir:d,activationMode:c,children:o.jsx(Q.div,{dir:d,"data-orientation":i,...u,ref:t})})});lS.displayName=vg;var cS="TabsList",uS=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=yg(cS,r),i=iS(r);return o.jsx(ig,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(Q.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});uS.displayName=cS;var dS="TabsTrigger",fS=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,i=yg(dS,r),l=iS(r),c=mS(i.baseId,n),u=gS(i.baseId,n),d=n===i.value;return o.jsx(lg,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(Q.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:H(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:H(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:H(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(n)})})})});fS.displayName=dS;var hS="TabsContent",pS=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=e,l=yg(hS,r),c=mS(l.baseId,n),u=gS(l.baseId,n),d=n===l.value,h=f.useRef(d);return f.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(st,{present:s||d,children:({present:p})=>o.jsx(Q.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&a})})});pS.displayName=hS;function mS(e,t){return`${e}-trigger-${t}`}function gS(e,t){return`${e}-content-${t}`}var O5=lS,vS=uS,yS=fS,xS=pS;const Va=O5,jo=f.forwardRef(({className:e,...t},r)=>o.jsx(vS,{ref:r,className:W("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));jo.displayName=vS.displayName;const Kt=f.forwardRef(({className:e,...t},r)=>o.jsx(yS,{ref:r,className:W("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Kt.displayName=yS.displayName;const lo=f.forwardRef(({className:e,...t},r)=>o.jsx(xS,{ref:r,className:W("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));lo.displayName=xS.displayName;function xg(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wg="Checkbox",[I5,eB]=Et(wg),[M5,D5]=I5(wg),wS=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[p,g]=f.useState(null),w=ie(t,j=>g(j)),v=f.useRef(!1),b=p?d||!!p.closest("form"):!0,[y=!1,m]=Jt({prop:s,defaultProp:a,onChange:u}),x=f.useRef(y);return f.useEffect(()=>{const j=p==null?void 0:p.form;if(j){const N=()=>m(x.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[p,m]),o.jsxs(M5,{scope:r,state:y,disabled:l,children:[o.jsx(Q.button,{type:"button",role:"checkbox","aria-checked":bs(y)?"mixed":y,"aria-required":i,"data-state":_S(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onKeyDown:H(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:H(e.onClick,j=>{m(N=>bs(N)?!0:!N),b&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})}),b&&o.jsx($5,{control:p,bubbles:!v.current,name:n,value:c,checked:y,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:bs(a)?!1:a})]})});wS.displayName=wg;var bS="CheckboxIndicator",jS=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=D5(bS,r);return o.jsx(st,{present:n||bs(a.state)||a.state===!0,children:o.jsx(Q.span,{"data-state":_S(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});jS.displayName=bS;var $5=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...a}=e,i=f.useRef(null),l=xg(r),c=Bm(t);f.useEffect(()=>{const d=i.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&g){const w=new Event("click",{bubbles:n});d.indeterminate=bs(r),g.call(d,bs(r)?!1:r),d.dispatchEvent(w)}},[l,r,n]);const u=f.useRef(bs(r)?!1:r);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bs(e){return e==="indeterminate"}function _S(e){return bs(e)?"indeterminate":e?"checked":"unchecked"}var SS=wS,L5=jS;const al=f.forwardRef(({className:e,...t},r)=>o.jsx(SS,{ref:r,className:W("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(L5,{className:W("flex items-center justify-center text-current"),children:o.jsx(Rm,{className:"h-4 w-4"})})}));al.displayName=SS.displayName;const F5=()=>{const e=Ge(),{login:t,register:r}=Ke(),{toast:n}=Xt(),[s,a]=f.useState(!1),[i,l]=f.useState(""),[c,u]=f.useState(""),[d,h]=f.useState(!1),[p,g]=f.useState(""),[w,v]=f.useState(""),[b,y]=f.useState(""),[m,x]=f.useState(""),j=async _=>{if(_.preventDefault(),!i||!c){n({title:"Error",description:"Por favor, completa todos los campos",variant:"destructive"});return}a(!0);const S=await t(i,c,d);a(!1),S.success?(n({title:"Bienvenido!",description:"Has iniciado sesin correctamente"}),e("/")):n({title:"Error al iniciar sesin",description:S.error||"Credenciales incorrectas",variant:"destructive"})},N=async _=>{if(_.preventDefault(),!p||!w||!b||!m){n({title:"Error",description:"Por favor, completa todos los campos",variant:"destructive"});return}if(b!==m){n({title:"Error",description:"Las contraseas no coinciden",variant:"destructive"});return}if(b.length<6){n({title:"Error",description:"La contrasea debe tener al menos 6 caracteres",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w)){n({title:"Error",description:"Por favor, introduce un email vlido",variant:"destructive"});return}a(!0);const P=await r(p,w,b);a(!1),P.success?(n({title:"Registro exitoso!",description:"Tu cuenta ha sido creada correctamente"}),e("/")):n({title:"Error al registrarse",description:P.error||"No se pudo crear la cuenta",variant:"destructive"})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx(_t,{className:"w-12 h-12 text-blue-600"})}),o.jsxs("h1",{className:"text-4xl font-bold",children:[o.jsx("span",{className:"text-blue-600",children:"Oposiciones-"}),o.jsx("span",{className:"text-green-600",children:"Test"})]}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Prepara tus oposiciones con xito"})]}),o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsx(ae,{children:"Accede a tu cuenta"}),o.jsx(Le,{children:"Inicia sesin o crea una cuenta nueva para comenzar"})]}),o.jsx(J,{children:o.jsxs(Va,{defaultValue:"login",className:"w-full",children:[o.jsxs(jo,{className:"grid w-full grid-cols-2",children:[o.jsx(Kt,{value:"login",children:"Iniciar Sesin"}),o.jsx(Kt,{value:"register",children:"Registrarse"})]}),o.jsx(lo,{value:"login",children:o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"email",children:"Email"}),o.jsx(je,{id:"email",type:"email",placeholder:"tu@email.com",value:i,onChange:_=>l(_.target.value),disabled:s})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"password",children:"Contrasea"}),o.jsx(je,{id:"password",type:"password",placeholder:"",value:c,onChange:_=>u(_.target.value),disabled:s})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(al,{id:"remember",checked:d,onCheckedChange:_=>h(_)}),o.jsx("label",{htmlFor:"remember",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Recordarme durante 30 das"})]}),o.jsx(B,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"mr-2 h-4 w-4 animate-spin"}),"Iniciando sesin..."]}):"Iniciar Sesin"})]})}),o.jsx(lo,{value:"register",children:o.jsxs("form",{onSubmit:N,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"username",children:"Nombre de usuario"}),o.jsx(je,{id:"username",type:"text",placeholder:"TuNombre",value:p,onChange:_=>g(_.target.value),disabled:s})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"register-email",children:"Email"}),o.jsx(je,{id:"register-email",type:"email",placeholder:"tu@email.com",value:w,onChange:_=>v(_.target.value),disabled:s})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"register-password",children:"Contrasea"}),o.jsx(je,{id:"register-password",type:"password",placeholder:"",value:b,onChange:_=>y(_.target.value),disabled:s})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"register-password-confirm",children:"Confirmar Contrasea"}),o.jsx(je,{id:"register-password-confirm",type:"password",placeholder:"",value:m,onChange:_=>x(_.target.value),disabled:s})]}),o.jsx(B,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"mr-2 h-4 w-4 animate-spin"}),"Creando cuenta..."]}):"Crear Cuenta"})]})})]})})]})]})})};var bg="Avatar",[z5,tB]=Et(bg),[U5,NS]=z5(bg),CS=f.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=f.useState("idle");return o.jsx(U5,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(Q.span,{...n,ref:t})})});CS.displayName=bg;var ES="AvatarImage",PS=f.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,i=NS(ES,r),l=B5(n,a.referrerPolicy),c=Be(u=>{s(u),i.onImageLoadingStatusChange(u)});return nt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(Q.img,{...a,ref:t,src:n}):null});PS.displayName=ES;var kS="AvatarFallback",TS=f.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=NS(kS,r),[i,l]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(Q.span,{...s,ref:t}):null});TS.displayName=kS;function B5(e,t){const[r,n]=f.useState("idle");return nt(()=>{if(!e){n("error");return}let s=!0;const a=new window.Image,i=l=>()=>{s&&n(l)};return n("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var RS=CS,AS=PS,OS=TS;const IS=f.forwardRef(({className:e,...t},r)=>o.jsx(RS,{ref:r,className:W("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));IS.displayName=RS.displayName;const W5=f.forwardRef(({className:e,...t},r)=>o.jsx(AS,{ref:r,className:W("aspect-square h-full w-full",e),...t}));W5.displayName=AS.displayName;const MS=f.forwardRef(({className:e,...t},r)=>o.jsx(OS,{ref:r,className:W("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));MS.displayName=OS.displayName;var DS="AlertDialog",[V5,rB]=Et(DS,[kj]),zn=kj(),$S=e=>{const{__scopeAlertDialog:t,...r}=e,n=zn(t);return o.jsx(og,{...n,...r,modal:!0})};$S.displayName=DS;var H5="AlertDialogTrigger",LS=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zn(r);return o.jsx(Hj,{...s,...n,ref:t})});LS.displayName=H5;var q5="AlertDialogPortal",FS=e=>{const{__scopeAlertDialog:t,...r}=e,n=zn(t);return o.jsx(ag,{...n,...r})};FS.displayName=q5;var G5="AlertDialogOverlay",zS=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zn(r);return o.jsx(Sl,{...s,...n,ref:t})});zS.displayName=G5;var oa="AlertDialogContent",[K5,Y5]=V5(oa),US=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=zn(r),i=f.useRef(null),l=ie(t,i),c=f.useRef(null);return o.jsx(v$,{contentName:oa,titleName:BS,docsSlug:"alert-dialog",children:o.jsx(K5,{scope:r,cancelRef:c,children:o.jsxs(Nl,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:H(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(Cm,{children:n}),o.jsx(J5,{contentRef:i})]})})})});US.displayName=oa;var BS="AlertDialogTitle",WS=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zn(r);return o.jsx(Cl,{...s,...n,ref:t})});WS.displayName=BS;var VS="AlertDialogDescription",HS=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zn(r);return o.jsx(El,{...s,...n,ref:t})});HS.displayName=VS;var Q5="AlertDialogAction",qS=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=zn(r);return o.jsx(bd,{...s,...n,ref:t})});qS.displayName=Q5;var GS="AlertDialogCancel",KS=f.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=Y5(GS,r),a=zn(r),i=ie(t,s);return o.jsx(bd,{...a,...n,ref:i})});KS.displayName=GS;var J5=({contentRef:e})=>{const t=`\`${oa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${oa}\` by passing a \`${VS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${oa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},X5=$S,Z5=LS,e3=FS,YS=zS,QS=US,JS=qS,XS=KS,ZS=WS,eN=HS;const t3=X5,r3=Z5,n3=e3,tN=f.forwardRef(({className:e,...t},r)=>o.jsx(YS,{className:W("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));tN.displayName=YS.displayName;const rN=f.forwardRef(({className:e,...t},r)=>o.jsxs(n3,{children:[o.jsx(tN,{}),o.jsx(QS,{ref:r,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));rN.displayName=QS.displayName;const nN=({className:e,...t})=>o.jsx("div",{className:W("flex flex-col space-y-2 text-center sm:text-left",e),...t});nN.displayName="AlertDialogHeader";const sN=({className:e,...t})=>o.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sN.displayName="AlertDialogFooter";const oN=f.forwardRef(({className:e,...t},r)=>o.jsx(ZS,{ref:r,className:W("text-lg font-semibold",e),...t}));oN.displayName=ZS.displayName;const aN=f.forwardRef(({className:e,...t},r)=>o.jsx(eN,{ref:r,className:W("text-sm text-muted-foreground",e),...t}));aN.displayName=eN.displayName;const iN=f.forwardRef(({className:e,...t},r)=>o.jsx(JS,{ref:r,className:W(nl(),e),...t}));iN.displayName=JS.displayName;const lN=f.forwardRef(({className:e,...t},r)=>o.jsx(XS,{ref:r,className:W(nl({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));lN.displayName=XS.displayName;const s3=()=>{var v,b;const{user:e}=Ke(),{toast:t}=Xt(),r=Ge(),[n,s]=f.useState(""),[a,i]=f.useState(""),[l,c]=f.useState(""),[u,d]=f.useState(!1),[h,p]=f.useState(!1),g=async()=>{if(!n||!a||!l){t({title:"Error",description:"Por favor completa todos los campos",variant:"destructive"});return}if(a!==l){t({title:"Error",description:"Las contraseas no coinciden",variant:"destructive"});return}if(a.length<6){t({title:"Error",description:"La contrasea debe tener al menos 6 caracteres",variant:"destructive"});return}d(!0);try{const y=localStorage.getItem("auth_token"),x=await(await fetch("https://oposiciones-test.com/api/actualizar_perfil.php",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({nombre:(e==null?void 0:e.username)||"",telefono:"",nueva_password:a})})).json();x.success?(t({title:"Contrasea actualizada!",description:"Tu contrasea ha sido cambiada correctamente"}),s(""),i(""),c("")):t({title:"Error",description:x.error||"No se pudo actualizar la contrasea",variant:"destructive"})}catch{t({title:"Error",description:"No se pudo conectar con el servidor",variant:"destructive"})}finally{d(!1)}},w=async()=>{p(!0);try{const y=e==null?void 0:e.id,x=await(await fetch("https://oposiciones-test.com/api/eliminar_usuario.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:y})})).json();x.success?(t({title:"Cuenta eliminada",description:"Tu cuenta y todos tus datos han sido eliminados"}),localStorage.clear(),r("/auth")):t({title:"Error",description:x.error||"No se pudo eliminar la cuenta",variant:"destructive"})}catch{t({title:"Error",description:"No se pudo conectar con el servidor",variant:"destructive"})}finally{p(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs(B,{variant:"ghost",onClick:()=>r("/"),className:"mb-6",children:[o.jsx(vt,{className:"mr-2 h-4 w-4"}),"Volver"]}),o.jsx(Y,{className:"mb-8",children:o.jsx(oe,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(IS,{className:"h-20 w-20",children:o.jsx(MS,{className:"bg-blue-600 text-white text-2xl",children:((b=(v=e==null?void 0:e.username)==null?void 0:v.slice(0,2))==null?void 0:b.toUpperCase())||"U"})}),o.jsxs("div",{children:[o.jsx(ae,{className:"text-2xl",children:e==null?void 0:e.username}),o.jsx(Le,{className:"text-base capitalize",children:e==null?void 0:e.nivel})]})]})})}),o.jsxs(Y,{className:"mb-8",children:[o.jsxs(oe,{children:[o.jsxs(ae,{className:"flex items-center",children:[o.jsx(s2,{className:"mr-2 h-5 w-5"}),"Cambiar Contrasea"]}),o.jsx(Le,{children:"Actualiza tu contrasea para mantener tu cuenta segura"})]}),o.jsxs(J,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"current-password",children:"Contrasea Actual"}),o.jsx(je,{id:"current-password",type:"password",value:n,onChange:y=>s(y.target.value),placeholder:"Introduce tu contrasea actual"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"new-password",children:"Nueva Contrasea"}),o.jsx(je,{id:"new-password",type:"password",value:a,onChange:y=>i(y.target.value),placeholder:"Mnimo 6 caracteres"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"confirm-password",children:"Confirmar Nueva Contrasea"}),o.jsx(je,{id:"confirm-password",type:"password",value:l,onChange:y=>c(y.target.value),placeholder:"Repite la nueva contrasea"})]}),o.jsxs(B,{onClick:g,disabled:u,className:"w-full",children:[o.jsx(u2,{className:"mr-2 h-4 w-4"}),u?"Actualizando...":"Actualizar Contrasea"]})]})]}),o.jsxs(Y,{className:"mb-8 border-pink-200",children:[o.jsxs(oe,{children:[o.jsxs(ae,{className:"flex items-center text-pink-600",children:[o.jsx(Bh,{className:"mr-2 h-5 w-5"}),"Apoya el proyecto"]}),o.jsx(Le,{children:"Si Oposiciones-Test te est ayudando, considera hacer una donacin para mantener la plataforma"})]}),o.jsx(J,{children:o.jsxs(B,{className:"w-full bg-pink-600 hover:bg-pink-700",onClick:()=>r("/donacion"),children:[o.jsx(Bh,{className:"mr-2 h-4 w-4"}),"Hacer una donacin"]})})]}),o.jsxs(Y,{className:"mb-8",children:[o.jsxs(oe,{children:[o.jsx(ae,{children:"Polticas de Privacidad"}),o.jsx(Le,{children:"Consulta nuestra poltica de privacidad y proteccin de datos"})]}),o.jsx(J,{children:o.jsx(B,{variant:"outline",className:"w-full",onClick:()=>r("/privacy-policy"),children:"Ver Polticas de Privacidad"})})]}),o.jsxs(Y,{className:"border-red-200",children:[o.jsxs(oe,{children:[o.jsxs(ae,{className:"text-red-600 flex items-center",children:[o.jsx(Im,{className:"mr-2 h-5 w-5"}),"Zona de Peligro"]}),o.jsx(Le,{children:"Una vez que elimines tu cuenta, no hay vuelta atrs. Por favor, asegrate."})]}),o.jsx(J,{children:o.jsxs(t3,{children:[o.jsx(r3,{asChild:!0,children:o.jsx(B,{variant:"destructive",className:"w-full",disabled:h,children:h?"Eliminando...":"Eliminar Cuenta y Todos los Datos"})}),o.jsxs(rN,{children:[o.jsxs(nN,{children:[o.jsx(oN,{children:"Ests absolutamente seguro?"}),o.jsxs(aN,{children:["Esta accin no se puede deshacer. Esto eliminar permanentemente tu cuenta y borrar todos tus datos de nuestros servidores, incluyendo:",o.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[o.jsx("li",{children:"Todos los tests realizados"}),o.jsx("li",{children:"Tu historial y estadsticas"}),o.jsx("li",{children:"Tu informacin de perfil"}),o.jsx("li",{children:"Cualquier dato asociado a tu cuenta"})]})]})]}),o.jsxs(sN,{children:[o.jsx(lN,{children:"Cancelar"}),o.jsx(iN,{onClick:w,className:"bg-red-600 hover:bg-red-700",children:"S, eliminar mi cuenta"})]})]})]})})]})]})})},o3=()=>{const e=Ge();return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs(B,{variant:"ghost",onClick:()=>e(-1),className:"mb-6",children:[o.jsx(vt,{className:"mr-2 h-4 w-4"}),"Volver"]}),o.jsxs(Y,{children:[o.jsx(oe,{children:o.jsx(ae,{className:"text-3xl text-center text-blue-600",children:"Poltica de Privacidad"})}),o.jsxs(J,{className:"prose prose-sm max-w-none space-y-6",children:[o.jsx(tn,{title:"1. Introduccin",children:o.jsx("p",{children:"oposiciones-test.com se compromete a proteger y respetar su privacidad. Esta poltica de privacidad explica cmo recopilo, utilizo y protejo la informacin personal que obtengo a travs de la aplicacin."})}),o.jsxs(tn,{title:"2. Informacin que Recopilamos",children:[o.jsx("p",{children:"Puedo recopilar y procesar la siguiente informacin personal:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[o.jsx("li",{children:"Nombre y apellidos"}),o.jsx("li",{children:"Direccin de correo electrnico"}),o.jsx("li",{children:"Informacin de contacto, incluyendo nmero de telfono"}),o.jsx("li",{children:"Informacin demogrfica, como cdigo postal"}),o.jsx("li",{children:"Datos de uso de la aplicacin"}),o.jsx("li",{children:"Contenido que usted introduce para funciones de IA (por ejemplo, textos/preguntas y, si procede, archivos)"}),o.jsx("li",{children:"Respuestas generadas por la IA y metadatos tcnicos de la operacin (p. ej., identificadores de solicitud, informacin de registro del dispositivo/cliente)"})]})]}),o.jsxs(tn,{title:"3. Uso de la Informacin",children:[o.jsx("p",{children:"Utilizo la informacin recopilada solo para uso interno de la APP, nunca para segundos, terceros o cualquier otros propsitos:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[o.jsx("li",{children:"Proveer los servicios y productos"}),o.jsx("li",{children:"Personalizar el contenido"}),o.jsx("li",{children:"Mejorar la aplicacin"}),o.jsx("li",{children:"Envo de boletines y promociones, solo referentes a la APP"}),o.jsx("li",{children:"Realizar anlisis y estudios de mercado propios"}),o.jsx("li",{children:"Nunca se transferirn sus datos a terceros, conscientemente"})]})]}),o.jsxs(tn,{title:"4. Proteccin de Datos y uso de IA (Google Gemini)",children:[o.jsx("p",{children:"Implemento medidas tcnicas y organizativas adecuadas para proteger sus datos personales contra el acceso no autorizado, la alteracin, la divulgacin o la destruccin. Cumplo con las obligaciones de seguridad impuestas por el RGPD y la LOPDGDD."}),o.jsxs("p",{className:"mt-4",children:[o.jsx("strong",{className:"text-blue-600",children:"Uso de IA (Google Gemini)."})," En determinadas funcionalidades, la APP utiliza servicios de inteligencia artificial prestados por Google Gemini. En este tratamiento, ",o.jsx("strong",{children:"oposiciones-test.com"})," acta como ",o.jsx("strong",{children:"responsable del tratamiento"})," y ",o.jsx("strong",{children:"Google LLC"})," acta como ",o.jsx("strong",{children:"encargado del tratamiento"}),", con arreglo a su Acuerdo de Tratamiento de Datos (DPA)."]}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Finalidad:"})," prestar las funciones de IA (p. ej., generacin de tcnicas de memorizacin, resmenes o anlisis de contenido) y garantizar la seguridad/prevencin de abusos del servicio."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Categoras de datos tratados por Google:"})," el contenido que usted enve para estas funciones (entradas) y las salidas generadas, junto con metadatos tcnicos necesarios para la prestacin del servicio."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Base jurdica:"})," ejecucin del contrato/servicio; y, cuando corresponda, su consentimiento."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Conservacin:"})," por defecto, Google puede conservar durante un periodo breve ciertos registros orientados a seguridad/abuso y luego eliminarlos, salvo obligacin legal de conservacin."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Entrenamiento de modelos:"})," los datos enviados a travs de la ",o.jsx("strong",{children:"API"})," de Google Gemini ",o.jsx("strong",{children:"no se utilizan por defecto"})," para entrenar sus modelos comerciales."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Transferencias internacionales:"})," el tratamiento puede implicar transferencias a EE. UU. u otros pases, aplicndose las ",o.jsx("strong",{children:"Clusulas Contractuales Tipo (SCC)"})," y otras garantas del DPA."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Seguridad:"})," cifrado en trnsito y en reposo y controles auditados (p. ej., certificaciones ISO 27001, SOC 2)."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Subencargados:"})," Google puede utilizar subprocesadores conforme a su DPA. Puede solicitar informacin adicional."]})]}),o.jsxs("p",{className:"mt-4",children:["El responsable limita las instrucciones a Google a la mera prestacin del servicio, sin autorizar su uso para fines propios, y exige la supresin conforme a los plazos indicados. Puede solicitar ms detalles o copia de las garantas aplicables escribiendo a ",o.jsx("strong",{className:"text-blue-600",children:"contacto@oposiciones-test.com"}),"."]})]}),o.jsx(tn,{title:"5. Derechos del Usuario",children:o.jsxs("p",{children:["Usted tiene derecho a acceder, rectificar, suprimir, oponerse y limitar el tratamiento de sus datos personales. Tambin puede retirar su consentimiento en cualquier momento. Para ejercer estos derechos, puede ponerse en contacto conmigo en ",o.jsx("strong",{className:"text-blue-600",children:"contacto@oposiciones-test.com"}),"."]})}),o.jsx(tn,{title:"6. Cookies",children:o.jsx("p",{children:"La aplicacin puede utilizar cookies o tecnologas similares para mejorar la experiencia del usuario. Puede configurar su dispositivo para rechazar cookies, aunque esto puede afectar la funcionalidad."})}),o.jsx(tn,{title:"7. Cambios en la Poltica de Privacidad",children:o.jsx("p",{children:"Me reservo el derecho de actualizar esta poltica de privacidad en cualquier momento. Cualquier cambio ser publicado en esta pgina y, cuando corresponda, notificado por correo electrnico."})}),o.jsxs(tn,{title:"8. Contacto",children:[o.jsx("p",{children:"Si tiene alguna pregunta sobre esta poltica de privacidad o sobre cmo manejo su informacin personal, puede contactarme en:"}),o.jsx("p",{className:"font-bold text-blue-600",children:"contacto@oposiciones-test.com"})]}),o.jsxs(tn,{title:"9. Base jurdica y plazos",children:[o.jsx("p",{children:"Trato sus datos personales conforme a las siguientes bases jurdicas del RGPD:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Ejecucin del contrato"})," (art. 6.1.b): para prestar la APP y sus funcionalidades."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Consentimiento"})," (art. 6.1.a): para comunicaciones comerciales propias y para funciones de IA que usted active de forma opcional, cuando proceda."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Inters legtimo"})," (art. 6.1.f): seguridad del servicio, prevencin del fraude y mejora de la calidad, siempre ponderando sus derechos."]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cumplimiento de obligaciones legales"})," (art. 6.1.c): atencin de derechos, requisitos fiscales/contables y otras obligaciones aplicables."]})]}),o.jsxs("p",{className:"mt-4",children:["Los datos se conservarn mientras sean necesarios para las finalidades indicadas y, posteriormente, durante los",o.jsx("strong",{children:" plazos legales de prescripcin"})," para atender posibles responsabilidades. En lo relativo a los servicios de IA, ciertos registros tcnicos orientados a seguridad/abuso pueden conservarse por un periodo breve (p. ej., hasta 30 das) por parte del proveedor y, transcurrido este, se eliminan salvo obligacin legal."]})]}),o.jsxs(tn,{title:"10. Residencia de datos y transferencias (Google Gemini)",children:[o.jsxs("p",{children:["El procesamiento de entradas y salidas de IA mediante Google Gemini puede implicar",o.jsx("strong",{children:" transferencias internacionales"})," fuera del EEE. En tales supuestos, se aplican las",o.jsx("strong",{children:" Clusulas Contractuales Tipo (SCC)"})," u otras garantas adecuadas previstas por el RGPD."]}),o.jsxs("p",{className:"mt-4",children:["Puede solicitar confirmacin sobre si su proyecto tiene activada la residencia de datos en Europa y obtener copia o referencia de las garantas aplicadas escribiendo a ",o.jsx("strong",{className:"text-blue-600",children:"contacto@oposiciones-test.com"}),"."]})]})]})]})]})})},tn=({title:e,children:t})=>o.jsxs("div",{className:"space-y-3",children:[o.jsx("h2",{className:"text-xl font-bold text-blue-600 border-b border-blue-200 pb-2",children:e}),o.jsx("div",{className:"text-gray-700 space-y-2",children:t})]});function a3(){const e=Ge(),{user:t}=Ke(),{toast:r}=Xt(),[n,s]=f.useState([]),[a,i]=f.useState(!0),[l,c]=f.useState(""),[u,d]=f.useState("all");f.useEffect(()=>{h()},[t]);const h=async()=>{if(t!=null&&t.id){i(!0);try{const b=await fetch(`https://oposiciones-test.com/api/listar_resumenes.php?id_usuario=${t.id}`,{headers:{"Content-Type":"application/json"}});if(!b.ok)throw new Error("Error al cargar resmenes");const y=await b.json();if(y.success&&Array.isArray(y.resumenes))s(y.resumenes);else if(Array.isArray(y))s(y);else throw new Error(y.error||"Formato de respuesta invlido")}catch(b){r({variant:"destructive",title:"Error",description:b.message||"No se pudieron cargar los resmenes"}),s([])}finally{i(!1)}}},p=b=>{if(!b)return"-";const y=new Date(b);return isNaN(y.getTime())?b:new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(y)},g=b=>b?(b/1024).toFixed(1)+" KB":"-",w=["all",...new Set(n.map(b=>b.seccion).filter(Boolean))],v=n.filter(b=>{var x,j,N;const y=l===""||((x=b.tema)==null?void 0:x.toLowerCase().includes(l.toLowerCase()))||((j=b.seccion)==null?void 0:j.toLowerCase().includes(l.toLowerCase()))||((N=b.resumen)==null?void 0:N.toLowerCase().includes(l.toLowerCase())),m=u==="all"||b.seccion===u;return y&&m});return a?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:o.jsx(rt,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs(B,{variant:"ghost",onClick:()=>e("/"),className:"mb-4",children:[o.jsx(vt,{className:"w-4 h-4 mr-2"}),"Volver al inicio"]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mis Resmenes"}),o.jsxs("p",{className:"text-gray-600",children:[n.length," ",n.length===1?"resumen guardado":"resmenes guardados"]})]}),o.jsxs(B,{onClick:()=>e("/crear-resumen"),children:[o.jsx(eo,{className:"w-4 h-4 mr-2"}),"Crear Resumen"]})]})]}),o.jsx(Y,{className:"mb-6",children:o.jsx(J,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Bb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(je,{placeholder:"Buscar por tema, seccin o contenido...",value:l,onChange:b=>c(b.target.value),className:"pl-10"})]}),w.length>1&&o.jsx("div",{className:"w-full overflow-x-auto",children:o.jsx(Va,{value:u,onValueChange:d,children:o.jsx(jo,{className:"inline-flex w-auto min-w-full flex-nowrap",children:w.map(b=>o.jsx(Kt,{value:b,className:"whitespace-nowrap flex-shrink-0",children:b==="all"?"Todas":b},b))})})})]})})}),v.length===0?o.jsx(Y,{className:"text-center py-12",children:o.jsxs(J,{children:[o.jsx(eo,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:l||u!=="all"?"No se encontraron resmenes":"An no tienes resmenes"}),o.jsx("p",{className:"text-gray-500 mb-4",children:l||u!=="all"?"Intenta con otros trminos de bsqueda":"Comienza creando tu primer resumen"}),(l||u!=="all")&&o.jsx(B,{variant:"outline",onClick:()=>{c(""),d("all")},children:"Limpiar filtros"})]})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-2",children:v.map(b=>o.jsxs(Y,{className:"hover:shadow-lg transition-shadow cursor-pointer overflow-hidden flex flex-col",onClick:()=>e(`/resumenes/${b.id}`),children:[o.jsxs(oe,{className:"flex-shrink-0",children:[o.jsxs(ae,{className:"flex items-start gap-2",children:[o.jsx(_t,{className:"w-5 h-5 text-primary mt-1 flex-shrink-0"}),o.jsx("span",{className:"line-clamp-2 break-words",children:b.tema||"Sin ttulo"})]}),b.seccion&&o.jsx(Le,{className:"font-medium line-clamp-1",children:b.seccion})]}),o.jsxs(J,{className:"flex-1 overflow-hidden",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3 break-words",children:b.resumen||"Sin contenido"}),o.jsxs("div",{className:"space-y-2 text-xs text-gray-500",children:[b.archivo_nombre&&o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx(eo,{className:"w-3 h-3 flex-shrink-0"}),o.jsxs("span",{className:"truncate",children:[b.archivo_nombre,b.archivo_tamano&&` (${g(b.archivo_tamano)})`]})]}),b.fecha&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fr,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{className:"whitespace-nowrap",children:p(b.fecha)})]})]})]})]},b.id))})]})})}const co=f.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));co.displayName="Textarea";const jg=og,i3=Hj,l3=ag,cN=f.forwardRef(({className:e,...t},r)=>o.jsx(Sl,{ref:r,className:W("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));cN.displayName=Sl.displayName;const Nd=f.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(l3,{children:[o.jsx(cN,{}),o.jsxs(Nl,{ref:n,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(bd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(On,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nd.displayName=Nl.displayName;const Cd=({className:e,...t})=>o.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Cd.displayName="DialogHeader";const Ed=f.forwardRef(({className:e,...t},r)=>o.jsx(Cl,{ref:r,className:W("text-lg font-semibold leading-none tracking-tight",e),...t}));Ed.displayName=Cl.displayName;const uN=f.forwardRef(({className:e,...t},r)=>o.jsx(El,{ref:r,className:W("text-sm text-muted-foreground",e),...t}));uN.displayName=El.displayName;function c3(){const{id:e}=Qm(),t=Ge();Ke();const{toast:r}=Xt(),[n,s]=f.useState(null),[a,i]=f.useState(!0),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,p]=f.useState(!1),[g,w]=f.useState(!1),[v,b]=f.useState(!1),y="https://yrjwyeuqfleqhbveohrf.supabase.co",m="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlyand5ZXVxZmxlcWhidmVvaHJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NjM1OTUsImV4cCI6MjA3NTUzOTU5NX0.QeAWfPjecNzz_d1MY1UHYmVN9bYl23rzot9gDsUtXKY",x=f.useCallback(async()=>{if(e){i(!0);try{const k=await fetch(`https://oposiciones-test.com/api/detalle_resumen.php?id=${e}`,{headers:{"Content-Type":"application/json"}});if(!k.ok)throw new Error("Error al cargar el resumen");const $=await k.json();if($!=null&&$.resumen)s($.resumen);else throw $!=null&&$.error?new Error($.error):new Error("Formato de respuesta invlido")}catch(k){r({variant:"destructive",title:"Error",description:k.message||"No se pudo cargar el resumen"}),t("/resumenes")}finally{i(!1)}}},[e,y,m,t,r]),j=f.useCallback(async()=>{if(e){p(!0);try{const k=await fetch(`https://oposiciones-test.com/api/tecnica_resumen.php?resumen_id=${e}`,{headers:{"Content-Type":"application/json"}});if(!k.ok)throw new Error("Error al cargar la tcnica");const $=await k.json();$!=null&&$.tecnica&&d($.tecnica)}catch(k){console.error("Error cargando tcnica:",k)}finally{p(!1)}}},[e,y,m]),N=f.useCallback(async()=>{if(e){w(!0);try{const k=await fetch("https://oposiciones-test.com/api/tecnica_resumen.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({resumen_id:Number(e),tecnica:u})});if(!k.ok)throw new Error("Error al guardar la tcnica");const $=await k.json();if($!=null&&$.success)r({title:"xito",description:"Tcnica guardada correctamente"}),c(!1);else throw new Error(($==null?void 0:$.error)||"Error al guardar")}catch(k){r({variant:"destructive",title:"Error",description:k.message||"No se pudo guardar la tcnica"})}finally{w(!1)}}},[e,u,y,m,r]);f.useEffect(()=>{x()},[x]);const _=f.useCallback(async k=>{if(n){b(!0);try{const $=await fetch(`${y}/functions/v1/generar-tecnica`,{method:"POST",headers:{apikey:m,"Content-Type":"application/json"},body:JSON.stringify({resumen:n.resumen,tema:n.tema,seccion:n.seccion,metodo:k})});if(!$.ok)throw new Error("Error al generar la tcnica");const L=await $.json();if(L!=null&&L.tecnica)d(L.tecnica),r({title:"xito",description:"Tcnica generada con Gemini"});else throw new Error((L==null?void 0:L.error)||"Error al generar")}catch($){r({variant:"destructive",title:"Error",description:$.message||"No se pudo generar la tcnica"})}finally{b(!1)}}},[n,y,m,r]),S=k=>{const L={loci:`# Mtodo de Loci (palacio de la memoria)
1) Elige un lugar que conozcas muy bien (casa/recorrido).
2) Divide el resumen en 8-12 ideas clave.
3) Asigna cada idea a un "locus" (habitacin/objeto) y crea una imagen vvida y exagerada.
4) Recorre mentalmente el itinerario para recordar las ideas en orden.
5) Repaso espaciado: 10 min, 1 da, 3 das, 1 semana, 1 mes.`,feynman:`# Tcnica Feynman
1) Escribe el tema como si se lo explicaras a un nio de 12 aos.
2) Detecta lagunas (donde uses jerga o no puedas simplificar).
3) Vuelve a la fuente, comprende y reescribe con palabras simples.
4) Crea un ejemplo numrico del resumen y una analoga cotidiana.
5) Repite hasta que puedas contarlo en 2 minutos sin mirar.`,acronimo:`# Acrnimo / Acrstico
1) Toma las palabras clave del resumen.
2) Extrae iniciales y forma un acrnimo fcil de pronunciar (o una frase).
3) Refuerza con una imagen mental que conecte el acrnimo con el tema.
4) Practica evocacin: intenta recordar cada palabra a partir del acrnimo.`,flashcards:`# Flashcards + Repeticin espaciada
1) Divide el resumen en preguntas y respuestas breves.
2) Crea tarjetas (anverso pregunta, reverso respuesta).
3) Usa un algoritmo de espaciamiento (2d, 4d, 7d, 15d).
4) Marca como "difcil" lo que falle y reduce el intervalo.
5) Mezcla tarjetas y autoexplica la respuesta en voz alta.`}[k]||"";d(D=>D?D+`

`+L:L)},P=k=>k?(k/1024).toFixed(1)+" KB":"-",I=k=>{if(!k)return"-";const $=new Date(k);return isNaN($.getTime())?k:new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format($)};return a?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:o.jsx(rt,{className:"w-8 h-8 animate-spin text-primary"})}):n?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs(B,{variant:"ghost",onClick:()=>t("/resumenes"),className:"mb-4",children:[o.jsx(vt,{className:"w-4 h-4 mr-2"}),"Volver a resmenes"]}),o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsxs(ae,{className:"flex items-start gap-2",children:[o.jsx(eo,{className:"w-6 h-6 text-primary mt-1 flex-shrink-0"}),o.jsx("span",{children:n.tema||"(Sin tema)"})]}),n.seccion&&o.jsx(Le,{className:"text-base font-medium",children:n.seccion})]}),o.jsxs(J,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Resumen:"}),o.jsx("p",{className:"text-base leading-relaxed whitespace-pre-wrap",children:n.resumen||"Sin contenido"})]}),o.jsx(Nt,{}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[n.archivo_nombre&&o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-muted-foreground mb-1",children:"Archivo original:"}),o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(eo,{className:"w-4 h-4"}),n.archivo_nombre,n.archivo_tamano&&` (${P(n.archivo_tamano)})`]})]}),n.archivo_tipo&&o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-muted-foreground mb-1",children:"Tipo:"}),o.jsx("p",{children:n.archivo_tipo})]}),n.fecha&&o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-muted-foreground mb-1",children:"Fecha:"}),o.jsxs("p",{className:"flex items-center gap-2",children:[o.jsx(Fr,{className:"w-4 h-4"}),I(n.fecha)]})]})]}),o.jsx(Nt,{}),o.jsxs(jg,{open:l,onOpenChange:c,children:[o.jsx(i3,{asChild:!0,children:o.jsxs(B,{className:"w-full",variant:"default",onClick:()=>{c(!0),j()},children:[o.jsx(qi,{className:"w-4 h-4 mr-2"}),"Tcnica de memorizacin"]})}),o.jsxs(Nd,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(Cd,{children:[o.jsx(Ed,{children:"Memorizar este resumen"}),o.jsx(uN,{children:"Aade tu propia tcnica o inserta una plantilla"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Generar con IA (Gemini):"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(B,{size:"sm",variant:"default",onClick:()=>_("feynman"),disabled:v,children:v?"Generando...":"Generar Feynman"}),o.jsx(B,{size:"sm",variant:"default",onClick:()=>_("loci"),disabled:v,children:v?"Generando...":"Generar Loci"}),o.jsx(B,{size:"sm",variant:"default",onClick:()=>_("mapa"),disabled:v,children:v?"Generando...":"Generar Mapa Mental"}),o.jsx(B,{size:"sm",variant:"default",onClick:()=>_("preguntas"),disabled:v,children:v?"Generando...":"Generar Q&A"})]})]}),o.jsx(Nt,{}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"O inserta una plantilla:"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(B,{size:"sm",variant:"outline",onClick:()=>S("loci"),children:"Loci"}),o.jsx(B,{size:"sm",variant:"outline",onClick:()=>S("feynman"),children:"Feynman"}),o.jsx(B,{size:"sm",variant:"outline",onClick:()=>S("acronimo"),children:"Acrnimo"}),o.jsx(B,{size:"sm",variant:"outline",onClick:()=>S("flashcards"),children:"Flashcards"})]})]}),h?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(rt,{className:"w-6 h-6 animate-spin"})}):o.jsxs(o.Fragment,{children:[o.jsx(co,{value:u,onChange:k=>d(k.target.value),placeholder:"Describe aqu cmo memorizars este contenido (pasos, imgenes mentales, repaso espaciado, etc.)",className:"min-h-[300px]"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.length," caracteres"]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(B,{variant:"outline",onClick:()=>c(!1),children:"Cerrar"}),o.jsxs(B,{onClick:N,disabled:g||h,children:[g&&o.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardar"]})]})]})]})]})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:o.jsx(Y,{className:"max-w-md",children:o.jsxs(J,{className:"pt-6 text-center",children:[o.jsx("p",{className:"text-destructive mb-4",children:"Resumen no encontrado"}),o.jsxs(B,{onClick:()=>t("/resumenes"),children:[o.jsx(vt,{className:"w-4 h-4 mr-2"}),"Volver a resmenes"]})]})})})}function xp(e,[t,r]){return Math.min(r,Math.max(t,e))}var u3=[" ","Enter","ArrowUp","ArrowDown"],d3=[" ","Enter"],Rl="Select",[Pd,kd,f3]=ml(Rl),[Ha,nB]=Et(Rl,[f3,Rs]),Td=Rs(),[h3,Os]=Ha(Rl),[p3,m3]=Ha(Rl),dN=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:g,form:w}=e,v=Td(t),[b,y]=f.useState(null),[m,x]=f.useState(null),[j,N]=f.useState(!1),_=xo(u),[S=!1,P]=Jt({prop:n,defaultProp:s,onChange:a}),[I,k]=Jt({prop:i,defaultProp:l,onChange:c}),$=f.useRef(null),L=b?w||!!b.closest("form"):!0,[D,E]=f.useState(new Set),T=Array.from(D).map(O=>O.props.value).join(";");return o.jsx(td,{...v,children:o.jsxs(h3,{required:g,scope:t,trigger:b,onTriggerChange:y,valueNode:m,onValueNodeChange:x,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Gt(),value:I,onValueChange:k,open:S,onOpenChange:P,dir:_,triggerPointerDownPosRef:$,disabled:p,children:[o.jsx(Pd.Provider,{scope:t,children:o.jsx(p3,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(O=>{E(M=>new Set(M).add(O))},[]),onNativeOptionRemove:f.useCallback(O=>{E(M=>{const C=new Set(M);return C.delete(O),C})},[]),children:r})}),L?o.jsxs(DN,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:O=>k(O.target.value),disabled:p,form:w,children:[I===void 0?o.jsx("option",{value:""}):null,Array.from(D)]},T):null]})})};dN.displayName=Rl;var fN="SelectTrigger",hN=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Td(r),i=Os(fN,r),l=i.disabled||n,c=ie(t,i.onTriggerChange),u=kd(r),d=f.useRef("touch"),[h,p,g]=$N(v=>{const b=u().filter(x=>!x.disabled),y=b.find(x=>x.value===i.value),m=LN(b,v,y);m!==void 0&&i.onValueChange(m.value)}),w=v=>{l||(i.onOpenChange(!0),g()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(yl,{asChild:!0,...a,children:o.jsx(Q.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":MN(i.value)?"":void 0,...s,ref:c,onClick:H(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&w(v)}),onPointerDown:H(s.onPointerDown,v=>{d.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:H(s.onKeyDown,v=>{const b=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(b&&v.key===" ")&&u3.includes(v.key)&&(w(),v.preventDefault())})})})});hN.displayName=fN;var pN="SelectValue",mN=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=Os(pN,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=ie(t,c.onValueNodeChange);return nt(()=>{u(d)},[u,d]),o.jsx(Q.span,{...l,ref:h,style:{pointerEvents:"none"},children:MN(c.value)?o.jsx(o.Fragment,{children:i}):a})});mN.displayName=pN;var g3="SelectIcon",gN=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(Q.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});gN.displayName=g3;var v3="SelectPortal",vN=e=>o.jsx(Ma,{asChild:!0,...e});vN.displayName=v3;var uo="SelectContent",yN=f.forwardRef((e,t)=>{const r=Os(uo,e.__scopeSelect),[n,s]=f.useState();if(nt(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?mo.createPortal(o.jsx(xN,{scope:e.__scopeSelect,children:o.jsx(Pd.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(wN,{...e,ref:t})});yN.displayName=uo;var Tr=10,[xN,Is]=Ha(uo),y3="SelectContentImpl",wN=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:b,...y}=e,m=Os(uo,r),[x,j]=f.useState(null),[N,_]=f.useState(null),S=ie(t,K=>j(K)),[P,I]=f.useState(null),[k,$]=f.useState(null),L=kd(r),[D,E]=f.useState(!1),T=f.useRef(!1);f.useEffect(()=>{if(x)return wd(x)},[x]),yd();const O=f.useCallback(K=>{const[xe,...we]=L().map(ve=>ve.ref.current),[ge]=we.slice(-1),Ne=document.activeElement;for(const ve of K)if(ve===Ne||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===xe&&N&&(N.scrollTop=0),ve===ge&&N&&(N.scrollTop=N.scrollHeight),ve==null||ve.focus(),document.activeElement!==Ne))return},[L,N]),M=f.useCallback(()=>O([P,x]),[O,P,x]);f.useEffect(()=>{D&&M()},[D,M]);const{onOpenChange:C,triggerPointerDownPosRef:R}=m;f.useEffect(()=>{if(x){let K={x:0,y:0};const xe=ge=>{var Ne,ve;K={x:Math.abs(Math.round(ge.pageX)-(((Ne=R.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((ve=R.current)==null?void 0:ve.y)??0))}},we=ge=>{K.x<=10&&K.y<=10?ge.preventDefault():x.contains(ge.target)||C(!1),document.removeEventListener("pointermove",xe),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",we,{capture:!0})}}},[x,C,R]),f.useEffect(()=>{const K=()=>C(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[C]);const[F,A]=$N(K=>{const xe=L().filter(Ne=>!Ne.disabled),we=xe.find(Ne=>Ne.ref.current===document.activeElement),ge=LN(xe,K,we);ge&&setTimeout(()=>ge.ref.current.focus())}),z=f.useCallback((K,xe,we)=>{const ge=!T.current&&!we;(m.value!==void 0&&m.value===xe||ge)&&(I(K),ge&&(T.current=!0))},[m.value]),G=f.useCallback(()=>x==null?void 0:x.focus(),[x]),ee=f.useCallback((K,xe,we)=>{const ge=!T.current&&!we;(m.value!==void 0&&m.value===xe||ge)&&$(K)},[m.value]),me=n==="popper"?wp:bN,te=me===wp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:v,avoidCollisions:b}:{};return o.jsx(xN,{scope:r,content:x,viewport:N,onViewportChange:_,itemRefCallback:z,selectedItem:P,onItemLeave:G,itemTextRefCallback:ee,focusSelectedItem:M,selectedItemText:k,position:n,isPositioned:D,searchRef:F,children:o.jsx(_l,{as:Qt,allowPinchZoom:!0,children:o.jsx(jl,{asChild:!0,trapped:m.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:H(s,K=>{var xe;(xe=m.trigger)==null||xe.focus({preventScroll:!0}),K.preventDefault()}),children:o.jsx(go,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:o.jsx(me,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:K=>K.preventDefault(),...y,...te,onPlaced:()=>E(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:H(y.onKeyDown,K=>{const xe=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!xe&&K.key.length===1&&A(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let ge=L().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(K.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const Ne=K.target,ve=ge.indexOf(Ne);ge=ge.slice(ve+1)}setTimeout(()=>O(ge)),K.preventDefault()}})})})})})})});wN.displayName=y3;var x3="SelectItemAlignedPosition",bN=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Os(uo,r),i=Is(uo,r),[l,c]=f.useState(null),[u,d]=f.useState(null),h=ie(t,S=>d(S)),p=kd(r),g=f.useRef(!1),w=f.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:y,focusSelectedItem:m}=i,x=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&b&&y){const S=a.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),k=y.getBoundingClientRect();if(a.dir!=="rtl"){const Ne=k.left-P.left,ve=I.left-Ne,ft=S.left-ve,Pt=S.width+ft,Yr=Math.max(Pt,P.width),$t=window.innerWidth-Tr,Qr=xp(ve,[Tr,Math.max(Tr,$t-Yr)]);l.style.minWidth=Pt+"px",l.style.left=Qr+"px"}else{const Ne=P.right-k.right,ve=window.innerWidth-I.right-Ne,ft=window.innerWidth-S.right-ve,Pt=S.width+ft,Yr=Math.max(Pt,P.width),$t=window.innerWidth-Tr,Qr=xp(ve,[Tr,Math.max(Tr,$t-Yr)]);l.style.minWidth=Pt+"px",l.style.right=Qr+"px"}const $=p(),L=window.innerHeight-Tr*2,D=v.scrollHeight,E=window.getComputedStyle(u),T=parseInt(E.borderTopWidth,10),O=parseInt(E.paddingTop,10),M=parseInt(E.borderBottomWidth,10),C=parseInt(E.paddingBottom,10),R=T+O+D+C+M,F=Math.min(b.offsetHeight*5,R),A=window.getComputedStyle(v),z=parseInt(A.paddingTop,10),G=parseInt(A.paddingBottom,10),ee=S.top+S.height/2-Tr,me=L-ee,te=b.offsetHeight/2,K=b.offsetTop+te,xe=T+O+K,we=R-xe;if(xe<=ee){const Ne=$.length>0&&b===$[$.length-1].ref.current;l.style.bottom="0px";const ve=u.clientHeight-v.offsetTop-v.offsetHeight,ft=Math.max(me,te+(Ne?G:0)+ve+M),Pt=xe+ft;l.style.height=Pt+"px"}else{const Ne=$.length>0&&b===$[0].ref.current;l.style.top="0px";const ft=Math.max(ee,T+v.offsetTop+(Ne?z:0)+te)+we;l.style.height=ft+"px",v.scrollTop=xe-ee+v.offsetTop}l.style.margin=`${Tr}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[p,a.trigger,a.valueNode,l,u,v,b,y,a.dir,n]);nt(()=>x(),[x]);const[j,N]=f.useState();nt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const _=f.useCallback(S=>{S&&w.current===!0&&(x(),m==null||m(),w.current=!1)},[x,m]);return o.jsx(b3,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:_,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(Q.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});bN.displayName=x3;var w3="SelectPopperPosition",wp=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Tr,...a}=e,i=Td(r);return o.jsx(rd,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wp.displayName=w3;var[b3,_g]=Ha(uo,{}),bp="SelectViewport",jN=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Is(bp,r),i=_g(bp,r),l=ie(t,a.onViewportChange),c=f.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Pd.Slot,{scope:r,children:o.jsx(Q.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:H(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const g=Math.abs(c.current-d.scrollTop);if(g>0){const w=window.innerHeight-Tr*2,v=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),y=Math.max(v,b);if(y<w){const m=y+g,x=Math.min(w,m),j=m-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});jN.displayName=bp;var _N="SelectGroup",[j3,_3]=Ha(_N),S3=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Gt();return o.jsx(j3,{scope:r,id:s,children:o.jsx(Q.div,{role:"group","aria-labelledby":s,...n,ref:t})})});S3.displayName=_N;var SN="SelectLabel",NN=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=_3(SN,r);return o.jsx(Q.div,{id:s.id,...n,ref:t})});NN.displayName=SN;var Cu="SelectItem",[N3,CN]=Ha(Cu),EN=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=Os(Cu,r),c=Is(Cu,r),u=l.value===n,[d,h]=f.useState(a??""),[p,g]=f.useState(!1),w=ie(t,m=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,m,n,s)}),v=Gt(),b=f.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(N3,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:f.useCallback(m=>{h(x=>x||((m==null?void 0:m.textContent)??"").trim())},[]),children:o.jsx(Pd.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(Q.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:H(i.onFocus,()=>g(!0)),onBlur:H(i.onBlur,()=>g(!1)),onClick:H(i.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:H(i.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:H(i.onPointerDown,m=>{b.current=m.pointerType}),onPointerMove:H(i.onPointerMove,m=>{var x;b.current=m.pointerType,s?(x=c.onItemLeave)==null||x.call(c):b.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:H(i.onPointerLeave,m=>{var x;m.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:H(i.onKeyDown,m=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&m.key===" "||(d3.includes(m.key)&&y(),m.key===" "&&m.preventDefault())})})})})});EN.displayName=Cu;var di="SelectItemText",PN=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=Os(di,r),l=Is(di,r),c=CN(di,r),u=m3(di,r),[d,h]=f.useState(null),p=ie(t,y=>h(y),c.onItemTextChange,y=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,y,c.value,c.disabled)}),g=d==null?void 0:d.textContent,w=f.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return nt(()=>(v(w),()=>b(w)),[v,b,w]),o.jsxs(o.Fragment,{children:[o.jsx(Q.span,{id:c.textId,...a,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?mo.createPortal(a.children,i.valueNode):null]})});PN.displayName=di;var kN="SelectItemIndicator",TN=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return CN(kN,r).isSelected?o.jsx(Q.span,{"aria-hidden":!0,...n,ref:t}):null});TN.displayName=kN;var jp="SelectScrollUpButton",RN=f.forwardRef((e,t)=>{const r=Is(jp,e.__scopeSelect),n=_g(jp,e.__scopeSelect),[s,a]=f.useState(!1),i=ie(t,n.onScrollButtonChange);return nt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(ON,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});RN.displayName=jp;var _p="SelectScrollDownButton",AN=f.forwardRef((e,t)=>{const r=Is(_p,e.__scopeSelect),n=_g(_p,e.__scopeSelect),[s,a]=f.useState(!1),i=ie(t,n.onScrollButtonChange);return nt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(ON,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});AN.displayName=_p;var ON=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Is("SelectScrollButton",r),i=f.useRef(null),l=kd(r),c=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),nt(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Q.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:H(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:H(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:H(s.onPointerLeave,()=>{c()})})}),C3="SelectSeparator",IN=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Q.div,{"aria-hidden":!0,...n,ref:t})});IN.displayName=C3;var Sp="SelectArrow",E3=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Td(r),a=Os(Sp,r),i=Is(Sp,r);return a.open&&i.position==="popper"?o.jsx(nd,{...s,...n,ref:t}):null});E3.displayName=Sp;function MN(e){return e===""||e===void 0}var DN=f.forwardRef((e,t)=>{const{value:r,...n}=e,s=f.useRef(null),a=ie(t,s),i=xg(r);return f.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const h=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(h)}},[i,r]),o.jsx(gl,{asChild:!0,children:o.jsx("select",{...n,ref:a,defaultValue:r})})});DN.displayName="BubbleSelect";function $N(e){const t=Be(e),r=f.useRef(""),n=f.useRef(0),s=f.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function LN(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=P3(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function P3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var k3=dN,FN=hN,T3=mN,R3=gN,A3=vN,zN=yN,O3=jN,UN=NN,BN=EN,I3=PN,M3=TN,WN=RN,VN=AN,HN=IN;const zr=k3,Ur=T3,xr=f.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(FN,{ref:n,className:W("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(R3,{asChild:!0,children:o.jsx(Am,{className:"h-4 w-4 opacity-50"})})]}));xr.displayName=FN.displayName;const qN=f.forwardRef(({className:e,...t},r)=>o.jsx(WN,{ref:r,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(XT,{className:"h-4 w-4"})}));qN.displayName=WN.displayName;const GN=f.forwardRef(({className:e,...t},r)=>o.jsx(VN,{ref:r,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Am,{className:"h-4 w-4"})}));GN.displayName=VN.displayName;const wr=f.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(A3,{children:o.jsxs(zN,{ref:s,className:W("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(qN,{}),o.jsx(O3,{className:W("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(GN,{})]})}));wr.displayName=zN.displayName;const D3=f.forwardRef(({className:e,...t},r)=>o.jsx(UN,{ref:r,className:W("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));D3.displayName=UN.displayName;const br=f.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(BN,{ref:n,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(M3,{children:o.jsx(Rm,{className:"h-4 w-4"})})}),o.jsx(I3,{children:t})]}));br.displayName=BN.displayName;const $3=f.forwardRef(({className:e,...t},r)=>o.jsx(HN,{ref:r,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));$3.displayName=HN.displayName;const Cx="https://oposiciones-test.com/api",L3="https://yrjwyeuqfleqhbveohrf.supabase.co",F3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlyand5ZXVxZmxlcWhidmVvaHJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NjM1OTUsImV4cCI6MjA3NTUzOTU5NX0.QeAWfPjecNzz_d1MY1UHYmVN9bYl23rzot9gDsUtXKY";class z3{async callAPI(t,r={}){const n=t.startsWith("http")?t:`${Cx}/${t}`,s=await fetch(n,{...r,headers:{"Content-Type":"application/json",...r.headers}});if(!s.ok)throw new Error(`Error en la peticin: ${s.status}`);return s.json()}async getProcesos(){try{const t=await this.callAPI("procesos.php");return Array.isArray(t)?t:[]}catch(t){throw console.error("Error al obtener procesos:",t),t}}async getSeccionesYTemas(t){try{return await this.callAPI(`preguntas_auxiliares.php?id_proceso=${t}`)}catch(r){throw console.error("Error al obtener secciones y temas:",r),r}}async getTemasPorSeccion(t,r){try{const n=await this.callAPI(`preguntas_auxiliares.php?id_proceso=${t}&seccion=${encodeURIComponent(r)}`);return n.success&&Array.isArray(n.temas)?n.temas:[]}catch(n){throw console.error("Error al obtener temas por seccin:",n),n}}async getPreguntas(t){try{const r=new URLSearchParams({endpoint:"genera_test.php",proceso_id:t.id_proceso.toString(),secciones:t.secciones.join(","),temas:t.temas.join(","),numPreguntas:t.numPreguntas.toString()}),n=await this.callAPI(`?${r.toString()}`);return Array.isArray(n)?n:[]}catch(r){throw console.error("Error al obtener preguntas:",r),r}}async guardarProgreso(t){try{const r=new URLSearchParams({endpoint:"test_progreso.php",action:"guardar",user_id:t.user_id.toString(),test_key:t.test_key,actual:t.actual.toString(),respuestas:JSON.stringify(t.respuestas),tiempo_restante:t.tiempo_restante.toString(),preguntas:JSON.stringify(t.preguntas)});return await this.callAPI("",{method:"POST",body:r.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}catch(r){return console.error("Error al guardar progreso:",r),{ok:!1,error:"Error de conexin"}}}async recuperarProgreso(t,r){try{const n=new URLSearchParams({endpoint:"test_progreso.php",action:"recuperar",user_id:t.toString(),test_key:r});return await this.callAPI("",{method:"POST",body:n.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}catch(n){return console.error("Error al recuperar progreso:",n),{ok:!1,error:"Error de conexin"}}}async eliminarProgreso(t,r){try{const n=new URLSearchParams({endpoint:"test_progreso.php",action:"eliminar",user_id:t.toString(),test_key:r});return await this.callAPI("",{method:"POST",body:n.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}catch(n){return console.error("Error al eliminar progreso:",n),{ok:!1}}}async getComentarios(t){try{return(await this.callAPI(`?endpoint=comentarios.php&id_pregunta=${t}`)).comentarios||[]}catch(r){return console.error("Error al obtener comentarios:",r),[]}}async addComentario(t){try{return await this.callAPI("?endpoint=comentarios.php",{method:"POST",body:JSON.stringify(t)})}catch(r){return console.error("Error al aadir comentario:",r),{success:!1,error:"Error de conexin"}}}async updateComentario(t,r,n){try{return await(await fetch(`${Cx}/comentarios.php`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,comentario:r,rol:n})})).json()}catch(s){return console.error("Error al actualizar comentario:",s),{success:!1}}}async deleteComentario(t,r){try{return await this.callAPI("?endpoint=comentarios.php",{method:"POST",body:JSON.stringify({action:"delete",id:t,rol:r})})}catch(n){return console.error("Error al eliminar comentario:",n),{success:!1}}}async getProfesorExplicacion(t){try{return await(await fetch(`${L3}/functions/v1/profesor-virtual`,{method:"POST",headers:{"Content-Type":"application/json",apikey:F3},body:JSON.stringify(t)})).json()}catch(r){return console.error("Error al obtener explicacin del profesor:",r),{success:!1,error:"Error de conexin"}}}async guardarTestRealizado(t){try{const r={...t,respuestas:typeof t.respuestas=="object"?t.respuestas:JSON.parse(t.respuestas),preguntas_acertadas:typeof t.preguntas_acertadas=="object"?t.preguntas_acertadas:JSON.parse(t.preguntas_acertadas),preguntas_falladas:typeof t.preguntas_falladas=="object"?t.preguntas_falladas:JSON.parse(t.preguntas_falladas)};return await this.callAPI("?endpoint=guardar_tests_realizados.php",{method:"POST",body:JSON.stringify(r)})}catch(r){return console.error("Error al guardar test realizado:",r),{success:!1,error:"Error de conexin"}}}async getHistorialTests(t){try{const r=new URLSearchParams({user_id:t.user_id.toString()});t.tipo_test&&r.append("tipo_test",t.tipo_test),t.desde&&r.append("desde",t.desde),t.hasta&&r.append("hasta",t.hasta),t.q&&r.append("q",t.q);const n=await this.callAPI(`historial_tests.php?${r.toString()}`);return Array.isArray(n)?n:[]}catch(r){return console.error("Error al obtener historial:",r),[]}}async getEstadisticasUsuario(t){try{const r=new URLSearchParams({user_id:t.user_id.toString()});return t.tipo_test&&r.append("tipo_test",t.tipo_test),await this.callAPI(`estadisticas_usuario.php?${r.toString()}`)}catch(r){return console.error("Error al obtener estadsticas:",r),null}}async getRanking(t){try{const r=new URLSearchParams;t.user_id&&r.append("user_id",t.user_id.toString()),t.id_proceso&&r.append("id_proceso",t.id_proceso.toString()),t.tipo_test&&r.append("tipo_test",t.tipo_test),t.limit&&r.append("limit",t.limit.toString()),console.log(" Llamando a ranking con URL:",`ranking_usuarios.php?${r.toString()}`);const n=await this.callAPI(`ranking_usuarios.php?${r.toString()}`);if(console.log(" Datos recibidos del ranking:",n),n&&typeof n=="object"){if(Array.isArray(n.ranking))return{ranking:n.ranking,mi_posicion:n.mi_posicion||null};if(Array.isArray(n))return{ranking:n,mi_posicion:null}}return{ranking:[],mi_posicion:null}}catch(r){return console.error(" Error al obtener ranking:",r),{ranking:[],mi_posicion:null}}}}const be=new z3;function U3(){const e=Ge(),{user:t}=Ke(),{toast:r}=Xt(),[n,s]=f.useState(!1),[a,i]=f.useState(!1),[l,c]=f.useState({proceso:"",procesoPersonalizado:"",seccionPersonalizada:"",temaPersonalizado:"",resumen:""}),[u,d]=f.useState(null),[h,p]=f.useState([]),[g,w]=f.useState([]),[v,b]=f.useState([]),[y,m]=f.useState([]),[x,j]=f.useState([]),[N,_]=f.useState(!1),[S,P]=f.useState(!1),[I,k]=f.useState(!1),[$,L]=f.useState(!1),[D,E]=f.useState(!1),[T,O]=f.useState(!1);f.useEffect(()=>{(async()=>{_(!0);try{const A=await be.getProcesos();b(A)}catch(A){console.error("Error al cargar procesos:",A)}finally{_(!1)}})()},[]),f.useEffect(()=>{(async()=>{if(!l.proceso||$){m([]);return}P(!0);try{const A=parseInt(l.proceso),z=await be.getSeccionesYTemas(A);m(z.secciones||[])}catch(A){console.error("Error al cargar secciones:",A),m([])}finally{P(!1)}})()},[l.proceso,$]),f.useEffect(()=>{(async()=>{if(!l.proceso||h.length===0||$||D){j([]);return}k(!0);try{const A=parseInt(l.proceso),z=await be.getTemasPorSeccion(A,h[0]);j(z||[])}catch(A){console.error("Error al cargar temas:",A),j([])}finally{k(!1)}})()},[l.proceso,h,$,D]);const M=F=>{var z;const A=(z=F.target.files)==null?void 0:z[0];if(A){if(!["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(A.type)){r({variant:"destructive",title:"Archivo no vlido",description:"Solo se permiten archivos PDF, TXT, DOC o DOCX"});return}if(A.size>20*1024*1024){r({variant:"destructive",title:"Archivo muy grande",description:"El archivo no debe superar los 20MB"});return}d(A)}},C=async()=>{var G;if(!l.resumen){r({variant:"destructive",title:"Contenido requerido",description:"Debes escribir contenido para generar el resumen"});return}if(!(t!=null&&t.id)){r({variant:"destructive",title:"Error",description:"Debes iniciar sesin"});return}const F=$?l.procesoPersonalizado:((G=v.find(ee=>ee.id.toString()===l.proceso))==null?void 0:G.descripcion)||"",A=D?l.seccionPersonalizada:h.join(", "),z=T?l.temaPersonalizado:g.join(", ");if(!z){r({variant:"destructive",title:"Campos requeridos",description:"Debes completar al menos el tema"});return}i(!0);try{const ee=l.proceso?parseInt(l.proceso):1,te=await(await fetch("https://yrjwyeuqfleqhbveohrf.supabase.co/functions/v1/php-api-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:"generar_resumen.php",id_usuario:t.id,id_proceso:ee,tema:z,seccion:`${F}${A?" - "+A:""}`,texto:l.resumen,nivel_detalle:"largo"})})).json();if(te.success&&te.resumen)c(K=>({...K,resumen:te.resumen})),r({title:"Resumen generado",description:"El resumen ha sido generado con IA. Puedes editarlo antes de guardar."});else throw new Error(te.error||"Error al generar resumen")}catch(ee){r({variant:"destructive",title:"Error",description:ee.message||"No se pudo generar el resumen"})}finally{i(!1)}},R=async F=>{var ee;if(F.preventDefault(),!(t!=null&&t.id)){r({variant:"destructive",title:"Error",description:"Debes iniciar sesin"});return}const A=$?l.procesoPersonalizado:((ee=v.find(me=>me.id.toString()===l.proceso))==null?void 0:ee.descripcion)||"",z=D?l.seccionPersonalizada:h.join(", "),G=T?l.temaPersonalizado:g.join(", ");if(!G||!l.resumen){r({variant:"destructive",title:"Campos requeridos",description:"Debes completar al menos el tema y el resumen"});return}s(!0);try{const me=l.proceso?parseInt(l.proceso):1,K=await(await fetch("https://yrjwyeuqfleqhbveohrf.supabase.co/functions/v1/php-api-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:"generar_resumen.php",id_usuario:t.id,id_proceso:me,tema:G,seccion:`${A}${z?" - "+z:""}`,texto:l.resumen,nivel_detalle:"corto"})})).json();if(K.success||K.id)r({title:"Resumen guardado!",description:"El resumen se ha guardado correctamente"}),e("/resumenes");else throw new Error(K.error||"Error al guardar resumen")}catch(me){r({variant:"destructive",title:"Error",description:me.message||"No se pudo guardar el resumen"})}finally{s(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs(B,{variant:"ghost",onClick:()=>e("/resumenes"),className:"mb-6",children:[o.jsx(vt,{className:"w-4 h-4 mr-2"}),"Volver a resmenes"]}),o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsxs(ae,{className:"flex items-center gap-2",children:[o.jsx(eo,{className:"w-6 h-6 text-primary"}),"Crear Nuevo Resumen"]}),o.jsx(Le,{children:"Sube un archivo o escribe directamente tu contenido. Puedes usar IA para generar el resumen automticamente."})]}),o.jsx(J,{children:o.jsxs("form",{onSubmit:R,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"proceso",children:"Proceso"}),o.jsx("div",{className:"space-y-2",children:$?o.jsxs(o.Fragment,{children:[o.jsx(je,{id:"procesoPersonalizado",placeholder:"Escribe tu propio concepto",value:l.procesoPersonalizado,onChange:F=>c(A=>({...A,procesoPersonalizado:F.target.value}))}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{L(!1),c(F=>({...F,procesoPersonalizado:""}))},className:"h-auto p-0 text-xs",children:"Volver a seleccionar de la lista"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(zr,{value:l.proceso,onValueChange:F=>{c(A=>({...A,proceso:F})),p([]),w([])},disabled:N,children:[o.jsx(xr,{children:o.jsx(Ur,{placeholder:N?"Cargando...":"Selecciona un proceso"})}),o.jsx(wr,{children:v.map(F=>o.jsx(br,{value:F.id.toString(),children:F.descripcion},F.id))})]}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{L(!0),c(F=>({...F,proceso:""})),p([]),w([])},className:"h-auto p-0 text-xs",children:"O escribir concepto personalizado"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"seccion",children:"Seccin (puedes seleccionar varias)"}),o.jsx("div",{className:"space-y-2",children:D?o.jsxs(o.Fragment,{children:[o.jsx(je,{id:"seccionPersonalizada",placeholder:"Escribe tu propia seccin",value:l.seccionPersonalizada,onChange:F=>c(A=>({...A,seccionPersonalizada:F.target.value}))}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{E(!1),c(F=>({...F,seccionPersonalizada:""}))},className:"h-auto p-0 text-xs",children:"Volver a seleccionar de la lista"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(zr,{onValueChange:F=>{h.includes(F)||p(A=>[...A,F])},disabled:S||!l.proceso&&!$,children:[o.jsx(xr,{children:o.jsx(Ur,{placeholder:S?"Cargando...":!l.proceso&&!$?"Primero selecciona un proceso":y.length===0?"No hay secciones disponibles":"Selecciona una seccin"})}),o.jsx(wr,{children:y.filter(F=>!h.includes(F)).map((F,A)=>o.jsx(br,{value:F,children:F},A))})]}),h.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 p-2 border rounded-md bg-muted/30",children:h.map((F,A)=>o.jsxs(ze,{variant:"secondary",className:"gap-1",children:[F,o.jsx(On,{className:"w-3 h-3 cursor-pointer hover:text-destructive",onClick:()=>p(z=>z.filter(G=>G!==F))})]},A))}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{E(!0),p([]),w([])},className:"h-auto p-0 text-xs",children:"O escribir concepto personalizado"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"tema",children:"Tema * (puedes seleccionar varios)"}),o.jsx("div",{className:"space-y-2",children:T?o.jsxs(o.Fragment,{children:[o.jsx(je,{id:"temaPersonalizado",placeholder:"Escribe tu propio tema",value:l.temaPersonalizado,onChange:F=>c(A=>({...A,temaPersonalizado:F.target.value})),required:!0}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{O(!1),c(F=>({...F,temaPersonalizado:""}))},className:"h-auto p-0 text-xs",children:"Volver a seleccionar de la lista"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(zr,{onValueChange:F=>{g.includes(F)||w(A=>[...A,F])},disabled:I||h.length===0&&!D,children:[o.jsx(xr,{children:o.jsx(Ur,{placeholder:I?"Cargando...":h.length===0&&!D?"Primero selecciona una seccin":x.length===0?"No hay temas disponibles":"Selecciona un tema"})}),o.jsx(wr,{children:x.filter(F=>!g.includes(F)).map((F,A)=>o.jsx(br,{value:F,children:F},A))})]}),g.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 p-2 border rounded-md bg-muted/30",children:g.map((F,A)=>o.jsxs(ze,{variant:"secondary",className:"gap-1",children:[F,o.jsx(On,{className:"w-3 h-3 cursor-pointer hover:text-destructive",onClick:()=>w(z=>z.filter(G=>G!==F))})]},A))}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{O(!0),w([])},className:"h-auto p-0 text-xs",children:"O escribir concepto personalizado"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"archivo",children:"Subir Archivo (opcional)"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(je,{id:"archivo",type:"file",accept:".pdf,.txt,.doc,.docx",onChange:M,className:"flex-1"}),u&&o.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:()=>d(null),children:"Quitar"})]}),u&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Archivo seleccionado: ",u.name," (",(u.size/1024).toFixed(1)," KB)"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Formatos permitidos: PDF, TXT, DOC, DOCX (mx. 20MB)"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ce,{htmlFor:"resumen",children:"Contenido / Resumen *"}),o.jsx(B,{type:"button",variant:"outline",size:"sm",onClick:C,disabled:a||!u&&!l.resumen,children:a?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Generando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Generar con IA"]})})]}),o.jsx(co,{id:"resumen",placeholder:"Escribe o pega aqu el contenido a resumir...",value:l.resumen,onChange:F=>c(A=>({...A,resumen:F.target.value})),className:"min-h-[300px]",required:!0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Puedes generar el resumen con IA desde un archivo o desde el texto que escribas aqu"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(B,{type:"submit",disabled:n,className:"flex-1",children:n?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(p2,{className:"w-4 h-4 mr-2"}),"Guardar Resumen"]})}),o.jsx(B,{type:"button",variant:"outline",onClick:()=>e("/resumenes"),disabled:n,children:"Cancelar"})]})]})})]})]})})}function B3(){const e=Ge(),{user:t}=Ke(),{toast:r}=Xt(),[n,s]=f.useState(!1),[a,i]=f.useState({proceso:"",procesoPersonalizado:"",seccionPersonalizada:"",temaPersonalizado:"",numPreguntas:50}),[l,c]=f.useState([]),[u,d]=f.useState([]),[h,p]=f.useState([]),[g,w]=f.useState([]),[v,b]=f.useState([]),[y,m]=f.useState(!1),[x,j]=f.useState(!1),[N,_]=f.useState(!1),[S,P]=f.useState(!1),[I,k]=f.useState(!1),[$,L]=f.useState(!1);f.useEffect(()=>{(async()=>{m(!0);try{const T=await be.getProcesos();p(T)}catch(T){console.error("Error al cargar procesos:",T)}finally{m(!1)}})()},[]),f.useEffect(()=>{(async()=>{if(!a.proceso||S){w([]);return}j(!0);try{const T=parseInt(a.proceso),O=await be.getSeccionesYTemas(T);w(O.secciones||[])}catch(T){console.error("Error al cargar secciones:",T),w([])}finally{j(!1)}})()},[a.proceso,S]),f.useEffect(()=>{(async()=>{if(!a.proceso||l.length===0||S||I){b([]);return}_(!0);try{const T=parseInt(a.proceso),O=await be.getTemasPorSeccion(T,l[0]);b(O||[])}catch(T){console.error("Error al cargar temas:",T),b([])}finally{_(!1)}})()},[a.proceso,l,S,I]);const D=async E=>{if(E.preventDefault(),!(t!=null&&t.id)){r({variant:"destructive",title:"Error",description:"Debes iniciar sesin"});return}if(!a.proceso&&!S){r({variant:"destructive",title:"Campo requerido",description:"Debes seleccionar un proceso"});return}const T=I?a.seccionPersonalizada:l[0]||"",O=$?a.temaPersonalizado:u[0]||"";if(!T){r({variant:"destructive",title:"Campo requerido",description:"Debes seleccionar o escribir una seccin"});return}if(!O){r({variant:"destructive",title:"Campo requerido",description:"Debes seleccionar o escribir un tema"});return}s(!0);try{const M=a.proceso?parseInt(a.proceso):1,R=await(await fetch("https://yrjwyeuqfleqhbveohrf.supabase.co/functions/v1/php-api-proxy?endpoint=generar_preguntas.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_proceso:M,seccion:T,tema:O,id_usuario:t.id,num_preguntas:a.numPreguntas,texto:""})})).json();if(R.ok)r({title:"Preguntas guardadas!",description:`Se han generado y guardado ${R.preguntas} preguntas en la base de datos`}),i(F=>({...F,numPreguntas:50}));else throw new Error(R.error||"No se pudieron guardar las preguntas")}catch(M){r({variant:"destructive",title:"Error",description:M.message||"No se pudo generar el test"})}finally{s(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs(B,{variant:"ghost",onClick:()=>e("/"),className:"mb-6",children:[o.jsx(vt,{className:"w-4 h-4 mr-2"}),"Volver al inicio"]}),o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsxs(ae,{className:"flex items-center gap-2",children:[o.jsx(xy,{className:"w-6 h-6 text-primary"}),"Generar Test"]}),o.jsx(Le,{children:"Selecciona el proceso, secciones y temas para generar preguntas de test"})]}),o.jsx(J,{children:o.jsxs("form",{onSubmit:D,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"proceso",children:"Proceso *"}),o.jsx("div",{className:"space-y-2",children:S?o.jsxs(o.Fragment,{children:[o.jsx(je,{id:"procesoPersonalizado",placeholder:"Escribe tu propio concepto",value:a.procesoPersonalizado,onChange:E=>i(T=>({...T,procesoPersonalizado:E.target.value}))}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{P(!1),i(E=>({...E,procesoPersonalizado:""}))},className:"h-auto p-0 text-xs",children:"Volver a seleccionar de la lista"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(zr,{value:a.proceso,onValueChange:E=>{i(T=>({...T,proceso:E})),c([]),d([])},disabled:y,children:[o.jsx(xr,{children:o.jsx(Ur,{placeholder:y?"Cargando...":"Selecciona un proceso"})}),o.jsx(wr,{children:h.map(E=>o.jsx(br,{value:E.id.toString(),children:E.descripcion},E.id))})]}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{P(!0),i(E=>({...E,proceso:""})),c([]),d([])},className:"h-auto p-0 text-xs",children:"O escribir concepto personalizado"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{children:"Secciones (opcional - puedes seleccionar varias)"}),o.jsx("div",{className:"space-y-2",children:I?o.jsxs(o.Fragment,{children:[o.jsx(je,{placeholder:"Escribe tu propia seccin",value:a.seccionPersonalizada,onChange:E=>i(T=>({...T,seccionPersonalizada:E.target.value}))}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{k(!1),i(E=>({...E,seccionPersonalizada:""}))},className:"h-auto p-0 text-xs",children:"Volver a seleccionar de la lista"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(zr,{onValueChange:E=>{l.includes(E)||c(T=>[...T,E])},disabled:x||!a.proceso&&!S,children:[o.jsx(xr,{children:o.jsx(Ur,{placeholder:x?"Cargando...":!a.proceso&&!S?"Primero selecciona un proceso":g.length===0?"No hay secciones disponibles":"Selecciona una seccin"})}),o.jsx(wr,{children:g.filter(E=>!l.includes(E)).map((E,T)=>o.jsx(br,{value:E,children:E},T))})]}),l.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 p-2 border rounded-md bg-muted/30",children:l.map((E,T)=>o.jsxs(ze,{variant:"secondary",className:"gap-1",children:[E,o.jsx(On,{className:"w-3 h-3 cursor-pointer hover:text-destructive",onClick:()=>c(O=>O.filter(M=>M!==E))})]},T))}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{k(!0),c([]),d([])},className:"h-auto p-0 text-xs",children:"O escribir concepto personalizado"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{children:"Temas (opcional - puedes seleccionar varios)"}),o.jsx("div",{className:"space-y-2",children:$?o.jsxs(o.Fragment,{children:[o.jsx(je,{placeholder:"Escribe tu propio tema",value:a.temaPersonalizado,onChange:E=>i(T=>({...T,temaPersonalizado:E.target.value}))}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{L(!1),i(E=>({...E,temaPersonalizado:""}))},className:"h-auto p-0 text-xs",children:"Volver a seleccionar de la lista"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(zr,{onValueChange:E=>{u.includes(E)||d(T=>[...T,E])},disabled:N||l.length===0&&!I,children:[o.jsx(xr,{children:o.jsx(Ur,{placeholder:N?"Cargando...":l.length===0&&!I?"Primero selecciona una seccin":v.length===0?"No hay temas disponibles":"Selecciona un tema"})}),o.jsx(wr,{children:v.filter(E=>!u.includes(E)).map((E,T)=>o.jsx(br,{value:E,children:E},T))})]}),u.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 p-2 border rounded-md bg-muted/30",children:u.map((E,T)=>o.jsxs(ze,{variant:"secondary",className:"gap-1",children:[E,o.jsx(On,{className:"w-3 h-3 cursor-pointer hover:text-destructive",onClick:()=>d(O=>O.filter(M=>M!==E))})]},T))}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{L(!0),d([])},className:"h-auto p-0 text-xs",children:"O escribir concepto personalizado"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"numPreguntas",children:"Nmero de preguntas *"}),o.jsx(je,{id:"numPreguntas",type:"number",min:"1",max:"200",value:a.numPreguntas,onChange:E=>i(T=>({...T,numPreguntas:parseInt(E.target.value)||50})),required:!0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Entre 1 y 200 preguntas"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(B,{type:"submit",disabled:n,className:"flex-1",children:n?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Generando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(xy,{className:"w-4 h-4 mr-2"}),"Generar Test"]})}),o.jsx(B,{type:"button",variant:"outline",onClick:()=>e("/"),disabled:n,children:"Cancelar"})]})]})})]})]})})}function W3(){const e=Ge(),{user:t}=Ke(),{toast:r}=Xt(),[n,s]=f.useState(!1),[a,i]=f.useState({proceso:"",procesoPersonalizado:"",seccionPersonalizada:"",temaPersonalizado:"",numPreguntas:10}),[l,c]=f.useState([]),[u,d]=f.useState([]),[h,p]=f.useState([]),[g,w]=f.useState([]),[v,b]=f.useState([]),[y,m]=f.useState(!1),[x,j]=f.useState(!1),[N,_]=f.useState(!1),[S,P]=f.useState(!1),[I,k]=f.useState(!1),[$,L]=f.useState(!1);f.useEffect(()=>{(async()=>{m(!0);try{const T=await be.getProcesos();p(T)}catch(T){console.error("Error al cargar procesos:",T)}finally{m(!1)}})()},[]),f.useEffect(()=>{(async()=>{if(!a.proceso||S){w([]);return}j(!0);try{const T=parseInt(a.proceso),O=await be.getSeccionesYTemas(T);w(O.secciones||[])}catch(T){console.error("Error al cargar secciones:",T),w([])}finally{j(!1)}})()},[a.proceso,S]),f.useEffect(()=>{(async()=>{if(!a.proceso||l.length===0||S||I){b([]);return}_(!0);try{const T=parseInt(a.proceso),O=await be.getTemasPorSeccion(T,l[0]);b(O||[])}catch(T){console.error("Error al cargar temas:",T),b([])}finally{_(!1)}})()},[a.proceso,l,S,I]);const D=async E=>{if(E.preventDefault(),!(t!=null&&t.id)){r({variant:"destructive",title:"Error",description:"Debes iniciar sesin"});return}if(!a.proceso&&!S){r({variant:"destructive",title:"Campo requerido",description:"Debes seleccionar un proceso"});return}const T=I?[a.seccionPersonalizada]:l,O=$?[a.temaPersonalizado]:u;if(T.length===0){r({variant:"destructive",title:"Campo requerido",description:"Debes seleccionar al menos una seccin"});return}if(O.length===0){r({variant:"destructive",title:"Campo requerido",description:"Debes seleccionar al menos un tema"});return}s(!0);try{const M=a.proceso?parseInt(a.proceso):1,C=T.length*O.length,R=Math.ceil(a.numPreguntas/C);let F=0,A=0;for(const z of T)for(const G of O)try{const me=await(await fetch("https://yrjwyeuqfleqhbveohrf.supabase.co/functions/v1/php-api-proxy?endpoint=generar_psicotecnicos.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_proceso:M,tema:G,seccion:z,id_usuario:t.id,num_preguntas:R})})).json();me.ok?F+=me.preguntas:(A++,console.error(`Error en ${z} - ${G}:`,me.error))}catch(ee){A++,console.error(`Error en ${z} - ${G}:`,ee)}if(F>0)r({title:"Psicotcnicos guardados!",description:`Se han generado y guardado ${F} preguntas psicotcnicas${A>0?` (${A} combinacin${A>1?"es":""} fallaron)`:""}`}),i(z=>({...z,numPreguntas:10}));else throw new Error("No se pudieron generar preguntas para ninguna combinacin")}catch(M){r({variant:"destructive",title:"Error",description:M.message||"No se pudieron generar los psicotcnicos"})}finally{s(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs(B,{variant:"ghost",onClick:()=>e("/"),className:"mb-6",children:[o.jsx(vt,{className:"w-4 h-4 mr-2"}),"Volver al inicio"]}),o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsxs(ae,{className:"flex items-center gap-2",children:[o.jsx(qi,{className:"w-6 h-6 text-primary"}),"Generar Psicotcnicos"]}),o.jsx(Le,{children:"Genera preguntas psicotcnicas (series numricas, verbales, atencin, clculo, espaciales)"})]}),o.jsx(J,{children:o.jsxs("form",{onSubmit:D,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"proceso",children:"Proceso *"}),o.jsx("div",{className:"space-y-2",children:S?o.jsxs(o.Fragment,{children:[o.jsx(je,{id:"procesoPersonalizado",placeholder:"Escribe tu propio concepto",value:a.procesoPersonalizado,onChange:E=>i(T=>({...T,procesoPersonalizado:E.target.value}))}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{P(!1),i(E=>({...E,procesoPersonalizado:""}))},className:"h-auto p-0 text-xs",children:"Volver a seleccionar de la lista"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(zr,{value:a.proceso,onValueChange:E=>{i(T=>({...T,proceso:E})),c([]),d([])},disabled:y,children:[o.jsx(xr,{children:o.jsx(Ur,{placeholder:y?"Cargando...":"Selecciona un proceso"})}),o.jsx(wr,{children:h.map(E=>o.jsx(br,{value:E.id.toString(),children:E.descripcion},E.id))})]}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{P(!0),i(E=>({...E,proceso:""})),c([]),d([])},className:"h-auto p-0 text-xs",children:"O escribir concepto personalizado"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{children:"Seccin * (puedes seleccionar varias)"}),o.jsx("div",{className:"space-y-2",children:I?o.jsxs(o.Fragment,{children:[o.jsx(je,{placeholder:"Escribe tu propia seccin",value:a.seccionPersonalizada,onChange:E=>i(T=>({...T,seccionPersonalizada:E.target.value})),required:!0}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{k(!1),i(E=>({...E,seccionPersonalizada:""}))},className:"h-auto p-0 text-xs",children:"Volver a seleccionar de la lista"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(zr,{onValueChange:E=>{l.includes(E)||c(T=>[...T,E])},disabled:x||!a.proceso&&!S,children:[o.jsx(xr,{children:o.jsx(Ur,{placeholder:x?"Cargando...":!a.proceso&&!S?"Primero selecciona un proceso":g.length===0?"No hay secciones disponibles":"Selecciona una seccin"})}),o.jsx(wr,{children:g.filter(E=>!l.includes(E)).map((E,T)=>o.jsx(br,{value:E,children:E},T))})]}),l.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 p-2 border rounded-md bg-muted/30",children:l.map((E,T)=>o.jsxs(ze,{variant:"secondary",className:"gap-1",children:[E,o.jsx(On,{className:"w-3 h-3 cursor-pointer hover:text-destructive",onClick:()=>c(O=>O.filter(M=>M!==E))})]},T))}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{k(!0),c([]),d([])},className:"h-auto p-0 text-xs",children:"O escribir concepto personalizado"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{children:"Tema * (puedes seleccionar varios)"}),o.jsx("div",{className:"space-y-2",children:$?o.jsxs(o.Fragment,{children:[o.jsx(je,{placeholder:"Escribe tu propio tema",value:a.temaPersonalizado,onChange:E=>i(T=>({...T,temaPersonalizado:E.target.value})),required:!0}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{L(!1),i(E=>({...E,temaPersonalizado:""}))},className:"h-auto p-0 text-xs",children:"Volver a seleccionar de la lista"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(zr,{onValueChange:E=>{u.includes(E)||d(T=>[...T,E])},disabled:N||l.length===0&&!I,children:[o.jsx(xr,{children:o.jsx(Ur,{placeholder:N?"Cargando...":l.length===0&&!I?"Primero selecciona una seccin":v.length===0?"No hay temas disponibles":"Selecciona un tema"})}),o.jsx(wr,{children:v.filter(E=>!u.includes(E)).map((E,T)=>o.jsx(br,{value:E,children:E},T))})]}),u.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 p-2 border rounded-md bg-muted/30",children:u.map((E,T)=>o.jsxs(ze,{variant:"secondary",className:"gap-1",children:[E,o.jsx(On,{className:"w-3 h-3 cursor-pointer hover:text-destructive",onClick:()=>d(O=>O.filter(M=>M!==E))})]},T))}),o.jsx(B,{type:"button",variant:"link",size:"sm",onClick:()=>{L(!0),d([])},className:"h-auto p-0 text-xs",children:"O escribir concepto personalizado"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"numPreguntas",children:"Nmero de preguntas *"}),o.jsx(je,{id:"numPreguntas",type:"number",min:"1",max:"100",value:a.numPreguntas,onChange:E=>i(T=>({...T,numPreguntas:parseInt(E.target.value)||10})),required:!0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Entre 1 y 100 preguntas"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(B,{type:"submit",disabled:n,className:"flex-1",children:n?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Generando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(qi,{className:"w-4 h-4 mr-2"}),"Generar Psicotcnicos"]})}),o.jsx(B,{type:"button",variant:"outline",onClick:()=>e("/"),disabled:n,children:"Cancelar"})]})]})})]})]})})}const Ex="https://yrjwyeuqfleqhbveohrf.supabase.co",Px="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlyand5ZXVxZmxlcWhidmVvaHJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NjM1OTUsImV4cCI6MjA3NTUzOTU5NX0.QeAWfPjecNzz_d1MY1UHYmVN9bYl23rzot9gDsUtXKY";class V3{getAuthHeader(){const t=localStorage.getItem("auth_token");return t?{Authorization:`Bearer ${t}`}:{}}async callAPI(t,r={}){const n=`${Ex}/functions/v1/php-api-proxy`,s=r.body?JSON.parse(r.body):{},a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Px}`,...this.getAuthHeader(),...r.headers},body:JSON.stringify({endpoint:t,method:r.method||"POST",...s})});if(!a.ok)throw new Error(`Error en la peticin: ${a.status}`);return a.json()}async listarPlanes(t){try{const r=await this.callAPI(`planes_estudio.php?action=listar&id_usuario=${t}`,{method:"GET"});return r.success&&Array.isArray(r.planes)?r.planes:[]}catch(r){throw console.error("Error al listar planes:",r),r}}async crearPlan(t){try{return await this.callAPI("planes_estudio.php",{body:JSON.stringify({action:"crear",...t})})}catch(r){return console.error("Error al crear plan:",r),{success:!1,error:"Error de conexin"}}}async obtenerDetallePlan(t){try{const r=await this.callAPI(`planes_estudio.php?action=detalle&id_plan=${t}`,{method:"GET"});return r.success?{plan:r.plan,etapas:r.etapas||[]}:null}catch(r){return console.error("Error al obtener detalle del plan:",r),null}}async actualizarPlan(t){try{return await this.callAPI("planes_estudio.php",{body:JSON.stringify({action:"actualizar",...t})})}catch(r){return console.error("Error al actualizar plan:",r),{success:!1}}}async eliminarPlan(t){try{return await this.callAPI(`planes_estudio.php?action=eliminar&id_plan=${t}`,{method:"POST"})}catch(r){return console.error("Error al eliminar plan:",r),{success:!1}}}async obtenerPlanIA(t,r){try{const n=new URLSearchParams;n.append("id_plan",t.toString()),r&&n.append("id_usuario",r.toString());const s=`${Ex}/functions/v1/php-api-proxy`,a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Px}`,...this.getAuthHeader()},body:JSON.stringify({endpoint:`plan_ia_personal.php?${n.toString()}`,method:"GET"})});if(!a.ok)throw new Error(`Error en la peticin: ${a.status}`);return a.json()}catch(n){return console.error("Error al obtener plan IA:",n),null}}async marcarTarea(t,r){try{return await this.callAPI("planes_estudio.php?action=marcar_tarea",{body:JSON.stringify({id_tarea:t,completada:r?1:0})})}catch(n){return console.error("Error al marcar tarea:",n),{success:!1}}}}const Ni=new V3;function H3(e,t=[]){let r=[];function n(a,i){const l=f.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:p,children:g,...w}=h,v=(p==null?void 0:p[e][c])||l,b=f.useMemo(()=>w,Object.values(w));return o.jsx(v.Provider,{value:b,children:g})}function d(h,p){const g=(p==null?void 0:p[e][c])||l,w=f.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>f.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,q3(s,...t)]}function q3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Sg="Progress",Ng=100,[G3,sB]=H3(Sg),[K3,Y3]=G3(Sg),KN=f.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=Q3,...i}=e;(s||s===0)&&!kx(s)&&console.error(J3(`${s}`,"Progress"));const l=kx(s)?s:Ng;n!==null&&!Tx(n,l)&&console.error(X3(`${n}`,"Progress"));const c=Tx(n,l)?n:null,u=Eu(c)?a(c,l):void 0;return o.jsx(K3,{scope:r,value:c,max:l,children:o.jsx(Q.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Eu(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":JN(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});KN.displayName=Sg;var YN="ProgressIndicator",QN=f.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Y3(YN,r);return o.jsx(Q.div,{"data-state":JN(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});QN.displayName=YN;function Q3(e,t){return`${Math.round(e/t*100)}%`}function JN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Eu(e){return typeof e=="number"}function kx(e){return Eu(e)&&!isNaN(e)&&e>0}function Tx(e,t){return Eu(e)&&!isNaN(e)&&e<=t&&e>=0}function J3(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ng}\`.`}function X3(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ng} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var XN=KN,Z3=QN;const Br=f.forwardRef(({className:e,value:t,...r},n)=>o.jsx(XN,{ref:n,className:W("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(Z3,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Br.displayName=XN.displayName;function e6(){const{user:e}=Ke(),t=Ge(),[r,n]=f.useState([]),[s,a]=f.useState(!0);f.useEffect(()=>{i()},[e]);const i=async()=>{if(e!=null&&e.id){a(!0);try{const c=await Ni.listarPlanes(e.id);n(c)}catch{pe.error("Error al cargar planes")}finally{a(!1)}}},l=c=>{const u={activo:"default",completado:"secondary",pausado:"outline"};return o.jsx(ze,{variant:u[c]||"outline",children:c})};return s?o.jsx("div",{className:"container mx-auto p-6",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx("p",{className:"text-muted-foreground",children:"Cargando planes..."})})}):o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Planes de Estudio"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona y realiza seguimiento de tus planes de preparacin"})]}),o.jsxs(B,{onClick:()=>t("/crear-plan-estudio"),children:[o.jsx(Wh,{className:"mr-2 h-4 w-4"}),"Nuevo Plan"]})]}),r.length===0?o.jsx(Y,{children:o.jsxs(J,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(_t,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No tienes planes de estudio"}),o.jsx("p",{className:"text-muted-foreground mb-4 text-center",children:"Crea tu primer plan de estudio personalizado"}),o.jsxs(B,{onClick:()=>t("/crear-plan-estudio"),children:[o.jsx(Wh,{className:"mr-2 h-4 w-4"}),"Crear Plan"]})]})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(c=>o.jsxs(Y,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>t(`/plan-estudio/${c.id}`),children:[o.jsxs(oe,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx(ae,{className:"text-lg",children:c.titulo}),l(c.estado)]}),o.jsx(Le,{className:"line-clamp-2",children:c.descripcion||"Sin descripcin"})]}),o.jsx(J,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Fr,{className:"h-4 w-4"}),o.jsxs("span",{children:[new Date(c.fecha_inicio).toLocaleDateString()," -"," ",new Date(c.fecha_fin).toLocaleDateString()]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Progreso"}),o.jsxs("span",{className:"font-medium",children:[parseFloat(c.progreso).toFixed(0),"%"]})]}),o.jsx(Br,{value:parseFloat(c.progreso)})]}),c.tieneIA&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Sa,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"text-muted-foreground",children:["Plan IA: ",c.total_sesiones," sesiones completadas"]})]}),c.resumen_ia&&o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:c.resumen_ia})]})})]},c.id))})]})}function t6(){const{user:e}=Ke(),t=Ge(),[r,n]=f.useState(!1),[s,a]=f.useState(!1),[i,l]=f.useState(!1),[c,u]=f.useState([]),[d,h]=f.useState(null),[p,g]=f.useState([]),[w,v]=f.useState([]),[b,y]=f.useState([]),[m,x]=f.useState([]),[j,N]=f.useState({titulo:"",descripcion:"",fecha_inicio:new Date().toISOString().split("T")[0],fecha_fin:""});f.useEffect(()=>{_()},[]),f.useEffect(()=>{d?S():(g([]),y([]),v([]),x([]))},[d]),f.useEffect(()=>{d&&w.length>0?P():(y([]),x([]))},[w]);const _=async()=>{try{const T=await be.getProcesos();u(T)}catch{pe.error("Error al cargar procesos")}},S=async()=>{if(d)try{n(!0);const T=await be.getSeccionesYTemas(d);T.success?g(T.secciones||[]):pe.error("Error al cargar secciones")}catch{pe.error("Error al cargar secciones")}finally{n(!1)}},P=async()=>{if(!(!d||w.length===0))try{n(!0);const T=await Promise.all(w.map(M=>be.getTemasPorSeccion(d,M))),O=Array.from(new Set(T.flat())).sort();y(O),x([])}catch{pe.error("Error al cargar temas")}finally{n(!1)}},I=T=>{v(O=>O.includes(T)?O.filter(M=>M!==T):[...O,T])},k=T=>{x(O=>O.includes(T)?O.filter(M=>M!==T):[...O,T])},$=(T,O)=>{N(M=>({...M,[T]:O}))},L=async()=>{if(!j.titulo||j.titulo.trim().length<5){pe.error("Escribe un ttulo ms descriptivo");return}l(!0);try{const T=c.find(R=>R.id===d),O=m.length>0?m.slice(0,5).join(", ")+(m.length>5?"...":""):"temas generales",{data:M,error:C}=await ns.functions.invoke("generar-descripcion-plan",{body:{titulo:j.titulo,proceso:(T==null?void 0:T.descripcion)||"",temas:O,fecha_inicio:j.fecha_inicio,fecha_fin:j.fecha_fin}});if(C)throw C;M!=null&&M.descripcion?(N(R=>({...R,descripcion:M.descripcion})),pe.success("Descripcin generada con IA")):pe.error("No se pudo generar la descripcin")}catch(T){console.error("Error generando descripcin:",T),pe.error("Error al generar descripcin")}finally{l(!1)}},D=async T=>{a(!0);try{const O=c.find(R=>R.id===d),{data:M,error:C}=await ns.functions.invoke("generar-plan-estudio",{body:{id_plan:T,titulo:j.titulo,descripcion:j.descripcion,fecha_inicio:j.fecha_inicio,fecha_fin:j.fecha_fin,proceso:(O==null?void 0:O.descripcion)||"",secciones:w,temas:m}});if(C)throw C;M!=null&&M.success?pe.success("Plan generado con IA exitosamente"):pe.warning("Plan creado pero sin generacin IA")}catch(O){console.error("Error generando plan IA:",O),pe.error("Error al generar plan con IA")}finally{a(!1)}},E=async T=>{if(T.preventDefault(),!(e!=null&&e.id)){pe.error("Usuario no autenticado");return}if(!j.titulo||!d||!j.fecha_fin){pe.error("Completa todos los campos requeridos");return}if(m.length===0){pe.error("Selecciona al menos un tema para el plan");return}n(!0);try{const O=await Ni.crearPlan({id_usuario:e.id,id_proceso:d,titulo:j.titulo,descripcion:j.descripcion,fecha_inicio:j.fecha_inicio,fecha_fin:j.fecha_fin});O.success&&O.id_plan?(pe.success("Plan creado exitosamente"),await D(O.id_plan),t(`/plan-estudio/${O.id_plan}`)):pe.error(O.error||"Error al crear el plan")}catch{pe.error("Error al crear el plan")}finally{n(!1)}};return o.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[o.jsxs(B,{variant:"ghost",onClick:()=>t("/planes-estudio"),className:"mb-4",children:[o.jsx(vt,{className:"mr-2 h-4 w-4"}),"Volver"]}),o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsxs(ae,{className:"flex items-center gap-2",children:[o.jsx(Gi,{className:"h-5 w-5 text-primary"}),"Crear Plan de Estudio"]}),o.jsx(Le,{children:"Selecciona los temas que quieres estudiar y genera un plan personalizado con IA"})]}),o.jsx(J,{children:o.jsxs("form",{onSubmit:E,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"titulo",children:"Ttulo del Plan *"}),o.jsx(je,{id:"titulo",value:j.titulo,onChange:T=>$("titulo",T.target.value),placeholder:"Ej: Plan intensivo Polica Local 2025"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(ce,{htmlFor:"descripcion",children:"Descripcin"}),o.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:L,disabled:i||!j.titulo,children:[o.jsx(Gi,{className:"mr-2 h-3 w-3"}),i?"Generando...":"Generar con IA"]})]}),o.jsx(co,{id:"descripcion",value:j.descripcion,onChange:T=>$("descripcion",T.target.value),placeholder:"Describe tus objetivos y caractersticas del plan, o genera una descripcin automtica con IA",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"fecha_inicio",children:"Fecha Inicio *"}),o.jsx(je,{id:"fecha_inicio",type:"date",value:j.fecha_inicio,onChange:T=>$("fecha_inicio",T.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"fecha_fin",children:"Fecha Fin *"}),o.jsx(je,{id:"fecha_fin",type:"date",value:j.fecha_fin,onChange:T=>$("fecha_fin",T.target.value),min:j.fecha_inicio})]})]})]}),o.jsx(Nt,{}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Seleccin de Contenidos"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Elige el proceso y los temas que quieres incluir en tu plan"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"proceso",children:"Proceso / Oposicin *"}),o.jsxs(zr,{value:d==null?void 0:d.toString(),onValueChange:T=>h(parseInt(T)),disabled:r,children:[o.jsx(xr,{children:o.jsx(Ur,{placeholder:"Selecciona un proceso"})}),o.jsx(wr,{children:c.map(T=>o.jsx(br,{value:T.id.toString(),children:T.descripcion},T.id))})]})]}),d&&o.jsxs(o.Fragment,{children:[o.jsx(Nt,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{children:"Secciones"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Selecciona las secciones que quieres estudiar"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(T=>o.jsx(ze,{variant:w.includes(T)?"default":"outline",className:"cursor-pointer hover:opacity-80 px-3 py-2",onClick:()=>I(T),children:T},T))})]})]}),w.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(Nt,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{children:"Temas *"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Selecciona los temas especficos que quieres incluir en el plan"}),b.length===0?o.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Cargando temas..."}):o.jsx("div",{className:"flex flex-wrap gap-2 max-h-64 overflow-y-auto p-2 border rounded-md",children:b.map(T=>o.jsx(ze,{variant:m.includes(T)?"default":"outline",className:"cursor-pointer hover:opacity-80 px-3 py-2",onClick:()=>k(T),children:T},T))}),m.length>0&&o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[m.length," tema(s) seleccionado(s)"]})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(B,{type:"button",variant:"outline",onClick:()=>t("/planes-estudio"),disabled:r||s,children:"Cancelar"}),o.jsx(B,{type:"submit",disabled:r||s||m.length===0,className:"flex-1",children:r?"Creando...":s?"Generando con IA...":"Crear Plan"})]})]})})]})]})}var Cg="Collapsible",[r6,ZN]=Et(Cg),[n6,Eg]=r6(Cg),eC=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c=!1,u]=Jt({prop:n,defaultProp:s,onChange:i});return o.jsx(n6,{scope:r,disabled:a,contentId:Gt(),open:c,onOpenToggle:f.useCallback(()=>u(d=>!d),[u]),children:o.jsx(Q.div,{"data-state":kg(c),"data-disabled":a?"":void 0,...l,ref:t})})});eC.displayName=Cg;var tC="CollapsibleTrigger",rC=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Eg(tC,r);return o.jsx(Q.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":kg(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:H(e.onClick,s.onOpenToggle)})});rC.displayName=tC;var Pg="CollapsibleContent",nC=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Eg(Pg,e.__scopeCollapsible);return o.jsx(st,{present:r||s.open,children:({present:a})=>o.jsx(s6,{...n,ref:t,present:a})})});nC.displayName=Pg;var s6=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=Eg(Pg,r),[l,c]=f.useState(n),u=f.useRef(null),d=ie(t,u),h=f.useRef(0),p=h.current,g=f.useRef(0),w=g.current,v=i.open||l,b=f.useRef(v),y=f.useRef();return f.useEffect(()=>{const m=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(m)},[]),nt(()=>{const m=u.current;if(m){y.current=y.current||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const x=m.getBoundingClientRect();h.current=x.height,g.current=x.width,b.current||(m.style.transitionDuration=y.current.transitionDuration,m.style.animationName=y.current.animationName),c(n)}},[i.open,n]),o.jsx(Q.div,{"data-state":kg(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!v,...a,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:v&&s})});function kg(e){return e?"open":"closed"}var o6=eC,a6=rC,i6=nC,Un="Accordion",l6=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Tg,c6,u6]=ml(Un),[Rd,oB]=Et(Un,[u6,ZN]),Rg=ZN(),sC=V.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return o.jsx(Tg.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?o.jsx(p6,{...a,ref:t}):o.jsx(h6,{...s,ref:t})})});sC.displayName=Un;var[oC,d6]=Rd(Un),[aC,f6]=Rd(Un,{collapsible:!1}),h6=V.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...i}=e,[l,c]=Jt({prop:r,defaultProp:n,onChange:s});return o.jsx(oC,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:V.useCallback(()=>a&&c(""),[a,c]),children:o.jsx(aC,{scope:e.__scopeAccordion,collapsible:a,children:o.jsx(iC,{...i,ref:t})})})}),p6=V.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[i=[],l]=Jt({prop:r,defaultProp:n,onChange:s}),c=V.useCallback(d=>l((h=[])=>[...h,d]),[l]),u=V.useCallback(d=>l((h=[])=>h.filter(p=>p!==d)),[l]);return o.jsx(oC,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:o.jsx(aC,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(iC,{...a,ref:t})})})}),[m6,Ad]=Rd(Un),iC=V.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...i}=e,l=V.useRef(null),c=ie(l,t),u=c6(r),h=xo(s)==="ltr",p=H(e.onKeyDown,g=>{var P;if(!l6.includes(g.key))return;const w=g.target,v=u().filter(I=>{var k;return!((k=I.ref.current)!=null&&k.disabled)}),b=v.findIndex(I=>I.ref.current===w),y=v.length;if(b===-1)return;g.preventDefault();let m=b;const x=0,j=y-1,N=()=>{m=b+1,m>j&&(m=x)},_=()=>{m=b-1,m<x&&(m=j)};switch(g.key){case"Home":m=x;break;case"End":m=j;break;case"ArrowRight":a==="horizontal"&&(h?N():_());break;case"ArrowDown":a==="vertical"&&N();break;case"ArrowLeft":a==="horizontal"&&(h?_():N());break;case"ArrowUp":a==="vertical"&&_();break}const S=m%y;(P=v[S].ref.current)==null||P.focus()});return o.jsx(m6,{scope:r,disabled:n,direction:s,orientation:a,children:o.jsx(Tg.Slot,{scope:r,children:o.jsx(Q.div,{...i,"data-orientation":a,ref:c,onKeyDown:n?void 0:p})})})}),Pu="AccordionItem",[g6,Ag]=Rd(Pu),lC=V.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=Ad(Pu,r),i=d6(Pu,r),l=Rg(r),c=Gt(),u=n&&i.value.includes(n)||!1,d=a.disabled||e.disabled;return o.jsx(g6,{scope:r,open:u,disabled:d,triggerId:c,children:o.jsx(o6,{"data-orientation":a.orientation,"data-state":pC(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:h=>{h?i.onItemOpen(n):i.onItemClose(n)}})})});lC.displayName=Pu;var cC="AccordionHeader",uC=V.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Ad(Un,r),a=Ag(cC,r);return o.jsx(Q.h3,{"data-orientation":s.orientation,"data-state":pC(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});uC.displayName=cC;var Np="AccordionTrigger",dC=V.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Ad(Un,r),a=Ag(Np,r),i=f6(Np,r),l=Rg(r);return o.jsx(Tg.ItemSlot,{scope:r,children:o.jsx(a6,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});dC.displayName=Np;var fC="AccordionContent",hC=V.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Ad(Un,r),a=Ag(fC,r),i=Rg(r);return o.jsx(i6,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});hC.displayName=fC;function pC(e){return e?"open":"closed"}var v6=sC,y6=lC,x6=uC,mC=dC,gC=hC;const Dc=v6,Ci=f.forwardRef(({className:e,...t},r)=>o.jsx(y6,{ref:r,className:W("border-b",e),...t}));Ci.displayName="AccordionItem";const Ei=f.forwardRef(({className:e,children:t,...r},n)=>o.jsx(x6,{className:"flex",children:o.jsxs(mC,{ref:n,className:W("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,o.jsx(Am,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ei.displayName=mC.displayName;const Pi=f.forwardRef(({className:e,children:t,...r},n)=>o.jsx(gC,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:o.jsx("div",{className:W("pb-4 pt-0",e),children:t})}));Pi.displayName=gC.displayName;function w6(){const{id:e}=Qm(),{user:t}=Ke(),r=Ge(),[n,s]=f.useState(null),[a,i]=f.useState(null),[l,c]=f.useState(null),[u,d]=f.useState(!0);f.useEffect(()=>{e&&(h(),p())},[e]);const h=async()=>{if(e){d(!0);try{const j=await Ni.obtenerDetallePlan(parseInt(e));s(j)}catch{pe.error("Error al cargar el plan")}finally{d(!1)}}},p=async()=>{if(!(!e||!(t!=null&&t.id)))try{const j=await Ni.obtenerPlanIA(parseInt(e),t.id);j!=null&&j.success&&j.plan_ia&&(i(j.plan_ia.plan||j.plan_ia),c(j.resumen_ia||null))}catch(j){console.error("Error al cargar plan IA:",j)}},g=async(j,N)=>{try{(await Ni.marcarTarea(j,N)).success?(pe.success(N?"Tarea completada":"Tarea marcada como pendiente"),h()):pe.error("Error al actualizar tarea")}catch{pe.error("Error al actualizar tarea")}},w=j=>{if(!(n!=null&&n.plan.id_proceso))return;const N=new URLSearchParams({proceso:n.plan.id_proceso.toString(),temas:j.join(","),modo:"simulacion"});r(`/test?${N.toString()}`)},v=(j,N)=>{const _=`${j} ${N}`.toLowerCase();return _.includes("psicotcnico")||_.includes("psicotecnico")?_.includes("examen")||_.includes("simulacro")?"/simulacro-psicotecnico":"/test-psicotecnico":_.includes("examen")||_.includes("simulacro")?"/simulacro":"/test"},b=(j,N)=>{let _="";const S=j.titulo.match(/tema:\s*(.+?)(?:\s*$)/i);S&&S[1]&&(_=S[1].trim());let P="";if(N!=null&&N.descripcion){const I=N.descripcion.toLowerCase();if(I.includes("seccin:")||I.includes("seccion:")){const k=N.descripcion.match(/secci[o]n:\s*([^,\n]+)/i);k&&k[1]&&(P=k[1].trim())}}return{tema:_,seccion:P}},y=(j,N)=>{if(!(n!=null&&n.plan.id_proceso))return;const _=v(j.titulo,j.descripcion||""),{tema:S,seccion:P}=b(j,N),I=new URLSearchParams({proceso:n.plan.id_proceso.toString(),modo:_.includes("simulacro")?"examen":"simulacion"});S&&I.append("temas",S),P&&I.append("secciones",P),r(`${_}?${I.toString()}`)};if(u)return o.jsx("div",{className:"container mx-auto p-6",children:o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx("p",{className:"text-muted-foreground",children:"Cargando plan..."})})});if(!n)return o.jsx("div",{className:"container mx-auto p-6",children:o.jsx(Y,{children:o.jsxs(J,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx("p",{className:"text-muted-foreground",children:"Plan no encontrado"}),o.jsx(B,{onClick:()=>r("/planes-estudio"),className:"mt-4",children:"Volver a Planes"})]})})});const{plan:m,etapas:x}=n||{plan:null,etapas:[]};return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsxs(B,{variant:"ghost",onClick:()=>r("/planes-estudio"),className:"mb-4",children:[o.jsx(vt,{className:"mr-2 h-4 w-4"}),"Volver"]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Y,{children:[o.jsx(oe,{children:o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(ae,{className:"text-3xl mb-2",children:m.titulo}),o.jsx(Le,{className:"text-base mt-2",children:m.descripcion||"Sin descripcin"})]}),o.jsx(ze,{className:"text-sm px-4 py-1.5 shrink-0",children:m.estado})]})}),o.jsxs(J,{children:[o.jsxs("div",{className:"grid gap-6 md:grid-cols-3 mb-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Fr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-muted-foreground mb-1",children:"Fecha Inicio"}),o.jsx("p",{className:"text-lg font-medium",children:new Date(m.fecha_inicio).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Fr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-muted-foreground mb-1",children:"Fecha Fin"}),o.jsx("p",{className:"text-lg font-medium",children:new Date(m.fecha_fin).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Rc,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-muted-foreground mb-1",children:"Progreso Total"}),o.jsxs("p",{className:"text-lg font-medium",children:[parseFloat(m.progreso||"0").toFixed(0),"%"]})]})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(Br,{value:parseFloat(m.progreso||"0"),className:"h-2"})}),l&&o.jsx("div",{className:"mt-6 p-4 bg-primary/5 border border-primary/10 rounded-lg",children:o.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-line",children:l})})]})]}),a&&a.length>0?o.jsxs(Va,{defaultValue:"plan-ia",className:"w-full",children:[o.jsxs(jo,{className:"grid w-full grid-cols-2",children:[o.jsxs(Kt,{value:"plan-ia",children:[o.jsx(qi,{className:"mr-2 h-4 w-4"}),"Plan IA por Semanas"]}),o.jsxs(Kt,{value:"etapas",children:[o.jsx(_t,{className:"mr-2 h-4 w-4"}),"Etapas Manuales"]})]}),o.jsx(lo,{value:"plan-ia",children:o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsx(ae,{children:"Plan Semanal Generado por IA"}),o.jsx(Le,{children:"Sigue el plan da a da y realiza tests de cada semana"})]}),o.jsx(J,{children:o.jsx(Dc,{type:"single",collapsible:!0,className:"w-full",children:a&&Array.isArray(a)&&a.map((j,N)=>o.jsxs(Ci,{value:`semana-${j.semana}`,children:[o.jsx(Ei,{children:o.jsx("div",{className:"flex items-center justify-between w-full pr-4",children:o.jsxs("div",{className:"text-left flex-1",children:[o.jsxs("p",{className:"font-semibold text-base",children:["Semana ",j.semana]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:[new Date(j.fecha_inicio).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})," - ",new Date(j.fecha_fin).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})]})]})})}),o.jsx(Pi,{children:o.jsxs("div",{className:"space-y-6 pt-2",children:[j.temas_semana&&Array.isArray(j.temas_semana)&&j.temas_semana.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Temas de esta semana:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:[j.temas_semana.slice(0,12).map((_,S)=>o.jsx(ze,{variant:"secondary",className:"justify-start text-xs py-1.5 px-3 font-normal",children:_.length>50?_.substring(0,50)+"...":_},S)),j.temas_semana.length>12&&o.jsxs(ze,{variant:"outline",className:"text-xs",children:["+",j.temas_semana.length-12," ms"]})]}),o.jsxs(B,{onClick:()=>w(j.temas_semana),size:"sm",className:"mt-4",children:[o.jsx(pf,{className:"mr-2 h-4 w-4"}),"Iniciar Test de esta Semana"]})]}),j.objetivos&&Array.isArray(j.objetivos)&&j.objetivos.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Objetivos:"}),o.jsx("ul",{className:"space-y-2",children:j.objetivos.map((_,S)=>o.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[o.jsx("span",{className:"text-primary mt-1",children:""}),o.jsx("span",{className:"text-muted-foreground flex-1",children:_})]},S))})]}),j.actividades&&Array.isArray(j.actividades)&&j.actividades.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Actividades diarias:"}),o.jsx("div",{className:"space-y-3",children:j.actividades.map((_,S)=>o.jsxs("div",{className:"p-4 bg-muted/50 border border-border rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("p",{className:"font-medium text-sm",children:["Da ",_.dia," - ",new Date(_.fecha).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})]}),o.jsxs(ze,{variant:"outline",className:"text-xs",children:[_.duracion_horas,"h"]})]}),o.jsxs("p",{className:"text-sm mb-1",children:[o.jsx("span",{className:"font-medium",children:"Tema:"})," ",_.tema]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:_.actividad})]},S))})]}),j.notas&&o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Notas:"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:j.notas})]})]})})]},N))})})]})}),o.jsx(lo,{value:"etapas",children:x.length===0?o.jsx(Y,{children:o.jsxs(J,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(_t,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Este plan no tiene etapas manuales configuradas"})]})}):o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsx(ae,{children:"Etapas del Plan"}),o.jsx(Le,{children:"Tareas manuales generadas automticamente"})]}),o.jsx(J,{children:o.jsx(Dc,{type:"single",collapsible:!0,className:"w-full",children:x&&Array.isArray(x)&&x.map(j=>{const N=j.tareas&&j.tareas.length>0?j.tareas.filter(S=>S.completada===1).length/j.tareas.length*100:0,_=j.tareas?j.tareas.filter(S=>S.completada===1).length:0;return o.jsxs(Ci,{value:`etapa-${j.id}`,children:[o.jsx(Ei,{children:o.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-medium",children:j.titulo}),o.jsx("p",{className:"text-sm text-muted-foreground",children:j.descripcion})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:[_,"/",j.tareas?j.tareas.length:0]}),o.jsx(Br,{value:N,className:"w-20"})]})]})}),o.jsx(Pi,{children:o.jsx("div",{className:"space-y-3 pt-2",children:j.tareas&&Array.isArray(j.tareas)&&j.tareas.map(S=>o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>y(S,j),children:[o.jsx(al,{checked:S.completada===1,onCheckedChange:P=>{P&&g(S.id,P)},onClick:P=>P.stopPropagation(),className:"mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:`font-medium ${S.completada===1?"line-through text-muted-foreground":""}`,children:S.titulo}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S.descripcion}),(S.titulo.toLowerCase().includes("test")||S.titulo.toLowerCase().includes("examen")||S.titulo.toLowerCase().includes("psicotcnico"))&&o.jsxs(ze,{variant:"outline",className:"mt-2",children:[o.jsx(pf,{className:"mr-1 h-3 w-3"}),"Click para realizar"]})]})]},S.id))})})]},j.id)})})})]})})]}):x.length===0?o.jsx(Y,{children:o.jsxs(J,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(_t,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Este plan an no tiene contenido generado"})]})}):o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsx(ae,{children:"Etapas del Plan"}),o.jsx(Le,{children:"Sigue tu progreso semana a semana"})]}),o.jsx(J,{children:o.jsx(Dc,{type:"single",collapsible:!0,className:"w-full",children:x&&Array.isArray(x)&&x.map(j=>{const N=j.tareas&&j.tareas.length>0?j.tareas.filter(S=>S.completada===1).length/j.tareas.length*100:0,_=j.tareas?j.tareas.filter(S=>S.completada===1).length:0;return o.jsxs(Ci,{value:`etapa-${j.id}`,children:[o.jsx(Ei,{children:o.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[o.jsxs("div",{className:"text-left flex-1",children:[o.jsx("p",{className:"font-semibold text-base",children:j.titulo}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:[_,"/",j.tareas?j.tareas.length:0," tareas completadas"]})]}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[o.jsxs("span",{className:"text-sm font-medium",children:[N.toFixed(0),"%"]}),o.jsx(Br,{value:N,className:"w-24 h-2"})]})]})}),o.jsx(Pi,{children:o.jsxs("div",{className:"space-y-6 pt-2",children:[j.descripcion&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Temas:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:[j.descripcion.split(",").slice(0,12).map((S,P)=>{const I=S.trim();return o.jsx(ze,{variant:"secondary",className:"justify-start text-xs py-1.5 px-3 font-normal",children:I.length>50?I.substring(0,50)+"...":I},P)}),j.descripcion.split(",").length>12&&o.jsxs(ze,{variant:"outline",className:"text-xs",children:["+",j.descripcion.split(",").length-12," ms"]})]})]}),j.tareas&&Array.isArray(j.tareas)&&j.tareas.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Tareas:"}),o.jsx("div",{className:"space-y-3",children:j.tareas.map(S=>o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border hover:bg-accent/50 transition-colors cursor-pointer",onClick:()=>y(S,j),children:[o.jsx(al,{checked:S.completada===1,onCheckedChange:P=>{P&&g(S.id,P)},onClick:P=>P.stopPropagation(),className:"mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:`font-medium ${S.completada===1?"line-through text-muted-foreground":""}`,children:S.titulo}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S.descripcion}),(S.titulo.toLowerCase().includes("test")||S.titulo.toLowerCase().includes("examen")||S.titulo.toLowerCase().includes("psicotcnico"))&&o.jsxs(ze,{variant:"outline",className:"mt-2",children:[o.jsx(pf,{className:"mr-1 h-3 w-3"}),"Click para realizar"]})]})]},S.id))})]})]})})]},j.id)})})})]})]})]})}function Se(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function cr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Rt(e,t){const r=Se(e);return isNaN(t)?cr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function qr(e,t){const r=Se(e);if(isNaN(t))return cr(e,NaN);if(!t)return r;const n=r.getDate(),s=cr(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const Og=6048e5,b6=864e5;let j6={};function Al(){return j6}function gn(e,t){var l,c,u,d;const r=Al(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Se(e),a=s.getDay(),i=(a<n?7:0)+a-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function fo(e){return gn(e,{weekStartsOn:1})}function vC(e){const t=Se(e),r=t.getFullYear(),n=cr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=fo(n),a=cr(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const i=fo(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function ka(e){const t=Se(e);return t.setHours(0,0,0,0),t}function ku(e){const t=Se(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function fn(e,t){const r=ka(e),n=ka(t),s=+r-ku(r),a=+n-ku(n);return Math.round((s-a)/b6)}function _6(e){const t=vC(e),r=cr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),fo(r)}function Cp(e,t){const r=t*7;return Rt(e,r)}function S6(e,t){return qr(e,t*12)}function N6(e){let t;return e.forEach(function(r){const n=Se(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function C6(e){let t;return e.forEach(r=>{const n=Se(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Wt(e,t){const r=ka(e),n=ka(t);return+r==+n}function Ig(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function E6(e){if(!Ig(e)&&typeof e!="number")return!1;const t=Se(e);return!isNaN(Number(t))}function il(e,t){const r=Se(e),n=Se(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function P6(e,t,r){const n=gn(e,r),s=gn(t,r),a=+n-ku(n),i=+s-ku(s);return Math.round((a-i)/Og)}function Mg(e){const t=Se(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Yt(e){const t=Se(e);return t.setDate(1),t.setHours(0,0,0,0),t}function yC(e){const t=Se(e),r=cr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Dg(e,t){var l,c,u,d;const r=Al(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Se(e),a=s.getDay(),i=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function xC(e){return Dg(e,{weekStartsOn:1})}const k6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T6=(e,t,r)=>{let n;const s=k6[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function aa(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const R6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},A6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},O6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I6={date:aa({formats:R6,defaultWidth:"full"}),time:aa({formats:A6,defaultWidth:"full"}),dateTime:aa({formats:O6,defaultWidth:"full"})},M6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},D6=(e,t,r,n)=>M6[e];function un(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const $6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},L6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},F6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},z6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},U6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},B6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},W6=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},V6={ordinalNumber:W6,era:un({values:$6,defaultWidth:"wide"}),quarter:un({values:L6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:un({values:F6,defaultWidth:"wide"}),day:un({values:z6,defaultWidth:"wide"}),dayPeriod:un({values:U6,defaultWidth:"wide",formattingValues:B6,defaultFormattingWidth:"wide"})};function dn(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?q6(l,h=>h.test(i)):H6(l,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function H6(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function q6(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function wC(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const G6=/^(\d+)(th|st|nd|rd)?/i,K6=/\d+/i,Y6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q6={any:[/^b/i,/^(a|c)/i]},J6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X6={any:[/1/i,/2/i,/3/i,/4/i]},Z6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oF={ordinalNumber:wC({matchPattern:G6,parsePattern:K6,valueCallback:e=>parseInt(e,10)}),era:dn({matchPatterns:Y6,defaultMatchWidth:"wide",parsePatterns:Q6,defaultParseWidth:"any"}),quarter:dn({matchPatterns:J6,defaultMatchWidth:"wide",parsePatterns:X6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:dn({matchPatterns:Z6,defaultMatchWidth:"wide",parsePatterns:eF,defaultParseWidth:"any"}),day:dn({matchPatterns:tF,defaultMatchWidth:"wide",parsePatterns:rF,defaultParseWidth:"any"}),dayPeriod:dn({matchPatterns:nF,defaultMatchWidth:"any",parsePatterns:sF,defaultParseWidth:"any"})},bC={code:"en-US",formatDistance:T6,formatLong:I6,formatRelative:D6,localize:V6,match:oF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aF(e){const t=Se(e);return fn(t,yC(t))+1}function jC(e){const t=Se(e),r=+fo(t)-+_6(t);return Math.round(r/Og)+1}function _C(e,t){var d,h,p,g;const r=Se(e),n=r.getFullYear(),s=Al(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,i=cr(e,0);i.setFullYear(n+1,0,a),i.setHours(0,0,0,0);const l=gn(i,t),c=cr(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=gn(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function iF(e,t){var l,c,u,d;const r=Al(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=_C(e,t),a=cr(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),gn(a,t)}function SC(e,t){const r=Se(e),n=+gn(r,t)-+iF(r,t);return Math.round(n/Og)+1}function Ee(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Kn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ee(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ee(r+1,2)},d(e,t){return Ee(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ee(e.getHours()%12||12,t.length)},H(e,t){return Ee(e.getHours(),t.length)},m(e,t){return Ee(e.getMinutes(),t.length)},s(e,t){return Ee(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ee(s,t.length)}},Io={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Rx={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Kn.y(e,t)},Y:function(e,t,r,n){const s=_C(e,n),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return Ee(i,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ee(a,t.length)},R:function(e,t){const r=vC(e);return Ee(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ee(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ee(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ee(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Kn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ee(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=SC(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ee(s,t.length)},I:function(e,t,r){const n=jC(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ee(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Kn.d(e,t)},D:function(e,t,r){const n=aF(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ee(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ee(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ee(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ee(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Io.noon:n===0?s=Io.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Io.evening:n>=12?s=Io.afternoon:n>=4?s=Io.morning:s=Io.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Kn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Kn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ee(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ee(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Kn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Kn.s(e,t)},S:function(e,t){return Kn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Ox(n);case"XXXX":case"XX":return Us(n);case"XXXXX":case"XXX":default:return Us(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Ox(n);case"xxxx":case"xx":return Us(n);case"xxxxx":case"xxx":default:return Us(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ax(n,":");case"OOOO":default:return"GMT"+Us(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ax(n,":");case"zzzz":default:return"GMT"+Us(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ee(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ee(n,t.length)}};function Ax(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+Ee(a,2)}function Ox(e,t){return e%60===0?(e>0?"-":"+")+Ee(Math.abs(e)/60,2):Us(e,t)}function Us(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ee(Math.trunc(n/60),2),a=Ee(n%60,2);return r+s+t+a}const Ix=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},NC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},lF=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Ix(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Ix(n,t)).replace("{{time}}",NC(s,t))},cF={p:NC,P:lF},uF=/^D+$/,dF=/^Y+$/,fF=["D","DD","YY","YYYY"];function hF(e){return uF.test(e)}function pF(e){return dF.test(e)}function mF(e,t,r){const n=gF(e,t,r);if(console.warn(n),fF.includes(e))throw new RangeError(n)}function gF(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xF=/^'([^]*?)'?$/,wF=/''/g,bF=/[a-zA-Z]/;function St(e,t,r){var d,h,p,g,w,v,b,y;const n=Al(),s=(r==null?void 0:r.locale)??n.locale??bC,a=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((v=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((y=(b=n.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,l=Se(e);if(!E6(l))throw new RangeError("Invalid time value");let c=t.match(yF).map(m=>{const x=m[0];if(x==="p"||x==="P"){const j=cF[x];return j(m,s.formatLong)}return m}).join("").match(vF).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const x=m[0];if(x==="'")return{isToken:!1,value:jF(m)};if(Rx[x])return{isToken:!0,value:m};if(x.match(bF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(m=>{if(!m.isToken)return m.value;const x=m.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&pF(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&hF(x))&&mF(x,t,String(e));const j=Rx[x[0]];return j(l,x,s.localize,u)}).join("")}function jF(e){const t=e.match(xF);return t?t[1].replace(wF,"'"):e}function _F(e){const t=Se(e),r=t.getFullYear(),n=t.getMonth(),s=cr(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function SF(e){return Math.trunc(+Se(e)/1e3)}function NF(e){const t=Se(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function CF(e,t){return P6(NF(e),Yt(e),t)+1}function Ep(e,t){const r=Se(e),n=Se(t);return r.getTime()>n.getTime()}function CC(e,t){const r=Se(e),n=Se(t);return+r<+n}function $g(e,t){const r=Se(e),n=Se(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function EF(e,t){const r=Se(e),n=Se(t);return r.getFullYear()===n.getFullYear()}function Lf(e,t){return Rt(e,-t)}function Ff(e,t){const r=Se(e),n=r.getFullYear(),s=r.getDate(),a=cr(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const i=_F(a);return r.setMonth(t,Math.min(s,i)),r}function Mx(e,t){const r=Se(e);return isNaN(+r)?cr(e,NaN):(r.setFullYear(t),r)}const PF={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},kF=(e,t,r)=>{let n;const s=PF[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},TF={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},RF={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},AF={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OF={date:aa({formats:TF,defaultWidth:"full"}),time:aa({formats:RF,defaultWidth:"full"}),dateTime:aa({formats:AF,defaultWidth:"full"})},IF={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},MF={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},DF=(e,t,r,n)=>t.getHours()!==1?MF[e]:IF[e],$F={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},LF={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},FF={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},zF={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},UF={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},BF={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},WF=(e,t)=>Number(e)+"",VF={ordinalNumber:WF,era:un({values:$F,defaultWidth:"wide"}),quarter:un({values:LF,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:un({values:FF,defaultWidth:"wide"}),day:un({values:zF,defaultWidth:"wide"}),dayPeriod:un({values:UF,defaultWidth:"wide",formattingValues:BF,defaultFormattingWidth:"wide"})},HF=/^(\d+)()?/i,qF=/\d+/i,GF={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},KF={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},YF={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},QF={any:[/1/i,/2/i,/3/i,/4/i]},JF={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},XF={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},ZF={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},ez={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},tz={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},rz={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},nz={ordinalNumber:wC({matchPattern:HF,parsePattern:qF,valueCallback:function(e){return parseInt(e,10)}}),era:dn({matchPatterns:GF,defaultMatchWidth:"wide",parsePatterns:KF,defaultParseWidth:"any"}),quarter:dn({matchPatterns:YF,defaultMatchWidth:"wide",parsePatterns:QF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:dn({matchPatterns:JF,defaultMatchWidth:"wide",parsePatterns:XF,defaultParseWidth:"any"}),day:dn({matchPatterns:ZF,defaultMatchWidth:"wide",parsePatterns:ez,defaultParseWidth:"any"}),dayPeriod:dn({matchPatterns:tz,defaultMatchWidth:"any",parsePatterns:rz,defaultParseWidth:"any"})},Nn={code:"es",formatDistance:kF,formatLong:OF,formatRelative:DF,localize:VF,match:nz,options:{weekStartsOn:1,firstWeekContainsDate:1}};var se=function(){return se=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},se.apply(this,arguments)};function sz(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function EC(e,t,r){for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Ol(e){return e.mode==="multiple"}function Il(e){return e.mode==="range"}function Od(e){return e.mode==="single"}var oz={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function az(e,t){return St(e,"LLLL y",t)}function iz(e,t){return St(e,"d",t)}function lz(e,t){return St(e,"LLLL",t)}function cz(e){return"".concat(e)}function uz(e,t){return St(e,"cccccc",t)}function dz(e,t){return St(e,"yyyy",t)}var fz=Object.freeze({__proto__:null,formatCaption:az,formatDay:iz,formatMonthCaption:lz,formatWeekNumber:cz,formatWeekdayName:uz,formatYearCaption:dz}),hz=function(e,t,r){return St(e,"do MMMM (EEEE)",r)},pz=function(){return"Month: "},mz=function(){return"Go to next month"},gz=function(){return"Go to previous month"},vz=function(e,t){return St(e,"cccc",t)},yz=function(e){return"Week n. ".concat(e)},xz=function(){return"Year: "},wz=Object.freeze({__proto__:null,labelDay:hz,labelMonthDropdown:pz,labelNext:mz,labelPrevious:gz,labelWeekNumber:yz,labelWeekday:vz,labelYearDropdown:xz});function bz(){var e="buttons",t=oz,r=bC,n={},s={},a=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:fz,labels:wz,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:i,today:l,mode:"default"}}function jz(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,a=e.fromDate,i=e.toDate;return n?a=Yt(n):t&&(a=new Date(t,0,1)),s?i=Mg(s):r&&(i=new Date(r,11,31)),{fromDate:a?ka(a):void 0,toDate:i?ka(i):void 0}}var PC=f.createContext(void 0);function _z(e){var t,r=e.initialProps,n=bz(),s=jz(r),a=s.fromDate,i=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!i)&&(l="buttons");var c;(Od(r)||Ol(r)||Il(r))&&(c=r.onSelect);var u=se(se(se({},n),r),{captionLayout:l,classNames:se(se({},n.classNames),r.classNames),components:se({},r.components),formatters:se(se({},n.formatters),r.formatters),fromDate:a,labels:se(se({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:se(se({},n.modifiers),r.modifiers),modifiersClassNames:se(se({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:se(se({},n.styles),r.styles),toDate:i});return o.jsx(PC.Provider,{value:u,children:e.children})}function Ie(){var e=f.useContext(PC);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function kC(e){var t=Ie(),r=t.locale,n=t.classNames,s=t.styles,a=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function Sz(e){return o.jsx("svg",se({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function TC(e){var t,r,n=e.onChange,s=e.value,a=e.children,i=e.caption,l=e.className,c=e.style,u=Ie(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Sz;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:a}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Nz(e){var t,r=Ie(),n=r.fromDate,s=r.toDate,a=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var h=[];if(EF(n,s))for(var p=Yt(n),g=n.getMonth();g<=s.getMonth();g++)h.push(Ff(p,g));else for(var p=Yt(new Date),g=0;g<=11;g++)h.push(Ff(p,g));var w=function(b){var y=Number(b.target.value),m=Ff(Yt(e.displayMonth),y);e.onChange(m)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:TC;return o.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:h.map(function(b){return o.jsx("option",{value:b.getMonth(),children:l(b,{locale:i})},b.getMonth())})})}function Cz(e){var t,r=e.displayMonth,n=Ie(),s=n.fromDate,a=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,p=[];if(!s)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});for(var g=s.getFullYear(),w=a.getFullYear(),v=g;v<=w;v++)p.push(Mx(yC(new Date),v));var b=function(m){var x=Mx(Yt(r),Number(m.target.value));e.onChange(x)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:TC;return o.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:r.getFullYear(),caption:d(r,{locale:i}),children:p.map(function(m){return o.jsx("option",{value:m.getFullYear(),children:d(m,{locale:i})},m.getFullYear())})})}function Ez(e,t){var r=f.useState(e),n=r[0],s=r[1],a=t===void 0?n:t;return[a,s]}function Pz(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,a=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&il(a,s)<0){var u=-1*(c-1);s=qr(a,u)}return i&&il(s,i)<0&&(s=i),Yt(s)}function kz(){var e=Ie(),t=Pz(e),r=Ez(t,e.month),n=r[0],s=r[1],a=function(i){var l;if(!e.disableNavigation){var c=Yt(i);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,a]}function Tz(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Yt(e),a=Yt(qr(s,n)),i=il(a,s),l=[],c=0;c<i;c++){var u=qr(s,c);l.push(u)}return r&&(l=l.reverse()),l}function Rz(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=n?a:1,l=Yt(e);if(!r)return qr(l,i);var c=il(r,e);if(!(c<a))return qr(l,i)}}function Az(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=n?a:1,l=Yt(e);if(!r)return qr(l,-i);var c=il(l,r);if(!(c<=0))return qr(l,-i)}}var RC=f.createContext(void 0);function Oz(e){var t=Ie(),r=kz(),n=r[0],s=r[1],a=Tz(n,t),i=Rz(n,t),l=Az(n,t),c=function(h){return a.some(function(p){return $g(h,p)})},u=function(h,p){c(h)||(p&&CC(h,p)?s(qr(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return o.jsx(RC.Provider,{value:d,children:e.children})}function Ml(){var e=f.useContext(RC);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Dx(e){var t,r=Ie(),n=r.classNames,s=r.styles,a=r.components,i=Ml().goToMonth,l=function(d){i(qr(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:kC,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(Nz,{onChange:l,displayMonth:e.displayMonth}),o.jsx(Cz,{onChange:l,displayMonth:e.displayMonth})]})}function Iz(e){return o.jsx("svg",se({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Mz(e){return o.jsx("svg",se({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Tu=f.forwardRef(function(e,t){var r=Ie(),n=r.classNames,s=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var i=a.join(" "),l=se(se({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),o.jsx("button",se({},e,{ref:t,type:"button",className:i,style:l}))});function Dz(e){var t,r,n=Ie(),s=n.dir,a=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var p=u(e.previousMonth,{locale:a}),g=[i.nav_button,i.nav_button_previous].join(" "),w=d(e.nextMonth,{locale:a}),v=[i.nav_button,i.nav_button_next].join(" "),b=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:Mz,y=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:Iz;return o.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(Tu,{name:"previous-month","aria-label":p,className:g,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?o.jsx(b,{className:i.nav_icon,style:l.nav_icon}):o.jsx(y,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(Tu,{name:"next-month","aria-label":w,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?o.jsx(y,{className:i.nav_icon,style:l.nav_icon}):o.jsx(b,{className:i.nav_icon,style:l.nav_icon})})]})}function $x(e){var t=Ie().numberOfMonths,r=Ml(),n=r.previousMonth,s=r.nextMonth,a=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(w){return $g(e.displayMonth,w)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),p=function(){n&&a(n)},g=function(){s&&a(s)};return o.jsx(Dz,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:p,onNextClick:g})}function $z(e){var t,r=Ie(),n=r.classNames,s=r.disableNavigation,a=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:kC,u;return s?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=o.jsx(Dx,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(Dx,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx($x,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx($x,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:a.caption,children:u})}function Lz(e){var t=Ie(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?o.jsx("tfoot",{className:s,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function Fz(e,t,r){for(var n=r?fo(new Date):gn(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var i=Rt(n,a);s.push(i)}return s}function zz(){var e=Ie(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Fz(s,a,i);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,h){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},h)})]})}function Uz(){var e,t=Ie(),r=t.classNames,n=t.styles,s=t.components,a=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:zz;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(a,{})})}function Bz(e){var t=Ie(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var Lg=f.createContext(void 0);function Wz(e){if(!Ol(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(Lg.Provider,{value:t,children:e.children})}return o.jsx(Vz,{initialProps:e.initialProps,children:e.children})}function Vz(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,a=t.max,i=function(u,d,h){var p,g;(p=t.onDayClick)===null||p===void 0||p.call(t,u,d,h);var w=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!w){var v=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!v){var b=n?EC([],n):[];if(d.selected){var y=b.findIndex(function(m){return Wt(u,m)});b.splice(y,1)}else b.push(u);(g=t.onSelect)===null||g===void 0||g.call(t,b,u,d,h)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=a&&n.length>a-1,h=n.some(function(p){return Wt(p,u)});return!!(d&&!h)});var c={selected:n,onDayClick:i,modifiers:l};return o.jsx(Lg.Provider,{value:c,children:r})}function Fg(){var e=f.useContext(Lg);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Hz(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Wt(s,e)&&Wt(n,e)?void 0:Wt(s,e)?{from:s,to:void 0}:Wt(n,e)?void 0:Ep(n,e)?{from:e,to:s}:{from:n,to:e}:s?Ep(e,s)?{from:s,to:e}:{from:e,to:s}:n?CC(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var zg=f.createContext(void 0);function qz(e){if(!Il(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(zg.Provider,{value:t,children:e.children})}return o.jsx(Gz,{initialProps:e.initialProps,children:e.children})}function Gz(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},a=s.from,i=s.to,l=t.min,c=t.max,u=function(g,w,v){var b,y;(b=t.onDayClick)===null||b===void 0||b.call(t,g,w,v);var m=Hz(g,n);(y=t.onSelect)===null||y===void 0||y.call(t,m,g,w,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],i?(d.range_end=[i],Wt(a,i)||(d.range_middle=[{after:a,before:i}])):d.range_end=[a]):i&&(d.range_start=[i],d.range_end=[i]),l&&(a&&!i&&d.disabled.push({after:Lf(a,l-1),before:Rt(a,l-1)}),a&&i&&d.disabled.push({after:a,before:Rt(a,l-1)}),!a&&i&&d.disabled.push({after:Lf(i,l-1),before:Rt(i,l-1)})),c){if(a&&!i&&(d.disabled.push({before:Rt(a,-c+1)}),d.disabled.push({after:Rt(a,c-1)})),a&&i){var h=fn(i,a)+1,p=c-h;d.disabled.push({before:Lf(a,p)}),d.disabled.push({after:Rt(i,p)})}!a&&i&&(d.disabled.push({before:Rt(i,-c+1)}),d.disabled.push({after:Rt(i,c-1)}))}return o.jsx(zg.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function Ug(){var e=f.useContext(zg);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function $c(e){return Array.isArray(e)?EC([],e):e!==void 0?[e]:[]}function Kz(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=$c(s)}),t}var Gr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Gr||(Gr={}));var Yz=Gr.Selected,wn=Gr.Disabled,Qz=Gr.Hidden,Jz=Gr.Today,zf=Gr.RangeEnd,Uf=Gr.RangeMiddle,Bf=Gr.RangeStart,Xz=Gr.Outside;function Zz(e,t,r){var n,s=(n={},n[Yz]=$c(e.selected),n[wn]=$c(e.disabled),n[Qz]=$c(e.hidden),n[Jz]=[e.today],n[zf]=[],n[Uf]=[],n[Bf]=[],n[Xz]=[],n);return e.fromDate&&s[wn].push({before:e.fromDate}),e.toDate&&s[wn].push({after:e.toDate}),Ol(e)?s[wn]=s[wn].concat(t.modifiers[wn]):Il(e)&&(s[wn]=s[wn].concat(r.modifiers[wn]),s[Bf]=r.modifiers[Bf],s[Uf]=r.modifiers[Uf],s[zf]=r.modifiers[zf]),s}var AC=f.createContext(void 0);function e8(e){var t=Ie(),r=Fg(),n=Ug(),s=Zz(t,r,n),a=Kz(t.modifiers),i=se(se({},s),a);return o.jsx(AC.Provider,{value:i,children:e.children})}function OC(){var e=f.useContext(AC);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function t8(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function r8(e){return!!(e&&typeof e=="object"&&"from"in e)}function n8(e){return!!(e&&typeof e=="object"&&"after"in e)}function s8(e){return!!(e&&typeof e=="object"&&"before"in e)}function o8(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function a8(e,t){var r,n=t.from,s=t.to;if(n&&s){var a=fn(s,n)<0;a&&(r=[s,n],n=r[0],s=r[1]);var i=fn(e,n)>=0&&fn(s,e)>=0;return i}return s?Wt(s,e):n?Wt(n,e):!1}function i8(e){return Ig(e)}function l8(e){return Array.isArray(e)&&e.every(Ig)}function c8(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(i8(r))return Wt(e,r);if(l8(r))return r.includes(e);if(r8(r))return a8(e,r);if(o8(r))return r.dayOfWeek.includes(e.getDay());if(t8(r)){var n=fn(r.before,e),s=fn(r.after,e),a=n>0,i=s<0,l=Ep(r.before,r.after);return l?i&&a:a||i}return n8(r)?fn(e,r.after)>0:s8(r)?fn(r.before,e)>0:typeof r=="function"?r(e):!1})}function Bg(e,t,r){var n=Object.keys(t).reduce(function(a,i){var l=t[i];return c8(e,l)&&a.push(i),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),r&&!$g(e,r)&&(s.outside=!0),s}function u8(e,t){for(var r=Yt(e[0]),n=Mg(e[e.length-1]),s,a,i=r;i<=n;){var l=Bg(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Rt(i,1);continue}if(l.selected)return i;l.today&&!a&&(a=i),s||(s=i),i=Rt(i,1)}return a||s}var d8=365;function IC(e,t){var r=t.moveBy,n=t.direction,s=t.context,a=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,p={day:Rt,week:Cp,month:qr,year:S6,startOfWeek:function(b){return s.ISOWeek?fo(b):gn(b,{locale:h,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?xC(b):Dg(b,{locale:h,weekStartsOn:c})}},g=p[r](e,n==="after"?1:-1);n==="before"&&u?g=N6([u,g]):n==="after"&&d&&(g=C6([d,g]));var w=!0;if(a){var v=Bg(g,a);w=!v.disabled&&!v.hidden}return w?g:l.count>d8?l.lastFocused:IC(g,{moveBy:r,direction:n,context:s,modifiers:a,retry:se(se({},l),{count:l.count+1})})}var MC=f.createContext(void 0);function f8(e){var t=Ml(),r=OC(),n=f.useState(),s=n[0],a=n[1],i=f.useState(),l=i[0],c=i[1],u=u8(t.displayMonths,r),d=s??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(s),a(void 0)},p=function(b){a(b)},g=Ie(),w=function(b,y){if(s){var m=IC(s,{moveBy:b,direction:y,context:g,modifiers:r});Wt(s,m)||(t.goToDate(m,s),p(m))}},v={focusedDay:s,focusTarget:d,blur:h,focus:p,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return o.jsx(MC.Provider,{value:v,children:e.children})}function Wg(){var e=f.useContext(MC);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function h8(e,t){var r=OC(),n=Bg(e,r,t);return n}var Vg=f.createContext(void 0);function p8(e){if(!Od(e.initialProps)){var t={selected:void 0};return o.jsx(Vg.Provider,{value:t,children:e.children})}return o.jsx(m8,{initialProps:e.initialProps,children:e.children})}function m8(e){var t=e.initialProps,r=e.children,n=function(a,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,i,l)},s={selected:t.selected,onDayClick:n};return o.jsx(Vg.Provider,{value:s,children:r})}function DC(){var e=f.useContext(Vg);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function g8(e,t){var r=Ie(),n=DC(),s=Fg(),a=Ug(),i=Wg(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,h=i.blur,p=i.focus,g=i.focusMonthBefore,w=i.focusMonthAfter,v=i.focusYearBefore,b=i.focusYearAfter,y=i.focusStartOfWeek,m=i.focusEndOfWeek,x=function(M){var C,R,F,A;Od(r)?(C=n.onDayClick)===null||C===void 0||C.call(n,e,t,M):Ol(r)?(R=s.onDayClick)===null||R===void 0||R.call(s,e,t,M):Il(r)?(F=a.onDayClick)===null||F===void 0||F.call(a,e,t,M):(A=r.onDayClick)===null||A===void 0||A.call(r,e,t,M)},j=function(M){var C;p(e),(C=r.onDayFocus)===null||C===void 0||C.call(r,e,t,M)},N=function(M){var C;h(),(C=r.onDayBlur)===null||C===void 0||C.call(r,e,t,M)},_=function(M){var C;(C=r.onDayMouseEnter)===null||C===void 0||C.call(r,e,t,M)},S=function(M){var C;(C=r.onDayMouseLeave)===null||C===void 0||C.call(r,e,t,M)},P=function(M){var C;(C=r.onDayPointerEnter)===null||C===void 0||C.call(r,e,t,M)},I=function(M){var C;(C=r.onDayPointerLeave)===null||C===void 0||C.call(r,e,t,M)},k=function(M){var C;(C=r.onDayTouchCancel)===null||C===void 0||C.call(r,e,t,M)},$=function(M){var C;(C=r.onDayTouchEnd)===null||C===void 0||C.call(r,e,t,M)},L=function(M){var C;(C=r.onDayTouchMove)===null||C===void 0||C.call(r,e,t,M)},D=function(M){var C;(C=r.onDayTouchStart)===null||C===void 0||C.call(r,e,t,M)},E=function(M){var C;(C=r.onDayKeyUp)===null||C===void 0||C.call(r,e,t,M)},T=function(M){var C;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),u();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),d();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?v():g();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?b():w();break;case"Home":M.preventDefault(),M.stopPropagation(),y();break;case"End":M.preventDefault(),M.stopPropagation(),m();break}(C=r.onDayKeyDown)===null||C===void 0||C.call(r,e,t,M)},O={onClick:x,onFocus:j,onBlur:N,onKeyDown:T,onKeyUp:E,onMouseEnter:_,onMouseLeave:S,onPointerEnter:P,onPointerLeave:I,onTouchCancel:k,onTouchEnd:$,onTouchMove:L,onTouchStart:D};return O}function v8(){var e=Ie(),t=DC(),r=Fg(),n=Ug(),s=Od(e)?t.selected:Ol(e)?r.selected:Il(e)?n.selected:void 0;return s}function y8(e){return Object.values(Gr).includes(e)}function x8(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(y8(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function w8(e,t){var r=se({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=se(se({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function b8(e,t,r){var n,s,a,i=Ie(),l=Wg(),c=h8(e,t),u=g8(e,c),d=v8(),h=!!(i.onDayClick||i.mode!=="default");f.useEffect(function(){var _;c.outside||l.focusedDay&&h&&Wt(l.focusedDay,e)&&((_=r.current)===null||_===void 0||_.focus())},[l.focusedDay,e,r,h,c.outside]);var p=x8(i,c).join(" "),g=w8(i,c),w=!!(c.outside&&!i.showOutsideDays||c.hidden),v=(a=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:Bz,b=o.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),y={style:g,className:p,children:b,role:"gridcell"},m=l.focusTarget&&Wt(l.focusTarget,e)&&!c.outside,x=l.focusedDay&&Wt(l.focusedDay,e),j=se(se(se({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=x||m?0:-1,n)),u),N={isButton:h,isHidden:w,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:y};return N}function j8(e){var t=f.useRef(null),r=b8(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(Tu,se({name:"day",ref:t},r.buttonProps)):o.jsx("div",se({},r.divProps))}function _8(e){var t=e.number,r=e.dates,n=Ie(),s=n.onWeekNumberClick,a=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return o.jsx("span",{className:i.weeknumber,style:a.weeknumber,children:d});var h=c(Number(t),{locale:l}),p=function(g){s(t,r,g)};return o.jsx(Tu,{name:"week-number","aria-label":h,className:i.weeknumber,style:a.weeknumber,onClick:p,children:d})}function S8(e){var t,r,n=Ie(),s=n.styles,a=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:j8,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:_8,d;return i&&(d=o.jsx("td",{className:a.cell,style:s.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:a.row,style:s.row,children:[d,e.dates.map(function(h){return o.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:h})},SF(h))})]})}function Lx(e,t,r){for(var n=r!=null&&r.ISOWeek?xC(t):Dg(t,r),s=r!=null&&r.ISOWeek?fo(e):gn(e,r),a=fn(n,s),i=[],l=0;l<=a;l++)i.push(Rt(s,l));var c=i.reduce(function(u,d){var h=r!=null&&r.ISOWeek?jC(d):SC(d,r),p=u.find(function(g){return g.weekNumber===h});return p?(p.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function N8(e,t){var r=Lx(Yt(e),Mg(e),t);if(t!=null&&t.useFixedWeeks){var n=CF(e,t);if(n<6){var s=r[r.length-1],a=s.dates[s.dates.length-1],i=Cp(a,6-n),l=Lx(Cp(a,1),i,t);r.push.apply(r,l)}}return r}function C8(e){var t,r,n,s=Ie(),a=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,p=s.firstWeekContainsDate,g=s.ISOWeek,w=N8(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:a,weekStartsOn:h,firstWeekContainsDate:p}),v=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Uz,b=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:S8,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Lz;return o.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(v,{}),o.jsx("tbody",{className:i.tbody,style:l.tbody,children:w.map(function(m){return o.jsx(b,{displayMonth:e.displayMonth,dates:m.dates,weekNumber:m.weekNumber},m.weekNumber)})}),o.jsx(y,{displayMonth:e.displayMonth})]})}function E8(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var P8=E8()?f.useLayoutEffect:f.useEffect,Wf=!1,k8=0;function Fx(){return"react-day-picker-".concat(++k8)}function T8(e){var t,r=e??(Wf?Fx():null),n=f.useState(r),s=n[0],a=n[1];return P8(function(){s===null&&a(Fx())},[]),f.useEffect(function(){Wf===!1&&(Wf=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function R8(e){var t,r,n=Ie(),s=n.dir,a=n.classNames,i=n.styles,l=n.components,c=Ml().displayMonths,u=T8(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[a.month],p=i.month,g=e.displayIndex===0,w=e.displayIndex===c.length-1,v=!g&&!w;s==="rtl"&&(t=[g,w],w=t[0],g=t[1]),g&&(h.push(a.caption_start),p=se(se({},p),i.caption_start)),w&&(h.push(a.caption_end),p=se(se({},p),i.caption_end)),v&&(h.push(a.caption_between),p=se(se({},p),i.caption_between));var b=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:$z;return o.jsxs("div",{className:h.join(" "),style:p,children:[o.jsx(b,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(C8,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function A8(e){var t=Ie(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function O8(e){var t,r,n=e.initialProps,s=Ie(),a=Wg(),i=Ml(),l=f.useState(!1),c=l[0],u=l[1];f.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=se(se({},s.styles.root),s.style),p=Object.keys(n).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var b;return se(se({},w),(b={},b[v]=n[v],b))},{}),g=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:A8;return o.jsx("div",se({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:o.jsx(g,{children:i.displayMonths.map(function(w,v){return o.jsx(R8,{displayIndex:v,displayMonth:w},v)})})}))}function I8(e){var t=e.children,r=sz(e,["children"]);return o.jsx(_z,{initialProps:r,children:o.jsx(Oz,{children:o.jsx(p8,{initialProps:r,children:o.jsx(Wz,{initialProps:r,children:o.jsx(qz,{initialProps:r,children:o.jsx(e8,{children:o.jsx(f8,{children:t})})})})})})})}function M8(e){return o.jsx(I8,se({},e,{children:o.jsx(O8,{initialProps:e})}))}function Pp({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(M8,{showOutsideDays:r,className:W("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:W(nl({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:W(nl({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>o.jsx(JT,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(Fb,{className:"h-4 w-4"})},...n})}Pp.displayName="Calendar";var Hg="Popover",[$C,aB]=Et(Hg,[Rs]),Dl=Rs(),[D8,Ms]=$C(Hg),LC=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,l=Dl(t),c=f.useRef(null),[u,d]=f.useState(!1),[h=!1,p]=Jt({prop:n,defaultProp:s,onChange:a});return o.jsx(td,{...l,children:o.jsx(D8,{scope:t,contentId:Gt(),triggerRef:c,open:h,onOpenChange:p,onOpenToggle:f.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:u,onCustomAnchorAdd:f.useCallback(()=>d(!0),[]),onCustomAnchorRemove:f.useCallback(()=>d(!1),[]),modal:i,children:r})})};LC.displayName=Hg;var FC="PopoverAnchor",$8=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ms(FC,r),a=Dl(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return f.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(yl,{...a,...n,ref:t})});$8.displayName=FC;var zC="PopoverTrigger",UC=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ms(zC,r),a=Dl(r),i=ie(t,s.triggerRef),l=o.jsx(Q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qC(s.open),...n,ref:i,onClick:H(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(yl,{asChild:!0,...a,children:l})});UC.displayName=zC;var qg="PopoverPortal",[L8,F8]=$C(qg,{forceMount:void 0}),BC=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=Ms(qg,t);return o.jsx(L8,{scope:t,forceMount:r,children:o.jsx(st,{present:r||a.open,children:o.jsx(Ma,{asChild:!0,container:s,children:n})})})};BC.displayName=qg;var Ta="PopoverContent",WC=f.forwardRef((e,t)=>{const r=F8(Ta,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=Ms(Ta,e.__scopePopover);return o.jsx(st,{present:n||a.open,children:a.modal?o.jsx(z8,{...s,ref:t}):o.jsx(U8,{...s,ref:t})})});WC.displayName=Ta;var z8=f.forwardRef((e,t)=>{const r=Ms(Ta,e.__scopePopover),n=f.useRef(null),s=ie(t,n),a=f.useRef(!1);return f.useEffect(()=>{const i=n.current;if(i)return wd(i)},[]),o.jsx(_l,{as:Qt,allowPinchZoom:!0,children:o.jsx(VC,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:H(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:H(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),U8=f.forwardRef((e,t)=>{const r=Ms(Ta,e.__scopePopover),n=f.useRef(!1),s=f.useRef(!1);return o.jsx(VC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),VC=f.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,p=Ms(Ta,r),g=Dl(r);return yd(),o.jsx(jl,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(go,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:o.jsx(rd,{"data-state":qC(p.open),role:"dialog",id:p.contentId,...g,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),HC="PopoverClose",B8=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ms(HC,r);return o.jsx(Q.button,{type:"button",...n,ref:t,onClick:H(e.onClick,()=>s.onOpenChange(!1))})});B8.displayName=HC;var W8="PopoverArrow",V8=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Dl(r);return o.jsx(nd,{...s,...n,ref:t})});V8.displayName=W8;function qC(e){return e?"open":"closed"}var H8=LC,q8=UC,G8=BC,GC=WC;const zx=H8,Ux=q8,kp=f.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>o.jsx(G8,{children:o.jsx(GC,{ref:s,align:t,sideOffset:r,className:W("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));kp.displayName=GC.displayName;const mc="https://oposiciones-test.com/api";function K8(){const{user:e}=Ke(),t=Ge(),[r,n]=f.useState([]),[s,a]=f.useState(!0),[i,l]=f.useState(!1),[c,u]=f.useState(!1),[d,h]=f.useState(null),[p,g]=f.useState(!1),[w,v]=f.useState({titulo:"",descripcion:"",tipo_prueba:"",fecha_inicio:void 0,fecha_fin:void 0}),[b,y]=f.useState({titulo:"",tipo_prueba:"",fecha_inicio:"",fecha_fin:""});f.useEffect(()=>{e&&m()},[e]);const m=async()=>{if(e!=null&&e.id){a(!0);try{const k=pt.getToken(),L=await(await fetch(`${mc}/planes_fisicos.php?action=listar&id_usuario=${e.id}`,{headers:{Authorization:`Bearer ${k}`}})).json();L.success?n(L.planes||[]):pe.error(L.error||"Error al cargar los planes fsicos")}catch{pe.error("Error de conexin al cargar planes")}finally{a(!1)}}},x=()=>{const k={titulo:"",tipo_prueba:"",fecha_inicio:"",fecha_fin:""};return w.titulo.trim()||(k.titulo="El ttulo es obligatorio"),w.tipo_prueba.trim()||(k.tipo_prueba="El tipo de prueba es obligatorio"),w.fecha_inicio||(k.fecha_inicio="Selecciona la fecha de inicio"),w.fecha_fin||(k.fecha_fin="Selecciona la fecha de fin"),y(k),!Object.values(k).some($=>$)},j=()=>{v({titulo:"",descripcion:"",tipo_prueba:"",fecha_inicio:void 0,fecha_fin:void 0}),y({titulo:"",tipo_prueba:"",fecha_inicio:"",fecha_fin:""}),h(null),u(!1)},N=()=>{j(),u(!1),l(!0)},_=k=>{u(!0),h(k.id),v({titulo:k.titulo,descripcion:k.descripcion,tipo_prueba:k.tipo_prueba,fecha_inicio:new Date(k.fecha_inicio),fecha_fin:new Date(k.fecha_fin)}),l(!0)},S=async()=>{if(!(!x()||!(e!=null&&e.id))){g(!0);try{const k=pt.getToken(),$={id_usuario:e.id,titulo:w.titulo.trim(),descripcion:w.descripcion.trim(),tipo_prueba:w.tipo_prueba.trim(),fecha_inicio:St(w.fecha_inicio,"yyyy-MM-dd"),fecha_fin:St(w.fecha_fin,"yyyy-MM-dd")},L=c?`${mc}/planes_fisicos.php?action=actualizar&id_plan=${d}`:`${mc}/planes_fisicos.php?action=crear`,E=await(await fetch(L,{method:c?"PUT":"POST",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify($)})).json();E.success?(pe.success(c?"Plan actualizado":"Plan creado"),l(!1),j(),m()):pe.error(E.error||"Error al guardar el plan")}catch{pe.error("Error de conexin")}finally{g(!1)}}},P=async k=>{if(window.confirm("Seguro que quieres eliminar este plan?")&&e!=null&&e.id)try{const $=pt.getToken(),D=await(await fetch(`${mc}/planes_fisicos.php?action=eliminar`,{method:"POST",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify({id_plan:k,id_usuario:e.id})})).json();D.success?(pe.success("Plan eliminado"),m()):pe.error(D.error||"Error al eliminar el plan")}catch{pe.error("Error de conexin")}},I=k=>St(new Date(k),"dd/MM/yyyy",{locale:Nn});return s?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Planes Fsicos"}),o.jsx("p",{className:"text-muted-foreground",children:"La IA crea un planning semanal de ejercicios fsicos personalizado para ti."})]}),o.jsxs(B,{onClick:N,className:"mb-6",children:[o.jsx(Wh,{className:"h-4 w-4 mr-2"}),"Nuevo plan fsico"]}),r.length===0?o.jsx(Y,{children:o.jsxs(J,{className:"py-12 text-center",children:[o.jsx(Om,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"No hay planes fsicos creados."})]})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(k=>o.jsxs(Y,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t(`/planes-fisicos/${k.id}`),children:[o.jsx(oe,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(ae,{className:"text-lg",children:k.titulo}),o.jsx(Le,{children:k.tipo_prueba})]}),o.jsxs("div",{className:"flex gap-1",onClick:$=>$.stopPropagation(),children:[o.jsx(B,{variant:"ghost",size:"icon",onClick:$=>{$.stopPropagation(),_(k)},children:o.jsx(Ub,{className:"h-4 w-4"})}),o.jsx(B,{variant:"ghost",size:"icon",onClick:$=>{$.stopPropagation(),P(k.id)},children:o.jsx(Im,{className:"h-4 w-4"})})]})]})}),o.jsxs(J,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:k.descripcion||"-"}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-3",children:[o.jsx(Fr,{className:"h-4 w-4"}),o.jsxs("span",{children:[I(k.fecha_inicio),"  ",I(k.fecha_fin)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Br,{value:k.ia_avance_ratio*100,className:"h-2"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(k.ia_avance_ratio*100),"% completado"]})]})]})]},k.id))}),o.jsx(jg,{open:i,onOpenChange:l,children:o.jsxs(Nd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Cd,{children:o.jsx(Ed,{children:c?"Editar plan fsico":"Crear nuevo plan fsico"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ce,{htmlFor:"titulo",children:"Ttulo *"}),o.jsx(je,{id:"titulo",value:w.titulo,onChange:k=>{v({...w,titulo:k.target.value}),y({...b,titulo:""})},className:b.titulo?"border-destructive":""}),b.titulo&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:b.titulo})]}),o.jsxs("div",{children:[o.jsx(ce,{htmlFor:"tipo",children:"Tipo de prueba *"}),o.jsx(je,{id:"tipo",placeholder:"Ej: Bombero, Polica, Militar...",value:w.tipo_prueba,onChange:k=>{v({...w,tipo_prueba:k.target.value}),y({...b,tipo_prueba:""})},className:b.tipo_prueba?"border-destructive":""}),b.tipo_prueba&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:b.tipo_prueba})]}),o.jsxs("div",{children:[o.jsx(ce,{htmlFor:"descripcion",children:"Descripcin"}),o.jsx(co,{id:"descripcion",value:w.descripcion,onChange:k=>v({...w,descripcion:k.target.value}),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ce,{children:"Fecha de inicio *"}),o.jsxs(zx,{children:[o.jsx(Ux,{asChild:!0,children:o.jsxs(B,{variant:"outline",className:`w-full justify-start text-left font-normal ${b.fecha_inicio?"border-destructive":""}`,children:[o.jsx(Fr,{className:"mr-2 h-4 w-4"}),w.fecha_inicio?St(w.fecha_inicio,"dd/MM/yyyy",{locale:Nn}):"Seleccionar"]})}),o.jsx(kp,{className:"w-auto p-0",children:o.jsx(Pp,{mode:"single",selected:w.fecha_inicio,onSelect:k=>{v({...w,fecha_inicio:k}),y({...b,fecha_inicio:""})},locale:Nn})})]}),b.fecha_inicio&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:b.fecha_inicio})]}),o.jsxs("div",{children:[o.jsx(ce,{children:"Fecha de fin *"}),o.jsxs(zx,{children:[o.jsx(Ux,{asChild:!0,children:o.jsxs(B,{variant:"outline",className:`w-full justify-start text-left font-normal ${b.fecha_fin?"border-destructive":""}`,children:[o.jsx(Fr,{className:"mr-2 h-4 w-4"}),w.fecha_fin?St(w.fecha_fin,"dd/MM/yyyy",{locale:Nn}):"Seleccionar"]})}),o.jsx(kp,{className:"w-auto p-0",children:o.jsx(Pp,{mode:"single",selected:w.fecha_fin,onSelect:k=>{v({...w,fecha_fin:k}),y({...b,fecha_fin:""})},locale:Nn})})]}),b.fecha_fin&&o.jsx("p",{className:"text-sm text-destructive mt-1",children:b.fecha_fin})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx(B,{variant:"outline",onClick:()=>l(!1),disabled:p,children:"Cancelar"}),o.jsx(B,{onClick:S,disabled:p,children:p?"Guardando...":c?"Guardar cambios":"Crear plan"})]})]})]})})]})}const si="https://oposiciones-test.com/api";function Y8(){const{id:e}=Qm(),{user:t}=Ke(),r=Ge(),[n,s]=f.useState(null),[a,i]=f.useState([]),[l,c]=f.useState(null),[u,d]=f.useState(!0),[h,p]=f.useState([]),[g,w]=f.useState(0),[v,b]=f.useState(null),[y,m]=f.useState({}),[x,j]=f.useState({});f.useEffect(()=>{e&&t&&N()},[e,t]);const N=async()=>{var L,D;if(!(!e||!(t!=null&&t.id))){d(!0);try{const E=pt.getToken(),O=await(await fetch(`${si}/planes_fisicos.php?action=obtener&id_plan=${e}&id_usuario=${t.id}`,{headers:{Authorization:`Bearer ${E}`}})).json();O.success?(s(O.plan),i(Array.isArray((L=O==null?void 0:O.plan_ia)==null?void 0:L.plan)?O.plan_ia.plan:[]),c(((D=O==null?void 0:O.plan_ia)==null?void 0:D.resumen)||null),p((O==null?void 0:O.avance)||[]),w((O==null?void 0:O.ia_avance_ratio)||0)):pe.error(O.error||"Error al cargar el plan")}catch{pe.error("Error de conexin")}finally{d(!1)}}},_=()=>{if(!(n!=null&&n.fecha_inicio)||!(n!=null&&n.fecha_fin))return(a==null?void 0:a.length)||0;const L=new Date(n.fecha_inicio),D=new Date(n.fecha_fin),E=Math.max(1,Math.floor((D.getTime()-L.getTime())/(1e3*60*60*24))+1);return Math.max((a==null?void 0:a.length)||0,Math.ceil(E/7))},S=async L=>{if(e){b(L);try{const D=pt.getToken(),T=await(await fetch(`${si}/planes_fisicos.php?action=generar_semana`,{method:"POST",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},body:JSON.stringify({id_plan:Number(e),semana:L+1,fast:!1})})).json();T.success?(pe.success("Semana generada con IA"),await N()):pe.error(T.error||"Error al generar la semana")}catch{pe.error("Error de conexin")}finally{b(null)}}},P=async(L,D)=>{if(!(!e||!(t!=null&&t.id)))try{const E=pt.getToken(),O=await(await fetch(`${si}/planes_fisicos.php?action=avance`,{method:"PUT",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify({id_plan:Number(e),id_usuario:t.id,semana:L,realizado:D})})).json();if(O.success){const M=Array.isArray(O.avance)?O.avance:[...h];p(M);const C=M.filter(Boolean).length,R=_()||M.length||1;w(C/R),pe.success(D?"Semana completada":"Semana marcada como pendiente")}}catch{pe.error("Error al actualizar el avance")}},I=async L=>{const D=`${L.semanaIndex}-${L.dia}-${L.bidx}-${L.eidx}`;m(E=>({...E,[D]:!0}));try{const E=pt.getToken(),O=await(await fetch(`${si}/planes_fisicos.php?action=buscar_imagen_stock`,{method:"POST",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify({q:L.nombre,bloque:L.bloqueTipo||"",limit:4})})).json();let M=[];Array.isArray(O==null?void 0:O.items)&&O.items.length&&(M=O.items.map(C=>{const R=(C==null?void 0:C.media_url)||(C==null?void 0:C.path)||"";if(!R)return null;if(R.startsWith("http"))return{url:R,credit:C==null?void 0:C.credit};const F=R.startsWith("/api/")?R.substring(4):R;return{url:`${si}${F}`,credit:C==null?void 0:C.credit}}).filter(Boolean)),M.length?j(C=>({...C,[D]:M})):pe.info("No se encontraron imgenes relevantes")}catch{pe.error("Error al buscar imgenes")}finally{m(E=>({...E,[D]:!1}))}},k=(L,D,E,T,O,M)=>{var z;const C=`${T}-${O}-${M}-${D}`,R=x[C],F=!!y[C],A=[];return L.series&&A.push(`Series: ${L.series}`),L.reps&&A.push(`Reps: ${L.reps}`),L.rpe&&A.push(`RPE: ${L.rpe}`),L.tempo&&A.push(`Tempo: ${L.tempo}`),L.descanso&&A.push(`Descanso: ${L.descanso}`),o.jsxs("div",{className:"border rounded-lg p-4 mb-3 bg-card",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("h5",{className:"font-semibold flex items-center gap-2",children:[o.jsx(Om,{className:"h-4 w-4"}),L.nombre]}),A.length>0&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:A.join("  ")}),L.notas&&o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[o.jsx("span",{className:"font-medium",children:"Notas:"})," ",L.notas]}),L.explicacion_neofita&&o.jsx("div",{className:"mt-2 p-3 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded",children:o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-medium text-green-800 dark:text-green-200",children:"Para principiantes:"})," ",L.explicacion_neofita]})})]}),o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>I({semanaIndex:T,dia:O,bidx:M,eidx:D,nombre:L.nombre,bloqueTipo:E}),disabled:F,children:F?o.jsx(rt,{className:"h-4 w-4 animate-spin"}):o.jsx(n2,{className:"h-4 w-4"})})]}),Array.isArray(R)&&R.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("div",{className:"grid grid-cols-4 gap-2",children:R.slice(0,4).map((G,ee)=>o.jsx("div",{className:"aspect-video rounded overflow-hidden border",children:o.jsx("img",{src:G.url,alt:`${L.nombre} ${ee+1}`,className:"w-full h-full object-cover"})},ee))}),((z=R[0])==null?void 0:z.credit)&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Fuente: ",R[0].credit]})]})]},D)};if(u)return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx(rt,{className:"h-12 w-12 animate-spin"})});if(!n)return o.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:o.jsx("p",{children:"No se encontr el plan fsico."})});const $=_();return o.jsxs("div",{className:"container mx-auto p-6 max-w-5xl",children:[o.jsxs(B,{variant:"ghost",onClick:()=>r("/planes-fisicos"),className:"mb-4",children:[o.jsx(vt,{className:"h-4 w-4 mr-2"}),"Volver"]}),o.jsxs(Y,{className:"mb-6",children:[o.jsxs(oe,{children:[o.jsx(ae,{className:"text-2xl",children:n.titulo}),o.jsx("p",{className:"text-muted-foreground",children:n.tipo_prueba})]}),o.jsxs(J,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Descripcin"}),o.jsx("p",{className:"text-muted-foreground",children:n.descripcion||"-"})]}),o.jsx(Nt,{}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(Fr,{className:"h-4 w-4"}),o.jsxs("span",{children:[St(new Date(n.fecha_inicio),"dd/MM/yyyy",{locale:Nn})," "," ",St(new Date(n.fecha_fin),"dd/MM/yyyy",{locale:Nn})]})]}),o.jsx(Nt,{}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Avance total"}),o.jsx(Br,{value:g*100,className:"h-2 mb-2"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[Math.round(g*100),"% completado"]})]}),l&&o.jsxs(o.Fragment,{children:[o.jsx(Nt,{}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Resumen IA"}),o.jsx("p",{className:"text-muted-foreground",children:l})]})]})]})]}),o.jsxs(Y,{children:[o.jsx(oe,{children:o.jsx(ae,{children:"Plan de Entrenamiento (semanas)"})}),o.jsx(J,{children:o.jsx(Dc,{type:"single",collapsible:!0,className:"w-full",children:Array.from({length:$}).map((L,D)=>{const E=a[D],T=D+1;return o.jsxs(Ci,{value:`semana-${D}`,children:[o.jsx(Ei,{children:E?`${E.titulo||`Semana ${T}`} (${St(new Date(E.fecha_inicio||""),"dd/MM/yyyy",{locale:Nn})}  ${St(new Date(E.fecha_fin||""),"dd/MM/yyyy",{locale:Nn})})`:`Semana ${T} (sin generar)`}),o.jsx(Pi,{children:o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(al,{checked:h[D]||!1,onCheckedChange:O=>P(D,O)}),o.jsxs("span",{className:"text-sm",children:["Marcar semana ",T," como completada"]})]}),v===D?o.jsx(rt,{className:"h-4 w-4 animate-spin"}):o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>S(D),children:[o.jsx(Gi,{className:"h-4 w-4 mr-2"}),E?"Regenerar":"Generar"," con IA"]})]}),E?o.jsxs(o.Fragment,{children:[E.resumen&&o.jsxs("div",{className:"p-3 bg-muted rounded",children:[o.jsx("h4",{className:"font-semibold mb-1",children:"Foco semanal"}),o.jsx("p",{className:"text-sm",children:E.resumen})]}),E.glosario&&E.glosario.length>0&&o.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950 rounded border",children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Glosario"}),E.glosario.map((O,M)=>o.jsxs("div",{className:"mb-2",children:[o.jsx("p",{className:"font-medium text-sm",children:O.termino}),o.jsx("p",{className:"text-sm text-muted-foreground",children:O.significado})]},M))]}),Array.isArray(E.sesiones)&&E.sesiones.map((O,M)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-bold text-lg",children:O.dia||`Sesin ${M+1}`}),Array.isArray(O.bloques)&&O.bloques.map((C,R)=>o.jsxs("div",{className:"border-l-4 border-primary pl-4 space-y-2",children:[o.jsx("h5",{className:"font-semibold",children:C.tipo||`Bloque ${R+1}`}),C.descripcion&&o.jsx("p",{className:"text-sm text-muted-foreground",children:C.descripcion}),C.explicacion_neofita&&o.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded",children:o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-medium",children:"Explicacin fcil:"})," ",C.explicacion_neofita]})}),Array.isArray(C.ejercicios)&&C.ejercicios.map((F,A)=>k(F,A,C.tipo,D,O.dia||`Dia${M+1}`,R))]},R))]},M))]}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:'Esta semana an no ha sido generada. Haz clic en "Generar con IA" para crearla.'})]})})]},D)})})})]})]})}var Gg="Radio",[Q8,KC]=Et(Gg),[J8,X8]=Q8(Gg),YC=f.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:i,value:l="on",onCheck:c,form:u,...d}=e,[h,p]=f.useState(null),g=ie(t,b=>p(b)),w=f.useRef(!1),v=h?u||!!h.closest("form"):!0;return o.jsxs(J8,{scope:r,checked:s,disabled:i,children:[o.jsx(Q.button,{type:"button",role:"radio","aria-checked":s,"data-state":XC(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:g,onClick:H(e.onClick,b=>{s||c==null||c(),v&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),v&&o.jsx(Z8,{control:h,bubbles:!w.current,name:n,value:l,checked:s,required:a,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});YC.displayName=Gg;var QC="RadioIndicator",JC=f.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,a=X8(QC,r);return o.jsx(st,{present:n||a.checked,children:o.jsx(Q.span,{"data-state":XC(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});JC.displayName=QC;var Z8=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=f.useRef(null),i=xg(r),l=Bm(t);return f.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&h){const p=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(p)}},[i,r,n]),o.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function XC(e){return e?"checked":"unchecked"}var eU=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Kg="RadioGroup",[tU,iB]=Et(Kg,[Wa,KC]),ZC=Wa(),eE=KC(),[rU,nU]=tU(Kg),tE=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...p}=e,g=ZC(r),w=xo(u),[v,b]=Jt({prop:a,defaultProp:s,onChange:h});return o.jsx(rU,{scope:r,name:n,required:i,disabled:l,value:v,onValueChange:b,children:o.jsx(ig,{asChild:!0,...g,orientation:c,dir:w,loop:d,children:o.jsx(Q.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...p,ref:t})})})});tE.displayName=Kg;var rE="RadioGroupItem",nE=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,a=nU(rE,r),i=a.disabled||n,l=ZC(r),c=eE(r),u=f.useRef(null),d=ie(t,u),h=a.value===s.value,p=f.useRef(!1);return f.useEffect(()=>{const g=v=>{eU.includes(v.key)&&(p.current=!0)},w=()=>p.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",w)}},[]),o.jsx(lg,{asChild:!0,...l,focusable:!i,active:h,children:o.jsx(YC,{disabled:i,required:a.required,checked:h,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:H(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:H(s.onFocus,()=>{var g;p.current&&((g=u.current)==null||g.click())})})})});nE.displayName=rE;var sU="RadioGroupIndicator",sE=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=eE(r);return o.jsx(JC,{...s,...n,ref:t})});sE.displayName=sU;var oE=tE,aE=nE,oU=sE;const iE=f.forwardRef(({className:e,...t},r)=>o.jsx(oE,{className:W("grid gap-2",e),...t,ref:r}));iE.displayName=oE.displayName;const lE=f.forwardRef(({className:e,...t},r)=>o.jsx(aE,{ref:r,className:W("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(oU,{className:"flex items-center justify-center",children:o.jsx(zb,{className:"h-2.5 w-2.5 fill-current text-current"})})}));lE.displayName=aE.displayName;const aU=vo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Tp=f.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:W(aU({variant:t}),e),...r}));Tp.displayName="Alert";const iU=f.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:W("mb-1 font-medium leading-none tracking-tight",e),...t}));iU.displayName="AlertTitle";const Rp=f.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:W("text-sm [&_p]:leading-relaxed",e),...t}));Rp.displayName="AlertDescription";const lU="https://oposiciones-test.com/api/generar_personalidad.php";function cU(e){return 6-e}function Bx(e){return(e-1)/4*100}const fr=e=>e<35?"Bajo":e<65?"Medio":"Alto";function uU(){const{user:e}=Ke(),{toast:t}=Xt(),r=(e==null?void 0:e.id)||null,n=(e==null?void 0:e.username)||null,[s,a]=f.useState(!0),[i,l]=f.useState(null),[c,u]=f.useState({}),[d,h]=f.useState(!1),p=f.useMemo(()=>`personalidad_${r||"anon"}_v1`,[r]);f.useEffect(()=>{let _=!0;return(async()=>{try{const P=await(await fetch(lU)).json();if(!_)return;l(P);const I=localStorage.getItem(p);if(I)try{const k=JSON.parse(I);(k==null?void 0:k.version)===P.version&&typeof(k==null?void 0:k.respuestas)=="object"&&u(k.respuestas)}catch{}}catch{t({title:"Error",description:"No se pudo cargar el test de personalidad",variant:"destructive"})}finally{_&&a(!1)}})(),()=>{_=!1}},[p,t]),f.useEffect(()=>{if(i){const _={version:i.version,respuestas:c};try{localStorage.setItem(p,JSON.stringify(_))}catch{}}},[c,i,p]);const g=f.useMemo(()=>Object.keys(c).length,[c]),w=(_,S)=>{u(P=>({...P,[_]:S}))},v=f.useMemo(()=>{if(!i)return null;const _=["EE","AI","TE","DC","IR","OS"],S={};_.forEach(O=>S[O]={n:0,total:0});const P=[37,38,39];let I=0,k=0;for(const O of i.items){const M=c[O.id];if(!M)continue;let C=M;O.invertido&&O.factor!=="IP"&&(C=cU(C)),_.includes(O.factor)&&(S[O.factor].n++,S[O.factor].total+=C),P.includes(O.id)&&(k++,I+=M)}const $={};_.forEach(O=>{const M=S[O].n?S[O].total/S[O].n:0;$[O]={media:M,score0_100:Bx(M)}});const L=k?I/k:0,D=Bx(L),E=i.pares_inconsistencia.map(([O,M])=>{const C=c[O],R=c[M],F=C&&R?Math.abs(C-R):null,A=F!==null&&F>2;return{a:O,b:M,ra:C,rb:R,diff:F,bandera:A}}),T=E.filter(O=>O.bandera).length;return{subescalas:$,validez:{IP_media:L,IP_score:D,INC_banderas:T},incDetalles:E}},[i,c]),b=()=>{if(i){if(g<i.items.length){const _=i.items.length-g;t({title:"Incompleto",description:`Te quedan ${_} tems por responder.`,variant:"destructive"});return}h(!0),t({title:"Completado",description:"Test finalizado. Se muestra tu perfil."})}},y=(_=new Date)=>{const S=P=>String(P).padStart(2,"0");return`${S(_.getDate())}/${S(_.getMonth()+1)}/${_.getFullYear()} ${S(_.getHours())}:${S(_.getMinutes())}`},m=()=>{if(!v||!i)return"";const _=v.subescalas,S=(v.incDetalles||[]).filter(P=>P.bandera);return`
<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>Informe IPF-B</title>
<style>
  body{ font-family: -apple-system,Segoe UI,Roboto,Helvetica,Arial; color:#222; margin:40px; }
  h1{ color:#374fc7; font-size:20px; margin:0 0 8px; }
  h2{ color:#2b437d; font-size:16px; margin:16px 0 6px; }
  .muted{ color:#666; font-size:12px; }
  .block{ margin:6px 0; }
  .line{ margin:2px 0; }
  .small{ font-size:12px; }
</style>
</head>
<body>
  <h1>Test de Personalidad (IPF-B)</h1>
  <div class="muted">${y()}</div>
  <div class="muted">${n?`Usuario: ${n}  `:""}${r?`ID: ${r}  `:""}Versin: ${i.version}</div>

  <h2>Resultados (0100)</h2>
  <div class="block">
    <div class="line">EE  Estabilidad emocional: <b>${_.EE.score0_100.toFixed(1)}/100</b> <i>(${fr(_.EE.score0_100)})</i></div>
    <div class="line">AI  Autocontrol/Impulsividad: <b>${_.AI.score0_100.toFixed(1)}/100</b> <i>(${fr(_.AI.score0_100)})</i></div>
    <div class="line">TE  Trabajo en equipo: <b>${_.TE.score0_100.toFixed(1)}/100</b> <i>(${fr(_.TE.score0_100)})</i></div>
    <div class="line">DC  Disciplina/Cumplimiento: <b>${_.DC.score0_100.toFixed(1)}/100</b> <i>(${fr(_.DC.score0_100)})</i></div>
    <div class="line">IR  Iniciativa/Resolucin: <b>${_.IR.score0_100.toFixed(1)}/100</b> <i>(${fr(_.IR.score0_100)})</i></div>
    <div class="line">OS  Orientacin al servicio: <b>${_.OS.score0_100.toFixed(1)}/100</b> <i>(${fr(_.OS.score0_100)})</i></div>
  </div>

  <h2>Validez</h2>
  <div class="block">
    <div class="line">Impresin positiva (IP)  media: <b>${v.validez.IP_media.toFixed(2)}</b>  score: <b>${v.validez.IP_score.toFixed(1)}/100</b></div>
    <div class="line">Inconsistencia (pares &gt; 2): <b>${v.validez.INC_banderas}</b></div>
    ${S.length?`
      <div class="small" style="margin-top:6px;">
        <div><i>Pares con diferencia &gt; 2:</i></div>
        ${S.map(P=>`<div class="line">- tems (${P.a}, ${P.b}): ${P.ra} vs ${P.rb}  dif: ${P.diff}</div>`).join("")}
      </div>
    `:""}
  </div>

  <h2>Interpretacin rpida</h2>
  <div class="small">
    <div>EE  Calma y recuperacin ante estrs.</div>
    <div>AI  Control de impulsos y previsin.</div>
    <div>TE  Cooperacin y coordinacin.</div>
    <div>DC  Adhesin a normas y cadena de mando.</div>
    <div>IR  Proactividad y priorizacin.</div>
    <div>OS  Trato, comunicacin y empata.</div>
    <div>IP  Si muy alto, posible deseabilidad social.</div>
    <div>INC  Si 4 pares inconsistentes, revisar respuestas.</div>
  </div>
</body>
</html>
    `.trim()},x=()=>{if(!v||!i){t({title:"Aviso",description:"Finaliza el test para generar el informe."});return}const _=m(),S=window.open("","_blank");if(!S){t({title:"Aviso",description:"Permite las ventanas emergentes para descargar el PDF."});return}S.document.open(),S.document.write(_),S.document.close(),setTimeout(()=>{S.focus(),S.print()},300)};if(s||!i)return o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx(rt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Cargando test de personalidad..."})]})});const j=["1","2","3","4","5"],N=g/i.items.length*100;return o.jsx("div",{className:"container mx-auto py-8 px-4 max-w-5xl",children:o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsx(ae,{children:"Test de Personalidad (IPF-B)"}),o.jsx(Le,{children:"Marca una opcin por afirmacin (1 = Totalmente en desacuerdo  5 = Totalmente de acuerdo)"})]}),o.jsxs(J,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mb-1",children:[o.jsxs("span",{children:["Contestadas: ",g," / ",i.items.length]}),o.jsxs("span",{children:[N.toFixed(0),"%"]})]}),o.jsx(Br,{value:N})]}),o.jsx("div",{className:"space-y-6",children:i.items.map(_=>{var S;return o.jsxs("div",{className:"space-y-3 pb-4 border-b last:border-0",children:[o.jsxs("p",{className:"font-medium",children:[_.id,". ",_.texto]}),o.jsx(iE,{value:((S=c[_.id])==null?void 0:S.toString())||"",onValueChange:P=>w(_.id,Number(P)),className:"flex gap-4",children:j.map(P=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(lE,{value:P,id:`${_.id}-${P}`}),o.jsx(ce,{htmlFor:`${_.id}-${P}`,className:"cursor-pointer",children:P})]},P))})]},_.id)})}),o.jsxs(B,{onClick:b,className:"w-full",size:"lg",children:[o.jsx(cu,{className:"mr-2 h-5 w-5"}),"Finalizar y ver perfil"]}),d&&v&&o.jsxs("div",{className:"space-y-6 mt-8",children:[o.jsxs(Y,{className:"bg-muted/50",children:[o.jsx(oe,{children:o.jsx(ae,{className:"text-lg",children:"Tu perfil"})}),o.jsxs(J,{className:"space-y-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"EE (Estabilidad emocional):"}),o.jsxs("span",{className:"font-semibold",children:[v.subescalas.EE.score0_100.toFixed(1)," / 100"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"AI (Autocontrol/Impulsividad):"}),o.jsxs("span",{className:"font-semibold",children:[v.subescalas.AI.score0_100.toFixed(1)," / 100"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"TE (Trabajo en equipo):"}),o.jsxs("span",{className:"font-semibold",children:[v.subescalas.TE.score0_100.toFixed(1)," / 100"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"DC (Disciplina/Cumplimiento):"}),o.jsxs("span",{className:"font-semibold",children:[v.subescalas.DC.score0_100.toFixed(1)," / 100"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"IR (Iniciativa/Resolucin):"}),o.jsxs("span",{className:"font-semibold",children:[v.subescalas.IR.score0_100.toFixed(1)," / 100"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"OS (Orientacin al servicio):"}),o.jsxs("span",{className:"font-semibold",children:[v.subescalas.OS.score0_100.toFixed(1)," / 100"]})]})]}),o.jsx(Nt,{className:"my-4"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("p",{children:["Validez  IP media: ",v.validez.IP_media.toFixed(2),"  IP score: ",v.validez.IP_score.toFixed(1)," / 100"]}),o.jsxs("p",{className:"flex items-center gap-2",children:["Validez  Inconsistencia (pares ",">"," 2): ",v.validez.INC_banderas,v.validez.INC_banderas>=4&&o.jsx(h2,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-muted-foreground",children:v.validez.INC_banderas>=4?"Alta (revisar respuestas)":v.validez.INC_banderas===3?"En el lmite":"Correcta"})]})]})]})]}),o.jsxs(Y,{children:[o.jsx(oe,{children:o.jsx(ae,{className:"text-lg",children:"Cmo interpretar tu perfil"})}),o.jsxs(J,{className:"space-y-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"EE  Estabilidad emocional: "}),o.jsx("span",{className:"font-bold",children:fr(v.subescalas.EE.score0_100)}),o.jsx("span",{className:"text-muted-foreground",children:"  Mantener calma y recuperarse del estrs."})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"AI  Autocontrol/Impulsividad: "}),o.jsx("span",{className:"font-bold",children:fr(v.subescalas.AI.score0_100)}),o.jsx("span",{className:"text-muted-foreground",children:"  Control de impulsos y previsin."})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"TE  Trabajo en equipo: "}),o.jsx("span",{className:"font-bold",children:fr(v.subescalas.TE.score0_100)}),o.jsx("span",{className:"text-muted-foreground",children:"  Cooperacin y coordinacin."})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"DC  Disciplina/Cumplimiento: "}),o.jsx("span",{className:"font-bold",children:fr(v.subescalas.DC.score0_100)}),o.jsx("span",{className:"text-muted-foreground",children:"  Adhesin a normas y cadena de mando."})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"IR  Iniciativa/Resolucin: "}),o.jsx("span",{className:"font-bold",children:fr(v.subescalas.IR.score0_100)}),o.jsx("span",{className:"text-muted-foreground",children:"  Proactividad y priorizacin."})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"OS  Orientacin al servicio: "}),o.jsx("span",{className:"font-bold",children:fr(v.subescalas.OS.score0_100)}),o.jsx("span",{className:"text-muted-foreground",children:"  Trato, comunicacin y empata."})]}),o.jsx(Nt,{className:"my-4"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Tp,{variant:v.validez.IP_media>=4.3?"destructive":"default",children:o.jsxs(Rp,{children:["Validez  Impresin positiva (IP): ",v.validez.IP_media.toFixed(2)," (media 15)."," ",v.validez.IP_media>=4.3?"Posible deseabilidad social.":"Respuesta natural."]})}),Array.isArray(v.incDetalles)&&v.incDetalles.some(_=>_.bandera)&&o.jsx(Tp,{variant:"destructive",children:o.jsxs(Rp,{children:[o.jsxs("div",{className:"font-medium mb-2",children:["Pares con diferencia ",">"," 2:"]}),v.incDetalles.filter(_=>_.bandera).map((_,S)=>o.jsxs("div",{className:"text-xs",children:["tems (",_.a,", ",_.b,"): ",_.ra," vs ",_.rb,"  dif: ",_.diff]},S))]})})]}),o.jsxs(B,{onClick:x,variant:"outline",className:"w-full mt-4",children:[o.jsx(e2,{className:"mr-2 h-4 w-4"}),"Descargar informe (PDF)"]})]})]})]})]})]})})}const dU=({onStartQuiz:e,onBack:t,initialType:r="simulacion",isPsicotecnico:n=!1,initialProceso:s,initialTemas:a,initialSecciones:i})=>{const{toast:l}=Xt(),{user:c}=Ke(),[u,d]=f.useState(!1),[h,p]=f.useState([]),[g,w]=f.useState(null),[v,b]=f.useState([]),[y,m]=f.useState([]),[x,j]=f.useState([]),[N,_]=f.useState([]),[S,P]=f.useState("50"),[I,k]=f.useState("30"),[$,L]=f.useState(r),[D,E]=f.useState(!0);f.useEffect(()=>{T()},[]),f.useEffect(()=>{if(D&&h.length>0&&s){const A=parseInt(s);isNaN(A)||w(A),E(!1)}},[h,s,D]),f.useEffect(()=>{if(i&&v.length>0&&y.length===0){const z=i.split(",").map(G=>G.trim()).filter(G=>v.includes(G));z.length>0&&m(z)}},[v,i]),f.useEffect(()=>{if(a&&x.length>0&&N.length===0){const z=a.split(",").map(G=>G.trim()).filter(G=>x.includes(G));z.length>0&&_(z)}},[x,a]),f.useEffect(()=>{g?O():(b([]),j([]),m([]),_([]))},[g]),f.useEffect(()=>{g&&y.length>0?M():y.length===0&&(j([]),a||_([]))},[y]);const T=async()=>{try{d(!0);const A=await be.getProcesos();p(A)}catch{l({variant:"destructive",title:"Error",description:"No se pudieron cargar los procesos"})}finally{d(!1)}},O=async()=>{if(g)try{d(!0);const A=await be.getSeccionesYTemas(g);A.success&&b(A.secciones||[])}catch{l({variant:"destructive",title:"Error",description:"No se pudieron cargar las secciones"})}finally{d(!1)}},M=async()=>{if(!(!g||y.length===0))try{d(!0);const A=await Promise.all(y.map(G=>be.getTemasPorSeccion(g,G))),z=[...new Set(A.flat())].filter(G=>{const ee=/^(pisco|psico)\s*-\s*/i.test(G);return n?ee:!ee});j(z),_([])}catch{l({variant:"destructive",title:"Error",description:"No se pudieron cargar los temas"})}finally{d(!1)}},C=A=>{m(z=>z.includes(A)?z.filter(G=>G!==A):[...z,A])},R=A=>{_(z=>z.includes(A)?z.filter(G=>G!==A):[...z,A])},F=async()=>{if(!g){l({variant:"destructive",title:"Error",description:"Selecciona un proceso"});return}if(y.length===0){l({variant:"destructive",title:"Error",description:"Selecciona al menos una seccin"});return}if(N.length===0){l({variant:"destructive",title:"Error",description:"Selecciona al menos un tema"});return}const A=parseInt(S),z=parseInt(I);if(isNaN(A)||A<=0){l({variant:"destructive",title:"Error",description:"Nmero de preguntas invlido"});return}if(isNaN(z)||z<=0){l({variant:"destructive",title:"Error",description:"Minutos invlidos"});return}if(c){const G=y.slice().sort().join(","),ee=N.slice().sort().join(","),me=`${g}_${G}_${ee}_${A}`;try{const te=await be.recuperarProgreso(c.id,me);te.ok&&te.data&&(window.confirm(`Tienes un test sin finalizar con estos parmetros. Quieres continuar donde lo dejaste?

Aceptar: Continuar
Cancelar: Empezar de cero`)||await be.eliminarProgreso(c.id,me))}catch(te){console.error("Error verificando progreso:",te)}}e({proceso_id:g,secciones:y,temas:N,numPreguntas:A,minutos:z,tipo:$})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsxs(B,{variant:"ghost",onClick:t,className:"mr-4",children:[o.jsx(vt,{className:"w-4 h-4 mr-2"}),"Volver"]}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:n?"Configurar Test Psicotcnico":"Configurar Test"})]}),o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsxs(ae,{className:"flex items-center",children:[o.jsx(_t,{className:"w-6 h-6 mr-2 text-primary"}),n?"Configura tu test psicotcnico":"Configura tu test personalizado"]}),o.jsx(Le,{children:n?"Selecciona el proceso, secciones y temas psicotcnicos para empezar a practicar":"Selecciona el proceso, secciones y temas para empezar a practicar"})]}),o.jsxs(J,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"proceso",children:"Proceso / Manual"}),o.jsxs(zr,{value:g==null?void 0:g.toString(),onValueChange:A=>w(parseInt(A)),disabled:u,children:[o.jsx(xr,{id:"proceso",children:o.jsx(Ur,{placeholder:"Selecciona un proceso"})}),o.jsx(wr,{children:h.map(A=>o.jsx(br,{value:A.id.toString(),children:A.descripcion},A.id))})]})]}),g&&o.jsxs(o.Fragment,{children:[o.jsx(Nt,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ce,{children:"Secciones (selecciona varias)"}),u?o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx(rt,{className:"w-6 h-6 animate-spin text-primary"})}):o.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(A=>o.jsx(ze,{variant:y.includes(A)?"default":"outline",className:"cursor-pointer hover:opacity-80 px-3 py-2",onClick:()=>C(A),children:A},A))})]})]}),y.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(Nt,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ce,{children:"Temas (de esas secciones)"}),u?o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx(rt,{className:"w-6 h-6 animate-spin text-primary"})}):o.jsx("div",{className:"flex flex-wrap gap-2 max-h-64 overflow-y-auto",children:x.map(A=>o.jsx(ze,{variant:N.includes(A)?"default":"outline",className:"cursor-pointer hover:opacity-80 px-3 py-2",onClick:()=>R(A),children:A},A))})]}),o.jsx(Nt,{}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"numPreguntas",children:"Nmero de preguntas"}),o.jsx(je,{id:"numPreguntas",type:"number",min:"1",value:S,onChange:A=>P(A.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ce,{htmlFor:"minutos",children:"Minutos"}),o.jsx(je,{id:"minutos",type:"number",min:"1",value:I,onChange:A=>k(A.target.value)})]})]}),o.jsxs(B,{onClick:F,className:"w-full",size:"lg",disabled:u||N.length===0,children:[o.jsx(c2,{className:"w-5 h-5 mr-2"}),"Comenzar Test"]})]})]})]}),o.jsxs("div",{className:"mt-8 bg-white rounded-lg p-6 shadow-lg",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(_a,{className:"w-5 h-5 mr-2 text-primary"}),"Consejos para el Test"]}),o.jsxs("div",{className:"space-y-2 text-gray-600",children:[o.jsx("p",{children:" Selecciona mltiples secciones y temas para una prctica ms completa"}),$==="simulacion"?o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Modo Simulacin:"})," Ver respuestas y explicaciones inmediatamente"]}),o.jsx("p",{children:" El cronmetro se pausa al mostrar las explicaciones"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Modo Examen:"})," Simula condiciones reales con tiempo cronometrado"]}),o.jsx("p",{children:" El cronmetro NO se detiene, finaliza automticamente al acabar el tiempo"})]}),o.jsx("p",{children:" Tu progreso se guarda automticamente para continuar ms tarde"})]})]})]})})},fU=({config:e,onComplete:t,onExit:r})=>{var Qr;const[n,s]=f.useState([]),[a,i]=f.useState(!0),[l,c]=f.useState(0),[u,d]=f.useState(null),[h,p]=f.useState(!1),[g,w]=f.useState(0),[v,b]=f.useState(e.minutos*60),[y,m]=f.useState(!0),[x]=f.useState(Date.now()),[j,N]=f.useState({}),[_,S]=f.useState([]),[P,I]=f.useState(""),[k,$]=f.useState(null),[L,D]=f.useState(""),[E,T]=f.useState(""),[O,M]=f.useState(!1),{toast:C}=Xt(),{user:R}=Ke(),F=R==null?void 0:R.id,A=(R==null?void 0:R.nivel)==="admin",z=n[l],G=n.length>0?(l+1)/n.length*100:0;f.useEffect(()=>{ee()},[]),f.useEffect(()=>{n.length>0&&z&&ve()},[l,n]),f.useEffect(()=>{if(y&&v>0&&n.length>0){if(e.tipo==="examen"||!h){const Z=setTimeout(()=>b(v-1),1e3);return()=>clearTimeout(Z)}}else v===0&&n.length>0&&(e.tipo==="examen"?we():K(null))},[v,y,h,n,e.tipo]),f.useEffect(()=>{if(R&&n.length>0){const Z=setInterval(()=>{te()},3e4);return()=>clearInterval(Z)}},[l,j,v,R,n]);const ee=async()=>{try{i(!0);const Z=await be.getPreguntas({id_proceso:e.proceso_id,secciones:e.secciones,temas:e.temas,numPreguntas:e.numPreguntas});if(Z.length===0){C({variant:"destructive",title:"Error",description:"No se encontraron preguntas con los criterios seleccionados"}),r();return}s(Z),R&&await me(Z)}catch{C({variant:"destructive",title:"Error",description:"No se pudieron cargar las preguntas"}),r()}finally{i(!1)}},me=async Z=>{if(!R)return;const ue=e.secciones.slice().sort().join(","),ke=e.temas.slice().sort().join(","),ct=`${e.proceso_id}_${ue}_${ke}_${e.numPreguntas}`;try{const ot=await be.recuperarProgreso(R.id,ct);if(ot.ok&&ot.data){c(ot.data.actual),b(ot.data.tiempo_restante);const Cr=JSON.parse(ot.data.respuestas||"{}");N(Cr);let Bn=0;Object.entries(Cr).forEach(([Zt,Er])=>{const Je=Z[parseInt(Zt)];Je&&Er===Je.correcta_indice&&Bn++}),w(Bn)}}catch(ot){console.error("Error al recuperar progreso:",ot)}},te=async()=>{if(!R||n.length===0)return;const Z=e.secciones.slice().sort().join(","),ue=e.temas.slice().sort().join(","),ke=`${e.proceso_id}_${Z}_${ue}_${e.numPreguntas}`;try{await be.guardarProgreso({user_id:R.id,test_key:ke,actual:l,respuestas:Object.values(j),tiempo_restante:v,preguntas:n.map(ct=>ct.id)})}catch(ct){console.error("Error al guardar progreso:",ct)}},K=Z=>{d(Z),p(!0),m(!1),Z===z.correcta_indice&&w(g+1),N(ue=>({...ue,[l]:Z||""}))},xe=async()=>{await te(),l<n.length-1?(c(l+1),d(null),p(!1),m(!0)):ge()},we=async()=>{m(!1),C({title:"Tiempo agotado!",description:"El examen ha finalizado automticamente",variant:"destructive"});let Z=g;const ue={...j};!u&&z&&(ue[l]="");const ke=[],ct=[];n.forEach((Je,Jr)=>{const Lt=ue[Jr],_o=Lt===Je.correcta_indice,$l={id:Je.id,pregunta:Je.pregunta,respuesta_usuario:Lt||"Sin responder",correcta_indice:Je.correcta_indice};_o?ke.push($l):ct.push($l)});const ot=ke.length,Cr=ct.length,Bn=(ot/n.length*10).toFixed(2),Zt=Math.round((Date.now()-x)/1e3),Er={totalQuestions:n.length,correctAnswers:Z,totalTime:Zt,percentage:Math.round(Z/n.length*100),perfectScore:Z===n.length,timeOut:!0};if(R){try{await be.guardarTestRealizado({user_id:R.id,id_proceso:e.proceso_id,tipo_test:e.tipo,secciones:e.secciones.join(","),temas:e.temas.join(","),num_preguntas:n.length,tiempo:e.minutos*60,tiempo_restante:0,aciertos:ot,fallos:Cr,respuestas:j,preguntas_acertadas:ke,preguntas_falladas:ct,nota:Bn})}catch(_o){console.error("Error al guardar test realizado:",_o)}const Je=e.secciones.slice().sort().join(","),Jr=e.temas.slice().sort().join(","),Lt=`${e.proceso_id}_${Je}_${Jr}_${e.numPreguntas}`;await be.eliminarProgreso(R.id,Lt)}t(Er)},ge=async()=>{const Z=Math.round((Date.now()-x)/1e3);e.minutos*60-v;const ue=[],ke=[];n.forEach((Zt,Er)=>{const Je=j[Er],Jr=Je===Zt.correcta_indice,Lt={id:Zt.id,pregunta:Zt.pregunta,respuesta_usuario:Je||"Sin responder",correcta_indice:Zt.correcta_indice};Jr?ue.push(Lt):ke.push(Lt)});const ct=ue.length,ot=ke.length,Cr=(ct/n.length*10).toFixed(2),Bn={totalQuestions:n.length,correctAnswers:g,totalTime:Z,percentage:Math.round(g/n.length*100),perfectScore:g===n.length};if(R){try{await be.guardarTestRealizado({user_id:R.id,id_proceso:e.proceso_id,tipo_test:e.tipo,secciones:e.secciones.join(","),temas:e.temas.join(","),num_preguntas:n.length,tiempo:e.minutos*60,tiempo_restante:v,aciertos:ct,fallos:ot,respuestas:j,preguntas_acertadas:ue,preguntas_falladas:ke,nota:Cr})}catch(Jr){console.error("Error al guardar test realizado:",Jr)}const Zt=e.secciones.slice().sort().join(","),Er=e.temas.slice().sort().join(","),Je=`${e.proceso_id}_${Zt}_${Er}_${e.numPreguntas}`;await be.eliminarProgreso(R.id,Je)}t(Bn)},Ne=Z=>{const ue=Math.floor(Z/60),ke=Z%60;return`${ue}:${ke.toString().padStart(2,"0")}`},ve=async()=>{if(!(z!=null&&z.id))return;const Z=await be.getComentarios(z.id);S(Z)},ft=async()=>{if(!P.trim()||!F||!z)return;const Z=await be.addComentario({id_proceso:e.proceso_id,id_usuario:F,id_pregunta:z.id,tipo:"pregunta",comentario:P.trim()});Z.success?(I(""),ve(),C({title:"Comentario aadido"})):C({title:"Error",description:Z.error,variant:"destructive"})},Pt=async Z=>{if(!L.trim())return;(await be.updateComentario(Z,L.trim(),(R==null?void 0:R.nivel)||"")).success?($(null),D(""),ve(),C({title:"Comentario actualizado"})):C({title:"Error al actualizar",variant:"destructive"})},Yr=async Z=>{if(!confirm("Eliminar este comentario?"))return;(await be.deleteComentario(Z,(R==null?void 0:R.nivel)||"")).success?(ve(),C({title:"Comentario eliminado"})):C({title:"Error al eliminar",variant:"destructive"})},$t=async()=>{if(!(!z||!u)){M(!0),T("");try{const Z=await be.getProfesorExplicacion({pregunta:z.pregunta,respuestas:z.respuestas,correcta:z.correcta_indice,elegida:u});Z.success&&Z.explicacion?T(Z.explicacion):C({title:"Error",description:Z.error||"Error al obtener explicacin",variant:"destructive"})}catch{C({title:"Error",description:"Error al conectar con el profesor virtual",variant:"destructive"})}finally{M(!1)}}};return a?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(rt,{className:"w-12 h-12 animate-spin text-primary mx-auto mb-4"}),o.jsx("p",{className:"text-lg text-gray-600",children:"Cargando preguntas..."})]})}):n.length===0?null:o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs(B,{variant:"ghost",onClick:r,children:[o.jsx(vt,{className:"w-4 h-4 mr-2"}),"Salir del Test"]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[e.tipo==="examen"&&o.jsx(ze,{variant:"destructive",className:"text-sm font-semibold",children:"MODO EXAMEN"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(_a,{className:"w-5 h-5 text-orange-600"}),o.jsx("span",{className:`text-lg font-bold ${v<=60?"text-red-600 animate-pulse":"text-gray-700"}`,children:Ne(v)})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[l+1," / ",n.length]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx(Br,{value:G,className:"h-2"}),o.jsxs("div",{className:"text-center mt-2 text-sm text-gray-600",children:["Progreso: ",Math.round(G),"%"]})]}),o.jsxs(Y,{className:"mb-8",children:[o.jsx(oe,{children:o.jsx(ae,{className:"text-xl leading-relaxed",children:z.pregunta})}),o.jsx(J,{children:o.jsx("div",{className:"space-y-3",children:z.respuestas.map(Z=>{const ue=u===Z.indice,ke=Z.indice===z.correcta_indice,ct=h;let ot="w-full justify-start text-left";return ct&&(ue&&ke?ot+=" bg-green-100 border-green-500 hover:bg-green-100":ue&&!ke?ot+=" bg-red-100 border-red-500 hover:bg-red-100":ke&&(ot+=" bg-green-50 border-green-300")),o.jsxs(B,{variant:ue?"default":"outline",className:ot,onClick:()=>!h&&K(Z.indice),disabled:h,children:[o.jsxs("span",{className:"font-bold mr-2 text-blue-600",children:[String.fromCharCode(64+parseInt(Z.indice)),"."]}),o.jsx("span",{className:"flex-1",children:Z.respuesta}),ct&&ke&&o.jsx(cu,{className:"w-5 h-5 text-green-600 ml-2"}),ct&&ue&&!ke&&o.jsx(Uh,{className:"w-5 h-5 text-red-600 ml-2"})]},Z.indice)})})})]}),h&&o.jsx(Y,{className:"mb-8 bg-blue-50 border-blue-200",children:o.jsx(J,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:u===z.correcta_indice?o.jsx(cu,{className:"w-6 h-6 text-green-600"}):o.jsx(Uh,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:u===z.correcta_indice?"Correcto!":"Incorrecto"}),o.jsxs("p",{className:"text-gray-700",children:["La respuesta correcta es: ",String.fromCharCode(64+parseInt(z.correcta_indice)),". ",(Qr=z.respuestas.find(Z=>Z.indice===z.correcta_indice))==null?void 0:Qr.respuesta]})]})]})})}),h&&o.jsx("div",{className:"text-center",children:o.jsx(B,{onClick:xe,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:l<n.length-1?"Siguiente Pregunta":"Finalizar Test"})}),o.jsx("div",{className:"text-center mt-8",children:o.jsxs("div",{className:"text-lg text-gray-600",children:["Puntuacin actual: ",o.jsxs("span",{className:"font-bold text-blue-600",children:[g,"/",l+(h?1:0)]})]})}),u&&o.jsxs(Y,{className:"mt-8",children:[o.jsx(oe,{children:o.jsxs(ae,{className:"flex items-center gap-2",children:[o.jsx(i2,{className:"h-5 w-5"}),"Comentarios"]})}),o.jsx(J,{children:o.jsxs("div",{className:"space-y-4",children:[_.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:"No hay comentarios an"}):_.map(Z=>{var ue;return o.jsx("div",{className:"border-b pb-3 last:border-b-0",children:k===Z.id?o.jsxs("div",{className:"space-y-2",children:[o.jsx(co,{value:L,onChange:ke=>D(ke.target.value),rows:3}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(B,{size:"sm",onClick:()=>Pt(Z.id),children:"Guardar"}),o.jsx(B,{size:"sm",variant:"outline",onClick:()=>$(null),children:"Cancelar"})]})]}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-sm",children:Z.username||"Usuario"}),o.jsx("p",{className:"text-sm mt-1",children:Z.comentario}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:(ue=Z.fecha)==null?void 0:ue.substring(0,16).replace("T"," ")})]}),A&&o.jsxs("div",{className:"flex gap-1 ml-2",children:[o.jsx(B,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>{$(Z.id),D(Z.comentario)},children:o.jsx(Ub,{className:"h-4 w-4"})}),o.jsx(B,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>Yr(Z.id),children:o.jsx(Im,{className:"h-4 w-4"})})]})]})})},Z.id)}),o.jsxs("div",{className:"space-y-2 pt-2",children:[o.jsx(co,{placeholder:"Escribe tu comentario...",value:P,onChange:Z=>I(Z.target.value),rows:3}),o.jsxs(B,{onClick:ft,disabled:!P.trim(),className:"w-full sm:w-auto",children:[o.jsx(d2,{className:"h-4 w-4 mr-2"}),"Enviar comentario"]})]})]})})]}),u&&o.jsxs(Y,{className:"mt-8 bg-gradient-to-r from-purple-50 to-indigo-50 border-purple-200",children:[o.jsx(oe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ae,{className:"flex items-center gap-2 text-purple-900",children:[o.jsx(wy,{className:"h-6 w-6"}),"Profesor Virtual"]}),o.jsx(B,{onClick:$t,disabled:O,variant:"outline",size:"sm",className:"border-purple-300 hover:bg-purple-100",children:O?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"h-4 w-4 mr-2 animate-spin"}),"Pensando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(wy,{className:"h-4 w-4 mr-2"}),"Pedir Explicacin"]})})]})}),o.jsx(J,{children:E?o.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:o.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap text-gray-700",children:E})}):o.jsx("p",{className:"text-sm text-purple-700",children:'Haz clic en "Pedir Explicacin" para obtener una explicacin detallada de la respuesta correcta.'})})]})]})})},gc=({mode:e,isPsicotecnico:t=!1})=>{const[r,n]=f.useState("config"),[s,a]=f.useState(null),i=Ge(),{toast:l}=Xt(),[c]=TI(),u={proceso:c.get("proceso"),temas:c.get("temas"),secciones:c.get("secciones")},d=p=>{a(p),n("quiz"),l({title:"Test iniciado!",description:`Comenzando test con ${p.numPreguntas} preguntas`})},h=p=>{i("/"),l({title:"Quiz completado!",description:`Has respondido ${p.correctAnswers}/${p.totalQuestions} preguntas correctamente`})};return r==="quiz"&&s?o.jsx(fU,{config:s,onComplete:h,onExit:()=>i("/")}):o.jsx(dU,{onStartQuiz:d,onBack:()=>i("/"),initialType:e,isPsicotecnico:t,initialProceso:u.proceso,initialTemas:u.temas,initialSecciones:u.secciones})},hU=({stats:e,onBack:t})=>{const r=e.totalQuestions>0?Math.round(e.correctAnswers/e.totalQuestions*100):0,n=e.totalQuestions-e.correctAnswers,s=i=>i>=80?"text-green-600":i>=60?"text-yellow-600":"text-red-600",a=i=>i>=80?"bg-green-100":i>=60?"bg-yellow-100":"bg-red-100";return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsxs(B,{variant:"ghost",onClick:t,className:"mr-4",children:[o.jsx(vt,{className:"w-4 h-4 mr-2"}),"Volver"]}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Tus Estadsticas"})]}),e.totalQuestions===0?o.jsx(Y,{className:"text-center py-12",children:o.jsxs(J,{children:[o.jsx(_t,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-600 mb-2",children:"An no has realizado ningn quiz!"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Comienza a practicar para ver tus estadsticas aqu"}),o.jsx(B,{onClick:t,className:"bg-blue-600 hover:bg-blue-700",children:"Empezar Primer Quiz"})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(Y,{className:"text-center",children:o.jsxs(J,{className:"pt-6",children:[o.jsx(_t,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),o.jsx("div",{className:"text-3xl font-bold text-gray-800",children:e.totalQuestions}),o.jsx("div",{className:"text-sm text-gray-600",children:"Preguntas Totales"})]})}),o.jsx(Y,{className:"text-center",children:o.jsxs(J,{className:"pt-6",children:[o.jsx(Rc,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),o.jsxs("div",{className:`text-3xl font-bold ${s(r)}`,children:[r,"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Precisin"})]})}),o.jsx(Y,{className:"text-center",children:o.jsxs(J,{className:"pt-6",children:[o.jsx(_a,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),o.jsx("div",{className:"text-3xl font-bold text-gray-800",children:e.averageTime>0?`${Math.round(e.averageTime)}s`:"-"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Tiempo Promedio"})]})}),o.jsx(Y,{className:"text-center",children:o.jsxs(J,{className:"pt-6",children:[o.jsx(lu,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),o.jsx("div",{className:"text-3xl font-bold text-gray-800",children:e.streakCount}),o.jsx("div",{className:"text-sm text-gray-600",children:"Racha Perfecta"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsxs(ae,{className:"flex items-center",children:[o.jsx(Rc,{className:"w-5 h-5 mr-2 text-green-600"}),"Anlisis de Precisin"]}),o.jsx(Le,{children:"Tu rendimiento en las respuestas"})]}),o.jsx(J,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:`p-4 rounded-lg ${a(r)}`,children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:`text-4xl font-bold ${s(r)} mb-2`,children:[r,"%"]}),o.jsx("div",{className:"text-sm text-gray-700",children:"Precisin General"})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Respuestas Correctas"}),o.jsx("span",{className:"font-semibold text-green-600",children:e.correctAnswers})]}),o.jsx(Br,{value:e.correctAnswers/e.totalQuestions*100,className:"h-2"}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Respuestas Incorrectas"}),o.jsx("span",{className:"font-semibold text-red-600",children:n})]}),o.jsx(Br,{value:n/e.totalQuestions*100,className:"h-2"})]})]})})]}),o.jsxs(Y,{children:[o.jsxs(oe,{children:[o.jsxs(ae,{className:"flex items-center",children:[o.jsx(Sa,{className:"w-5 h-5 mr-2 text-blue-600"}),"Rendimiento Temporal"]}),o.jsx(Le,{children:"Tu velocidad de respuesta"})]}),o.jsx(J,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:e.averageTime>0?`${Math.round(e.averageTime)}s`:"-"}),o.jsx("div",{className:"text-sm text-gray-700",children:"Tiempo Promedio por Pregunta"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Tiempo Ideal"}),o.jsx("span",{className:"text-green-600",children:" 20s"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Tiempo Aceptable"}),o.jsx("span",{className:"text-yellow-600",children:"21-30s"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Necesita Mejora"}),o.jsx("span",{className:"text-red-600",children:"> 30s"})]})]})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(Y,{children:[o.jsx(oe,{children:o.jsxs(ae,{className:"flex items-center",children:[o.jsx(Ki,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Logros Desbloqueados"]})}),o.jsx(J,{children:o.jsxs("div",{className:"space-y-3",children:[e.totalQuestions>=10&&o.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 rounded-lg",children:[o.jsx(Ki,{className:"w-6 h-6 text-yellow-600 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:"Principiante"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Has completado 10 preguntas"})]})]}),r>=80&&e.totalQuestions>=5&&o.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[o.jsx(Rc,{className:"w-6 h-6 text-green-600 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:"Precision Master"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Precisin superior al 80%"})]})]}),e.streakCount>=3&&o.jsxs("div",{className:"flex items-center p-3 bg-purple-50 rounded-lg",children:[o.jsx(lu,{className:"w-6 h-6 text-purple-600 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:"En Racha"}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Racha de ",e.streakCount," quiz perfectos"]})]})]}),e.totalQuestions<10&&o.jsxs("div",{className:"text-center text-gray-500 py-4",children:[o.jsx(_t,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),o.jsx("div",{children:"Sigue practicando para desbloquear ms logros!"})]})]})})]}),o.jsxs(Y,{children:[o.jsx(oe,{children:o.jsxs(ae,{className:"flex items-center",children:[o.jsx(Sa,{className:"w-5 h-5 mr-2 text-green-600"}),"Recomendaciones"]})}),o.jsx(J,{children:o.jsxs("div",{className:"space-y-3",children:[r<60&&o.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[o.jsx("div",{className:"font-semibold text-red-800 mb-1",children:"Mejora tu precisin"}),o.jsx("div",{className:"text-sm text-red-700",children:"Dedica ms tiempo a estudiar los temas antes de hacer quiz"})]}),e.averageTime>30&&o.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[o.jsx("div",{className:"font-semibold text-orange-800 mb-1",children:"Aumenta tu velocidad"}),o.jsx("div",{className:"text-sm text-orange-700",children:"Practica ms para responder ms rpidamente"})]}),r>=80&&e.averageTime<=25&&o.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[o.jsx("div",{className:"font-semibold text-green-800 mb-1",children:"Excelente trabajo!"}),o.jsx("div",{className:"text-sm text-green-700",children:"Mantn este ritmo y estars listo para el examen"})]}),o.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("div",{className:"font-semibold text-blue-800 mb-1",children:"Consejo general"}),o.jsx("div",{className:"text-sm text-blue-700",children:"Practica regularmente para mantener y mejorar tu rendimiento"})]})]})})]})]})]})]})})},pU=()=>{const e=Ge(),{user:t}=Ke(),[r,n]=f.useState({totalQuestions:0,correctAnswers:0,averageTime:0,streakCount:0});return f.useEffect(()=>{(async()=>{if(t!=null&&t.id)try{const a=Date.now().toString(),l=await(await fetch(`https://oposiciones-test.com/api/estadisticas_usuario.php?user_id=${t.id}&_ts=${a}`,{cache:"no-store"})).json();if(l&&!l.error){const c=parseInt(l.total_aciertos||0)+parseInt(l.total_fallos||0);n({totalQuestions:c,correctAnswers:parseInt(l.total_aciertos)||0,averageTime:parseFloat(l.nota_media)||0,streakCount:parseInt(l.total_tests)||0})}}catch(a){console.error("Error al cargar estadsticas:",a)}})()},[t==null?void 0:t.id]),o.jsx(hU,{stats:r,onBack:()=>e("/")})};function mU(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var Yg="ScrollArea",[cE,lB]=Et(Yg),[gU,Nr]=cE(Yg),uE=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=f.useState(null),[u,d]=f.useState(null),[h,p]=f.useState(null),[g,w]=f.useState(null),[v,b]=f.useState(null),[y,m]=f.useState(0),[x,j]=f.useState(0),[N,_]=f.useState(!1),[S,P]=f.useState(!1),I=ie(t,$=>c($)),k=xo(s);return o.jsx(gU,{scope:r,type:n,dir:k,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:S,onScrollbarYEnabledChange:P,onCornerWidthChange:m,onCornerHeightChange:j,children:o.jsx(Q.div,{dir:k,...i,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});uE.displayName=Yg;var dE="ScrollAreaViewport",fE=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:a,...i}=e,l=Nr(dE,r),c=f.useRef(null),u=ie(t,c,l.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),o.jsx(Q.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:CU({asChild:s,children:n},d=>o.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});fE.displayName=dE;var yn="ScrollAreaScrollbar",Qg=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Nr(yn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return f.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(vU,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(yU,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(hE,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(Jg,{...n,ref:t}):null});Qg.displayName=yn;var vU=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Nr(yn,e.__scopeScrollArea),[a,i]=f.useState(!1);return f.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(st,{present:r||a,children:o.jsx(hE,{"data-state":a?"visible":"hidden",...n,ref:t})})}),yU=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Nr(yn,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Md(()=>c("SCROLL_END"),100),[l,c]=mU("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),f.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const g=u[d];h!==g&&(c("SCROLL"),i()),h=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,a,c,i]),o.jsx(st,{present:r||l!=="hidden",children:o.jsx(Jg,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:H(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:H(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),hE=f.forwardRef((e,t)=>{const r=Nr(yn,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=f.useState(!1),l=e.orientation==="horizontal",c=Md(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return Ra(r.viewport,c),Ra(r.content,c),o.jsx(st,{present:n||a,children:o.jsx(Jg,{"data-state":a?"visible":"hidden",...s,ref:t})})}),Jg=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Nr(yn,e.__scopeScrollArea),a=f.useRef(null),i=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=yE(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function h(p,g){return SU(p,i.current,l,g)}return r==="horizontal"?o.jsx(xU,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollLeft,g=Wx(p,l,s.dir);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):r==="vertical"?o.jsx(wU,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollTop,g=Wx(p,l);a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),xU=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Nr(yn,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),u=ie(t,c,a.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mE,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Id(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const p=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),wE(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Au(i.paddingLeft),paddingEnd:Au(i.paddingRight)}})}})}),wU=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Nr(yn,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),u=ie(t,c,a.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(mE,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Id(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const p=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),wE(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Au(i.paddingTop),paddingEnd:Au(i.paddingBottom)}})}})}),[bU,pE]=cE(yn),mE=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=e,g=Nr(yn,r),[w,v]=f.useState(null),b=ie(t,I=>v(I)),y=f.useRef(null),m=f.useRef(""),x=g.viewport,j=n.content-n.viewport,N=Be(d),_=Be(c),S=Md(h,10);function P(I){if(y.current){const k=I.clientX-y.current.left,$=I.clientY-y.current.top;u({x:k,y:$})}}return f.useEffect(()=>{const I=k=>{const $=k.target;(w==null?void 0:w.contains($))&&N(k,j)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[x,w,j,N]),f.useEffect(_,[n,_]),Ra(w,S),Ra(g.content,S),o.jsx(bU,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:Be(a),onThumbPointerUp:Be(i),onThumbPositionChange:_,onThumbPointerDown:Be(l),children:o.jsx(Q.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:H(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),y.current=w.getBoundingClientRect(),m.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),P(I))}),onPointerMove:H(e.onPointerMove,P),onPointerUp:H(e.onPointerUp,I=>{const k=I.target;k.hasPointerCapture(I.pointerId)&&k.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=m.current,g.viewport&&(g.viewport.style.scrollBehavior=""),y.current=null})})})}),Ru="ScrollAreaThumb",gE=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=pE(Ru,e.__scopeScrollArea);return o.jsx(st,{present:r||s.hasThumb,children:o.jsx(jU,{ref:t,...n})})}),jU=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=Nr(Ru,r),i=pE(Ru,r),{onThumbPositionChange:l}=i,c=ie(t,h=>i.onThumbChange(h)),u=f.useRef(),d=Md(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=a.viewport;if(h){const p=()=>{if(d(),!u.current){const g=NU(h,l);u.current=g,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[a.viewport,d,l]),o.jsx(Q.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:H(e.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),w=h.clientX-g.left,v=h.clientY-g.top;i.onThumbPointerDown({x:w,y:v})}),onPointerUp:H(e.onPointerUp,i.onThumbPointerUp)})});gE.displayName=Ru;var Xg="ScrollAreaCorner",vE=f.forwardRef((e,t)=>{const r=Nr(Xg,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(_U,{...e,ref:t}):null});vE.displayName=Xg;var _U=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Nr(Xg,r),[a,i]=f.useState(0),[l,c]=f.useState(0),u=!!(a&&l);return Ra(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Ra(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(Q.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Au(e){return e?parseInt(e,10):0}function yE(e,t){const r=e/t;return isNaN(r)?0:r}function Id(e){const t=yE(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function SU(e,t,r,n="ltr"){const s=Id(r),a=s/2,i=t||a,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return xE([c,u],h)(e)}function Wx(e,t,r="ltr"){const n=Id(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=xp(e,c);return xE([0,i],[0,l])(u)}function xE(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function wE(e,t){return e>0&&e<t}var NU=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Md(e,t){const r=Be(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Ra(e,t){const r=Be(t);nt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function CU(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=f.Children.only(n);return f.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var bE=uE,EU=fE,PU=vE;const jE=f.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(bE,{ref:n,className:W("relative overflow-hidden",e),...r,children:[o.jsx(EU,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(_E,{}),o.jsx(PU,{})]}));jE.displayName=bE.displayName;const _E=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(Qg,{ref:n,orientation:t,className:W("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(gE,{className:"relative flex-1 rounded-full bg-border"})}));_E.displayName=Qg.displayName;const kU=({onBack:e})=>{const{user:t}=Ke(),[r,n]=f.useState([]),[s,a]=f.useState(!0),[i,l]=f.useState(""),[c,u]=f.useState(""),[d,h]=f.useState(""),[p,g]=f.useState(""),[w,v]=f.useState(null),[b,y]=f.useState(null),[m,x]=f.useState(null),[j,N]=f.useState(null),[_,S]=f.useState(!1);f.useEffect(()=>{t&&P()},[t,i,c,d,p]);const P=async()=>{if(!t)return;a(!0);const[D,E,T]=await Promise.all([be.getEstadisticasUsuario({user_id:t.id}),be.getEstadisticasUsuario({user_id:t.id,tipo_test:"simulacion"}),be.getEstadisticasUsuario({user_id:t.id,tipo_test:"examen"})]);v(D),y(E),x(T);const O=await be.getHistorialTests({user_id:t.id,tipo_test:i||void 0,desde:c||void 0,hasta:d||void 0,q:p||void 0});n(O),a(!1)},I=()=>{l(""),u(""),h(""),g("")},k=D=>D?new Date(D).toLocaleString("es-ES",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",$=D=>{if(!D)return[];try{return typeof D=="string"?JSON.parse(D):typeof D=="object"?D:[]}catch{return[]}},L=D=>{N(D),S(!0)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs(B,{variant:"ghost",onClick:e,children:[o.jsx(vt,{className:"w-4 h-4 mr-2"}),"Volver al Inicio"]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[w&&o.jsxs(Y,{className:"bg-blue-50 border-blue-200",children:[o.jsx(oe,{children:o.jsx(ae,{className:"text-lg text-blue-700",children:"Total (Simulacin + Examen)"})}),o.jsx(J,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{children:["Tests: ",o.jsx("strong",{children:w.total_tests})]}),o.jsxs("p",{className:"text-green-600",children:["Aciertos: ",o.jsx("strong",{children:w.total_aciertos})]}),o.jsxs("p",{className:"text-red-600",children:["Fallos: ",o.jsx("strong",{children:w.total_fallos})]}),o.jsxs("p",{className:"text-lg font-bold mt-3",children:["Nota media: ",o.jsx("span",{className:"text-green-600",children:parseFloat(w.nota_media).toFixed(2)})]})]})})]}),b&&o.jsxs(Y,{className:"bg-cyan-50 border-cyan-200",children:[o.jsx(oe,{children:o.jsx(ae,{className:"text-lg text-cyan-700",children:"Solo Simulaciones"})}),o.jsx(J,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{children:["Tests: ",o.jsx("strong",{children:b.total_tests})]}),o.jsxs("p",{className:"text-green-600",children:["Aciertos: ",o.jsx("strong",{children:b.total_aciertos})]}),o.jsxs("p",{className:"text-red-600",children:["Fallos: ",o.jsx("strong",{children:b.total_fallos})]}),o.jsxs("p",{className:"text-lg font-bold mt-3",children:["Nota media: ",o.jsx("span",{className:"text-green-600",children:parseFloat(b.nota_media).toFixed(2)})]})]})})]}),m&&o.jsxs(Y,{className:"bg-red-50 border-red-200",children:[o.jsx(oe,{children:o.jsx(ae,{className:"text-lg text-red-700",children:"Solo Exmenes"})}),o.jsx(J,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{children:["Tests: ",o.jsx("strong",{children:m.total_tests})]}),o.jsxs("p",{className:"text-green-600",children:["Aciertos: ",o.jsx("strong",{children:m.total_aciertos})]}),o.jsxs("p",{className:"text-red-600",children:["Fallos: ",o.jsx("strong",{children:m.total_fallos})]}),o.jsxs("p",{className:"text-lg font-bold mt-3",children:["Nota media: ",o.jsx("span",{className:"text-red-600",children:parseFloat(m.nota_media).toFixed(2)})]})]})})]})]}),o.jsxs(Y,{className:"mb-8",children:[o.jsx(oe,{children:o.jsx(ae,{children:"Filtros"})}),o.jsxs(J,{className:"space-y-4",children:[o.jsx(Va,{value:i,onValueChange:D=>l(D),children:o.jsxs(jo,{className:"grid w-full grid-cols-3",children:[o.jsx(Kt,{value:"",children:"Todos"}),o.jsx(Kt,{value:"simulacion",children:"Simulaciones"}),o.jsx(Kt,{value:"examen",children:"Exmenes"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ce,{htmlFor:"desde",children:"Desde"}),o.jsx(je,{id:"desde",type:"date",value:c,onChange:D=>u(D.target.value)})]}),o.jsxs("div",{children:[o.jsx(ce,{htmlFor:"hasta",children:"Hasta"}),o.jsx(je,{id:"hasta",type:"date",value:d,onChange:D=>h(D.target.value)})]})]}),o.jsxs("div",{children:[o.jsx(ce,{htmlFor:"buscar",children:"Buscar por tema/proceso"}),o.jsxs("div",{className:"relative",children:[o.jsx(Bb,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),o.jsx(je,{id:"buscar",placeholder:"Ej: Constitucin",value:p,onChange:D=>g(D.target.value),className:"pl-10"})]})]}),o.jsx(B,{variant:"outline",onClick:I,className:"w-full",children:"Limpiar filtros"})]})]}),o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Historial de Tests Realizados"}),s?o.jsx("p",{className:"text-center text-gray-600",children:"Cargando..."}):r.length===0?o.jsx("p",{className:"text-center text-gray-600",children:"No se han encontrado tests."}):o.jsx("div",{className:"space-y-4",children:r.map(D=>o.jsxs(Y,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>L(D),children:[o.jsxs(oe,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ze,{variant:D.tipo_test==="examen"?"destructive":"default",children:D.tipo_test==="examen"?"EXAMEN":"Simulacin"}),o.jsx(ze,{variant:D.estado==="finalizado"?"outline":"secondary",children:D.estado==="finalizado"?"Finalizado":"En progreso"})]}),o.jsx("span",{className:"text-sm text-gray-500",children:k(D.fecha_finalizacion||D.fecha_inicio)})]}),o.jsx(ae,{className:"mt-2",children:D.descripcion||"Sin descripcin"})]}),o.jsx(J,{children:o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Temas:"})," ",o.jsx("span",{className:"text-blue-600",children:D.temas})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Secciones:"})," ",o.jsx("span",{className:"text-blue-600",children:D.secciones})]}),o.jsxs("div",{className:"flex gap-4 mt-3",children:[o.jsxs("span",{children:[o.jsx("strong",{children:"Aciertos:"})," ",D.aciertos]}),o.jsxs("span",{children:[o.jsx("strong",{children:"Fallos:"})," ",D.fallos]}),o.jsxs("span",{children:[o.jsx("strong",{children:"Preguntas:"})," ",D.num_preguntas]})]}),D.nota&&o.jsxs("p",{className:"text-lg font-bold mt-2",children:["Nota: ",o.jsx("span",{className:"text-green-600",children:D.nota})]})]})})]},D.id))}),o.jsx(jg,{open:_,onOpenChange:S,children:o.jsxs(Nd,{className:"max-w-2xl max-h-[80vh]",children:[o.jsx(Cd,{children:o.jsxs(Ed,{children:["Detalles del Test ",(j==null?void 0:j.tipo_test)==="examen"?"Examen":"Simulacin"]})}),o.jsx(jE,{className:"max-h-[60vh] pr-4",children:j&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg mb-2",children:j.descripcion}),o.jsxs("p",{children:[o.jsx("strong",{children:"Fecha:"})," ",k(j.fecha_finalizacion||j.fecha_inicio)]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Temas:"})," ",o.jsx("span",{className:"text-blue-600",children:j.temas})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Secciones:"})," ",o.jsx("span",{className:"text-blue-600",children:j.secciones})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Aciertos:"})," ",o.jsx("span",{className:"text-green-600",children:j.aciertos})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Fallos:"})," ",o.jsx("span",{className:"text-red-600",children:j.fallos})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Preguntas:"})," ",j.num_preguntas]}),o.jsxs("p",{className:"text-lg",children:[o.jsx("strong",{children:"Nota:"})," ",o.jsx("span",{className:"text-green-600 font-bold",children:j.nota})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("h4",{className:"font-bold text-green-600 mb-2 flex items-center gap-2",children:[o.jsx(cu,{className:"w-5 h-5"}),"Preguntas Acertadas"]}),$(j.acertadas).length===0?o.jsx("p",{className:"text-gray-600",children:"Sin preguntas acertadas."}):o.jsx("div",{className:"space-y-2",children:$(j.acertadas).map((D,E)=>o.jsx(Y,{className:"bg-green-50",children:o.jsxs(J,{className:"pt-4",children:[o.jsxs("p",{className:"font-bold",children:[E+1,". ",D.pregunta]}),o.jsxs("p",{className:"text-sm mt-1",children:["Tu respuesta: ",o.jsx("span",{className:"text-green-600 font-bold",children:D.respuesta_usuario})]}),o.jsxs("p",{className:"text-sm text-blue-600",children:["Respuesta correcta: ",D.correcta_indice]})]})},`acertada-${E}`))})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("h4",{className:"font-bold text-red-600 mb-2 flex items-center gap-2",children:[o.jsx(Uh,{className:"w-5 h-5"}),"Preguntas Falladas"]}),$(j.falladas).length===0?o.jsx("p",{className:"text-gray-600",children:"Sin preguntas falladas."}):o.jsx("div",{className:"space-y-2",children:$(j.falladas).map((D,E)=>o.jsx(Y,{className:"bg-red-50",children:o.jsxs(J,{className:"pt-4",children:[o.jsxs("p",{className:"font-bold",children:[E+1,". ",D.pregunta]}),o.jsxs("p",{className:"text-sm mt-1",children:["Tu respuesta: ",o.jsx("span",{className:"text-red-600 font-bold",children:D.respuesta_usuario})]}),o.jsxs("p",{className:"text-sm text-blue-600",children:["Respuesta correcta: ",D.correcta_indice]})]})},`fallada-${E}`))})]})]})})]})})]})})},TU=()=>{const e=Ge();return o.jsx(kU,{onBack:()=>e("/")})},RU=({onBack:e})=>{const{user:t}=Ke(),[r,n]=f.useState([]),[s,a]=f.useState(!0),[i,l]=f.useState("");f.useEffect(()=>{c()},[i]);const c=async()=>{a(!0);try{const h=t!=null&&t.id?Number(t.id):void 0;console.log(" Cargando ranking con:",{userId:h,tipo:i});const p=await be.getRanking({user_id:h,tipo_test:i||void 0,limit:50});console.log(" Respuesta del ranking:",p),n(p.ranking)}catch(h){console.error(" Error al cargar ranking:",h),n([])}finally{a(!1)}},u=h=>h===1?o.jsx(Ki,{className:"w-6 h-6 text-yellow-500"}):h===2?o.jsx(a2,{className:"w-6 h-6 text-gray-400"}):h===3?o.jsx(lu,{className:"w-6 h-6 text-amber-600"}):null,d=h=>h===1?"bg-yellow-50 border-yellow-200":h===2?"bg-gray-50 border-gray-200":h===3?"bg-amber-50 border-amber-200":"";return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsx("div",{className:"mb-8",children:o.jsxs(B,{variant:"ghost",onClick:e,children:[o.jsx(vt,{className:"w-4 h-4 mr-2"}),"Volver al Inicio"]})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:[o.jsx(Ki,{className:"w-10 h-10 inline-block text-yellow-500 mr-2"}),"Ranking de Usuarios"]}),o.jsx("p",{className:"text-gray-600",children:"Los mejores estudiantes de Oposiciones-Test"})]}),o.jsxs(Y,{className:"mb-8",children:[o.jsx(oe,{children:o.jsx(ae,{children:"Filtrar por tipo de test"})}),o.jsx(J,{children:o.jsx(Va,{value:i,onValueChange:h=>l(h),children:o.jsxs(jo,{className:"grid w-full grid-cols-3",children:[o.jsx(Kt,{value:"",children:"Todos"}),o.jsx(Kt,{value:"simulacion",children:"Simulaciones"}),o.jsx(Kt,{value:"examen",children:"Exmenes"})]})})})]}),s?o.jsx("p",{className:"text-center text-gray-600",children:"Cargando ranking..."}):r.length===0?o.jsx("p",{className:"text-center text-gray-600",children:"No hay datos de ranking disponibles."}):o.jsx("div",{className:"space-y-3",children:r.map((h,p)=>{const g=p+1,w=(t==null?void 0:t.id)&&Number(t.id)===h.id;return o.jsx(Y,{className:`hover:shadow-lg transition-shadow ${d(g)} ${w?"ring-2 ring-blue-500":""}`,children:o.jsx(J,{className:"py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-white shadow",children:u(g)||o.jsxs("span",{className:"font-bold text-lg text-gray-700",children:["#",g]})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-bold text-lg",children:h.username||"Usuario Annimo"}),w&&o.jsx(ze,{variant:"default",children:"T"})]}),o.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 mt-1",children:[o.jsxs("span",{children:["Tests: ",o.jsx("strong",{children:h.total_tests})]}),o.jsxs("span",{className:"text-green-600",children:["Aciertos: ",o.jsx("strong",{children:h.total_aciertos})]}),o.jsxs("span",{className:"text-red-600",children:["Fallos: ",o.jsx("strong",{children:h.total_fallos})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:parseFloat(h.nota_media).toFixed(2)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Nota media"})]})]})})},h.id)})})]})})},AU=()=>{const e=Ge();return o.jsx(RU,{onBack:()=>e("/")})},OU=()=>{const{user:e}=Ke(),{toast:t}=Xt(),r=Ge(),[n,s]=f.useState(10),[a,i]=f.useState(""),[l,c]=f.useState(!1),[u,d]=f.useState(!1),[h,p]=f.useState(!1),[g,w]=f.useState(null);f.useEffect(()=>{const y=new URLSearchParams(window.location.search);y.get("success")==="true"?(t({title:"Gracias por tu donacin! ",description:"Tu apoyo es muy valioso para nosotros"}),r("/donacion",{replace:!0})):y.get("canceled")==="true"&&(t({title:"Pago cancelado",description:"El pago fue cancelado. Puedes intentarlo de nuevo cuando quieras.",variant:"destructive"}),r("/donacion",{replace:!0}))},[t,r]),f.useEffect(()=>{const y=async()=>{if(typeof window.google>"u"){const j=document.createElement("script");j.src="https://pay.google.com/gp/p/js/pay.js",j.async=!0,j.onload=()=>m(),document.body.appendChild(j)}else m()},m=()=>{var _,S;const x=window.google;if(!((S=(_=x==null?void 0:x.payments)==null?void 0:_.api)!=null&&S.PaymentsClient)){console.log("Google Pay API not available");return}const j=new x.payments.api.PaymentsClient({environment:"TEST"});w(j);const N={apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["MASTERCARD","VISA"]}}]};j.isReadyToPay(N).then(P=>{P.result&&(p(!0),console.log("Google Pay is ready"))}).catch(P=>{console.error("Error checking Google Pay availability:",P)})};y()},[]);const v=async()=>{if(!(e!=null&&e.id)){t({title:"Inicia sesin",description:"Debes iniciar sesin para donar",variant:"destructive"}),r("/auth");return}d(!0);try{console.log("Creating payment for user:",e.username);const y=e.username.includes("@")?e.username:`${e.username}@oposiciones-test.com`,{data:m,error:x}=await ns.functions.invoke("create-donation-payment",{body:{amount:n,userEmail:y}});if(x)throw console.error("Function invocation error:",x),x;if(!(m!=null&&m.url))throw new Error("No se recibi URL de pago");console.log("Payment session created, redirecting to:",m.url),window.open(m.url,"_blank"),t({title:"Redirigiendo a la pasarela de pago",description:"Se ha abierto una nueva pestaa con el formulario de pago"})}catch(y){console.error("Payment error:",y),t({title:"Error en el pago",description:"No se pudo completar el pago. Por favor, intenta de nuevo.",variant:"destructive"})}finally{d(!1)}},b=y=>{if(!(e!=null&&e.id)){t({title:"Error",description:"Debes estar autenticado para donar",variant:"destructive"});return}if(!a||a.length<9){t({title:"Error",description:"Por favor, introduce un nmero de telfono vlido",variant:"destructive"});return}c(!0),t({title:"Informacin de donacin",description:`Abre tu app de Bizum y enva ${y} al nmero que te mostraremos`})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs(B,{variant:"ghost",onClick:()=>r("/"),className:"mb-6",children:[o.jsx(vt,{className:"mr-2 h-4 w-4"}),"Volver"]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Apoya el proyecto "}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Puedes seguir usando la app gratuitamente. Si te aporta valor, considera realizar una donacin para ayudarnos a mantener y mejorar la plataforma."})]}),o.jsxs(Y,{className:"mb-8",children:[o.jsxs(oe,{children:[o.jsx(ae,{className:"text-center",children:"Elige tu mtodo de pago"}),o.jsx(Le,{className:"text-center",children:"Realiza tu donacin de forma rpida y segura"})]}),o.jsxs(J,{children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Selecciona el importe de tu donacin"}),o.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[5,10,20].map(y=>o.jsx(B,{variant:n===y?"default":"outline",onClick:()=>s(y),className:"h-20 flex flex-col",children:o.jsxs("span",{className:"text-2xl font-bold",children:[y,""]})},y))})]}),o.jsxs(Va,{defaultValue:"googlepay",className:"w-full",children:[o.jsxs(jo,{className:"grid w-full grid-cols-2",children:[o.jsxs(Kt,{value:"googlepay",children:[o.jsx(vy,{className:"w-4 h-4 mr-2"}),"Tarjeta"]}),o.jsxs(Kt,{value:"bizum",children:[o.jsx(mf,{className:"w-4 h-4 mr-2"}),"Bizum"]})]}),o.jsx(lo,{value:"googlepay",className:"space-y-4 mt-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Donars ",o.jsxs("span",{className:"font-bold text-blue-600",children:[n,""]})]})}),o.jsxs(B,{className:"w-full bg-black hover:bg-gray-800",size:"lg",onClick:v,disabled:u||!e,children:[o.jsx(vy,{className:"w-5 h-5 mr-2"}),u?"Procesando...":"Pagar con Tarjeta"]}),!e&&o.jsx("p",{className:"text-xs text-amber-600 text-center",children:"Debes iniciar sesin para donar"}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Pago seguro procesado por Stripe"})]})}),o.jsx(lo,{value:"bizum",className:"space-y-4 mt-4",children:l?o.jsxs("div",{className:"space-y-4 text-center",children:[o.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[o.jsx(mf,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),o.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Completa tu donacin"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Abre tu app de Bizum y enva ",o.jsxs("span",{className:"font-bold text-blue-600",children:[n,""]})," al nmero:"]}),o.jsx("div",{className:"bg-white p-4 rounded-lg border-2 border-blue-200",children:o.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"612345678"})}),o.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Concepto: Donacin Oposiciones-Test"})]}),o.jsx(B,{variant:"outline",onClick:()=>c(!1),className:"w-full",children:"Cambiar importe o mtodo"}),o.jsx(B,{onClick:()=>{t({title:"Muchas gracias! ",description:"Tu apoyo es muy valioso para nosotros"}),setTimeout(()=>r("/"),2e3)},className:"w-full",children:"Ya he completado la donacin"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Tu nmero de telfono (opcional)"}),o.jsx("input",{type:"tel",placeholder:"612345678",value:a,onChange:y=>i(y.target.value),className:"w-full px-4 py-2 border border-input bg-background rounded-lg focus:outline-none focus:ring-2 focus:ring-ring",maxLength:9}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Para confirmar tu donacin (no se compartir)"})]}),o.jsxs(B,{className:"w-full",size:"lg",onClick:()=>b(n),children:[o.jsx(mf,{className:"w-5 h-5 mr-2"}),"Donar ",n," con Bizum"]}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Solo disponible en Espaa"})]})})]})]})]}),o.jsxs(Y,{children:[o.jsx(oe,{children:o.jsx(ae,{children:"Por qu donar?"})}),o.jsxs(J,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:o.jsx("span",{className:"text-blue-600 text-sm",children:""})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Mantn la plataforma gratuita"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Tu donacin ayuda a mantener Oposiciones-Test accesible para todos"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:o.jsx("span",{className:"text-blue-600 text-sm",children:""})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Nuevas funcionalidades"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Ayuda a financiar el desarrollo de nuevas caractersticas"})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:o.jsx("span",{className:"text-blue-600 text-sm",children:""})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Soporte y mejoras"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Permite mantener el servidor y mejorar continuamente la experiencia"})]})]})]})]}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx(B,{variant:"outline",size:"lg",onClick:()=>r("/"),children:"Continuar sin donar"})})]})})},IU=()=>{const e=Fn();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},MU=new NO,DU=()=>o.jsx(EO,{client:MU,children:o.jsx(p4,{children:o.jsxs(C1,{children:[o.jsx(Z2,{}),o.jsx(PR,{}),o.jsx(_I,{children:o.jsxs(Vy,{children:[o.jsx(Re,{path:"/auth",element:o.jsx(F5,{})}),o.jsx(Re,{path:"/privacy-policy",element:o.jsx(o3,{})}),o.jsx(Re,{path:"/*",element:o.jsx(m4,{children:o.jsx(b5,{children:o.jsxs(Vy,{children:[o.jsx(Re,{path:"/",element:o.jsx(P5,{})}),o.jsx(Re,{path:"/test",element:o.jsx(gc,{mode:"simulacion"})}),o.jsx(Re,{path:"/simulacro",element:o.jsx(gc,{mode:"examen"})}),o.jsx(Re,{path:"/test-psicotecnico",element:o.jsx(gc,{mode:"simulacion",isPsicotecnico:!0})}),o.jsx(Re,{path:"/simulacro-psicotecnico",element:o.jsx(gc,{mode:"examen",isPsicotecnico:!0})}),o.jsx(Re,{path:"/estadisticas",element:o.jsx(pU,{})}),o.jsx(Re,{path:"/historial",element:o.jsx(TU,{})}),o.jsx(Re,{path:"/ranking",element:o.jsx(AU,{})}),o.jsx(Re,{path:"/donacion",element:o.jsx(OU,{})}),o.jsx(Re,{path:"/profile",element:o.jsx(s3,{})}),o.jsx(Re,{path:"/resumenes",element:o.jsx(a3,{})}),o.jsx(Re,{path:"/resumenes/:id",element:o.jsx(c3,{})}),o.jsx(Re,{path:"/crear-resumen",element:o.jsx(U3,{})}),o.jsx(Re,{path:"/crear-test",element:o.jsx(B3,{})}),o.jsx(Re,{path:"/crear-psicotecnicos",element:o.jsx(W3,{})}),o.jsx(Re,{path:"/planes-estudio",element:o.jsx(e6,{})}),o.jsx(Re,{path:"/crear-plan-estudio",element:o.jsx(t6,{})}),o.jsx(Re,{path:"/plan-estudio/:id",element:o.jsx(w6,{})}),o.jsx(Re,{path:"/planes-fisicos",element:o.jsx(K8,{})}),o.jsx(Re,{path:"/planes-fisicos/:id",element:o.jsx(Y8,{})}),o.jsx(Re,{path:"/test-personalidad",element:o.jsx(uU,{})}),o.jsx(Re,{path:"*",element:o.jsx(IU,{})})]})})})})]})})]})})});hb(document.getElementById("root")).render(o.jsx(V.StrictMode,{children:o.jsx(DU,{})}));
